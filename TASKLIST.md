# Dev Task TODO

## Priority: high
- [done] マップモードのサイズを変更する
  - [done] マップのノードとエッジがマップモードの中央に来るように配置する
- [done] マップモードに分岐を入れる
  - [done] マップモードに難易度別の以下の分岐に変更する
    - [done] practice
      - [done] easy
        - [done] middle
          - [done] ending
        - [done] hard
          - [done] ending
- スコア計上の仕様を変更する
  - スコアの計算方法を以下に変更する
    - 残時間（秒数）x 1 ＋　クリアーボーナス
- ピクロスモードでリアルタイム正解表示を行う
  - ピクロスモードで正解をFillした瞬間、答えとあっていた場合は、その場で特別ボーナスをスコアに計上する
    - 特別ボーナススコア
      - 100
- [done] マップモードの変更
  - マップモードのノードとエッジを進むほど右上にノードが伸びていくように表現
  - エッジが曲がったパスになっているがこれを直角直線に変更
- [done] ~~デバッグモードの追加~~
  - [done] ~~デバッグモードオンの際に以下ができるようにする~~
    - [done] ~~マップジャンプ機能~~
      - [done] ~~デバッグモードがオンの場合に、好きなレベルに移動できるようにする~~
- [done] ~~フォントサイズ（全画面共通）の変更~~
  - [done] ~~画面右上に、フォントサイズを選択できるUIを記載する~~
    - [done] ~~デフォルトをフォントサイズ150%とする~~
    - [done] ~~100%,150%,200%から選択できるものとする~~
    - [done] ~~選択肢はボタンで表示する~~
- [done] ~~スコアの表示の追加~~
  - [done] ~~タイムアタック性とスコア獲得性を出すためにスコアを表示する~~
    - [done] ~~表示位置~~
      - [done] ~~画面左上~~
    - [done] ~~スコアの計算方法~~
      - [done] ~~残時間（秒数）x 100 ＋　クリアーボーナス~~
      - [done] ~~クリアーボーナスはレベルごとに異なる~~
        - [done] ~~practice : 1000点~~
        - [done] ~~easy : 5000点~~
        - [done] ~~middle : 10000点~~
        - [done] ~~high : 15000点~~
        - [done] ~~ultra : 20000点~~
    - [done] ~~スコアの計算タイミング~~
      - [done] ~~ピクロスをクリアした際に計上する~~
    - [done] ~~スコアの計上時の効果音~~
      - [done] ~~金貨が溜まるような効果音を入れる~~
      - [done] ~~スロットマシンのような表示~~
        - [done] ~~計上するまでは高速に数字を表示し、確定したタイミングで計上した値を表示する~~
    - [done] ~~スコアのリセット~~
      - [done] ~~スコアは以下の場合にクリアされる~~
        - [done] ~~NewGame時~~
        - [done] ~~ゲームオーバー時~~
        - [done] ~~エンディング終了時~~
- [done] ~~GAMEDESIGN.mdに定義された敵毎との会話の実装~~
- [done] ~~会話モードの追加~~
  - 概要
    - ノードクリック時に、お題を出す相手と会話をするモードを追加する
  - 追加したい仕様
    - ASIS
      - ノードクリック後、すぐにピクロスゲーム画面に遷移する
    - TOBE
      - **会話モード** を新たに設ける
        - 概要
          - 敵キャラクターと主人公の会話を表現する
          - 主人公の会話と敵キャラクターの会話を経てからピクロスが開始する
        - 背景音楽
          - assets/bgm/\*(任意)
        - ノードクリック後、会話モード変遷移する
        - 会話モード
          - 表示
            - 主人公の画像
              - ファイル
                - （テスト用の四角画像）
                - ラベル：${HERO_NAME}
              - レイアウト
                - 左端、会話のウィンドウにかからない程度
              - 画像
                - 200px x 100px 青四角（テスト表示）
            - 敵の画像
              - ファイル
                - （テスト用の四角画像）
                - ラベル：敵の名前
              - レイアウト
                - 右端、会話のウィンドウにかからない程度
              - 画像
                - 200px x 100px 赤角（テスト表示）
            - 会話のウィンドウ
              - 左上
                - セリフの話者の名前
              - 中央
                - セリフ
          - 操作
            - クリック または Enterキーの入力を受け付け
              - 会話を進める
          - 内部状態
            - 会話スクリプトを読み込み表示
              - practiceの会話
                - START
                - No.1
                  - 話者
                    - 主人公
                  - セリフ
                    - "あなたは…"
                - No.2
                  - 話者
                    - 敵キャラクター
                  - セリフ
                    - "よくここまできたわね、私が相手してあげましょう…"
                - No.3
                  - 話者
                    - 主人公
                  - セリフ
                    - "押し通る！"
                - END
              - easyの会話
                - 適当に生成（後ほど実装）
              - normalの会話
                - 適当に生成（後ほど実装）
              - hardの会話
                - 適当に生成（後ほど実装）
            - 相手の画像会話モード終了後、ピクロスモードに遷移

- [done] ~~ノードクリック時の効果音追加~~
  - ノードをクリックして移動したときに、ざっざっざと歩くような音を
- [done] ~~オープニングで利用する背景画像を固定化~~
  - ファイル名
    - title.png
- [done] ~~practiceで利用する敵キャラクターの画像に以下を利用~~
  - 会話モード
    - 普
      - ファイル名： practice/riene_normal.png
    - 怒
      - ファイル名： practice/riene_angry.png
- [done] ~~practice以外で利用する敵キャラクターの画像に以下を利用~~
  - easyで利用する敵キャラクターの画像に以下を利用
    - 会話モード
      - 普
        - ファイル名： practice/riene_normal.png
      - 怒
        - ファイル名： practice/riene_angry.png
  - normalで利用する敵キャラクターの画像に以下を利用
    - 会話モード
      - 普
        - ファイル名： practice/riene_normal.png
      - 怒
        - ファイル名： practice/riene_angry.png
  - hardで利用する敵キャラクターの画像に以下を利用
    - 会話モード
      - 普
        - ファイル名： practice/riene_normal.png
      - 怒
        - ファイル名： practice/riene_angry.png
- [done] ~~会話モードで、キャラクターを表示する際に、効果をつける~~
  - 画像の表示時にフェードするように表示する
  - 画像の枠に、会話ウィンドウと同じスタイルの太枠を付与する
- [done] ~~会話モード~~
  - 各レベル
    - practice の会話をGAMEDESIGNに定義どおり実装
    - easy の会話をGAMEDESIGNに定義どおり実装
    - normal の会話をGAMEDESIGNに定義どおり実装
    - hard の会話をGAMEDESIGNに定義どおり実装
    - ultra の会話をGAMEDESIGNに定義どおり実装

# Issues and Bugs

## Priority: high
- [done] ~~ウィンドウ内の文字表示（全画面共通）の修正~~
  - [done] ~~プロローグと同じ表示方式で、オープニングモード、会話モード、それぞれ統一する~~
- [done] ~~プロローグの表示方式の修正~~
  - [done] ~~ウィンドウサイズの縦幅がやや大きいため、現在の高さの75%程度にする~~
- [done] ~~プロローグの会話ウィンドウ内の文字の表示の修正~~
  - [done] ~~文字をセンタリングする~~
- [done] ~~名前入力画面の不具合修正~~
  - [done] ~~名前入力画面で、ボタンを右端に寄せたことで、カタカナの並びが崩れたので、ウィンドウサイズを広げて文字は５文字ずつ、５行ずつの表示にする~~

- [done] ~~マップモードの変更~~
  - マップの定義からエンディングのノードを削除
    - ultraのピクロスが終了した後にエンディングモードへ移行する
- [done] ~~会話モードの表示修正~~
  - 会話モード中に表示している主人公と敵の表示枠にあわせて画像を拡大
  - 表示枠を超える画像部分はトリミングして表示
- [done] 会話モードの表示修正
  - 画像のサイズを画像表示のサイズにリサイズ
- [done] ~~会話モード内の会話の進行のためのボタンを付記~~
  - 次へボタン
    - 動作
      - 次の会話を表示
      - 会話の内部状態を次まで進める
  - スキップボタン
    - 動作
      - 会話を会話のENDまでスキップする
      - 会話の内部状態をENDまで進める
- [done] ~~会話モード内の操作指示の文章は削除~~
- [done] ~~ノードイベントで、キャラクター別のピクロスの画像が簡単すぎるかつ難易度にあわせて難しくなっていない~~
  - 難易度別にあわせた複雑かつ、ピクロスとして解が一意に成り立ち、適切なヒントがあり、出来上がりのゲーム様々なドット絵になること
- [done] ~~オープニング画面で、NewGameを行ったときに、「削除してよろしいですか」の確認を削除する~~
- [done] 会話モードで、easy/hard/ultra のキャラクター画像サイズが仕様と不一致
  - 対応：GAMEDESIGN.mdの指定（380x487フレーム、contain）に統一
- [done] ~~ノードをクリックして移動したときに、音を鳴らした瞬間に画面遷移をしているので、音を鳴らし終わってから遷移するように変更~~

## Priority: normal

- (nothing)

# Improvement
- [done] ピクロスモードの変更
  - [done] ステージクリアのダイアログを無くす
  - [done] ステージクリア時のSEを無くす
- [done] コイン計上時のSEのボリュームを下げる
  - コイン計上時のSEのコイン音をよりコイン音に近づける
- コイン計上時のSEの鳴らし方を変更する
  - コイン音は計上中に鳴らすのではなく、１回だけChimeを鳴らす
- [done] ~~スコアの音の変更~~
  - [done] ~~８ビットゲームのような音なスコアを得たような音に変更する~~
- [done] ~~ピクロスモードでのクリアー時の効果の変更~~
  - [done] ~~ファンファーレの音を無くす~~
  - [done] ~~ステージクリアのダイアログを無くす~~
- [done] ~~ピクロスクリア時のファンファーレをよりメロディアスおよびゲームクリア―感を出す~~
- [done] ピクロスモードのクリック時の効果音の変更
  - [done] 金属音ではなく、ガラスをたたく音もしくは、水のような音、もう少し優しい感触の音にする
  - [done] クリックした時に、エフェクトを入れる
    - [done] 魔法を使って発掘したようなエフェクトを入れる
- [done] マップモードの変更
  - [done] マップモードのノードクリック時に、キャラクターの画像を移動元から移動先までエッジに沿って、２秒程度で移動させる
  - [done] 移動終了後に、ノードの上に「Enemy Encount！」を小さい吹き出しで表示する
  - [done] そのあと会話モードに移行する
- [done] ~~エンディングの追加~~
  - エンディングモードを追加し、ストーリーテキストスクロール／FIN／スタッフロールの流れを実装
- [done] ~~会話モードの写真表示枠の背景色~~
  - 背景色を青（#1e3a8a）に統一
- [done] ~~オープニングのタイトル位置の修正~~
  - タイトルを画面中央やや左上、ボタンを画面中央やや右下に配置
- [done] ~~名前入力モードのウィンドウ位置の変更~~
  - ~~画面中央にレイアウトする~~
- [done] ~~オープニングの変更~~
  - ~~"New Game"ボタンを押下した時に、BGMのステータスをONにする~~
- [done] デバッグモードの追加
  - 表示
    - デバッグモードボタン
  - 動作
    - デバッグモードを切り替える
  - 内部状態
    - デバッグモード
      - オン
      - オフ
  - 効果
    　- デバッグモードオンの場合 - ピクロスの進行状況に関係なく、Submitをした後、ゲームクリアの判定になる
    - デバッグモードオフの場合
      - 通常のピクロスの進行状態に合わせた、判定になる
- [done] ~~マップモードの変更~~
  - 表示
    - マップの位置を画面の中央に配置
    - マップを画面全体に拡大
- [done] 会話ウィンドウの変更
  - 表示
    - [done] ~~会話ウィンドウの表示位置を画面の中央より下段に配置~~
    - [done] ~~敵キャラクターの表示位置を画面右へ配置~~
    - [done] ~~主人公の表示位置を画面左へ配置~~
- [done] ピクロスの表示の変更
  - [done] ~~ピクロスの縦横が小さいので、画面の高さ全体に拡大~~
  - [done] ~~文字やヒントの数字についても、ピクロスの縦横にあわせて拡大~~
- [done] 音の変更
  - ピクロスクリアーの音を変更
    - [done] ~~クリアーの音を勝利音風の音に変更~~
    - [done] ~~メロディアスな音に変更する~~
    - [done] ~~音源をトランペットのような音源に変更する~~
- [done] ピクロスクリアー時の表示効果の変更
  - クリア時に、クリアの表示に効果を付与する
    - 効果
      - [done] ~~フェードイン~~
- [done] 全般のフォント
  - [done] ~~丸みを帯びた文字でかわいい文字にする~~
- [done] ~~名前入力モードの変更~~
  - 決定ボタンを右端にレイアウトする
  - 名前入力以外の操作ボタンも右側にレイアウトする
- [done] ~~プロローグモードの変更~~
  - 表示
    - 会話ウィンドウが文字の表示にあわせてサイズを変えない
- [done] ~~ピクロスモード時の効果音の変更~~
  - ピクロス画面でチェックを入れた時に、効果音を入れる
    - 効果音は意思を削りだしたような効果音にする
- [done] ~~全モード全画面の変更~~
  - ウィンドウの表示の仕方
    - ウィンドウの形はそのままサイズをそのままにし表示しておく
    - 文字を表示する際に、ウィンドウの中に文字をフェードインする
    - 次の文字を表示する際に、ウィンドウの中から文字をフェードアウトして、次の文字をフェードインする

## Priority: normal
- [done] ~~オープニングの変更~~
  - タイトル画面を画面中央に配置
- [done] ~~プロローグの変更~~
  - プロローグの表示を画面中央に配置
- [done] ~~名前決定モード終了後に、元の画面に戻り、会話の続きから始まる~~
- [done] ~~会話の続きで、入力した値が利用・表示される~~
- [done] ~~名前解決モード、会話モードのウィンドウを以下に変更する~~
  - ウィンドウ背景：青色
  - ウィンドウ枠：金色
