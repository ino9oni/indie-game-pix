# Idea Memo

**このセクションはアイディアを書き止めておく場所です**
**このセクションに記載の内容を実装したい場合は、TASKやBUGに移動させますので、このセクションに記載の内容はすべて保留にしてください**
**ただし、将来的に記載のような変更が入る可能性があるため、そのような変更にも対応可能なような変更容易性を加味した内部設計を心がけるようにしてください**

- リスクとリターンを考える

  - アイディアリスト：
    - 何故そのゲームが面白いと感じるのか
      - ゲーム性を上げると一般性が落ちる
        - ゲーム性
          - リスクとリターン
            - 自分がコンボを貯めると、相手の邪魔ができる
              - 邪魔のレベルを制御できる
                - 05コンボ　ー＞　２つランダムで元に戻す
                - 10コンボ　ー＞　４つランダムで元に戻す
                - 15コンボ　ー＞　６つランダムで元に戻す
                - 20コンボ　ー＞　８つランダムで元に戻す
                - 25コンボ　ー＞１０つランダムで相手のピクロスモードを元に戻す
              - ただしコンボを狙い過ぎると、時間がかかるので相手がクリア―してしまう可能性が高まる
        - カジュアル性
          - ルールは簡単、誰でも知っている、チュートリアルを設ける
          - 基本は、ボードのサイズを大きすぎないようにしてとにかくお題をクリアーすることを楽しむ（５ｘ５）
        - ターゲット層　
          - ピクロスをあまり知らない層
          - ピクロスは何となくわかっているが難しいことを考えずに楽しみたい層
          - エルフのキャラクターを楽しみたい・好きな層

- 桜井さんの教え・Tips
  - 企画：プレイヤーを楽しませることを優先する
  - 企画：ゲーム性とはリスクとリターンが本質
  - 何故そのゲームが面白いと感じるのか＝ゲーム性
  - ゲーム性を上げると一般性が落ちる
    - ゲーム性がゲームのすべてではない
  - 何かの仕様を入れる場合に、相反する要素を入れる
  - ストレス、解消、成長、進展　を意識する
  - 遊びの本質４つ
  - クリアできなくてゲームをやめてしまうよりかは、クリアできたほうがよい
  - ボタンを押下した何か反応を返してくれる方が良い
  - チュートリアルは自然に入らせる
  - まずはゲームそのものをやらせてみる
  - 企画・ゲーム設計：業界のデファクトスタンダードは使えるとはなしが早い
  - 企画・ゲーム設計：カスタマイズは想像で遊ぶ、制作工程とその結果を示す
    - 見た目で直観的にわかるようにする
    - メリットデメリットがはっきりさせる
    - カスタマイズするものを選びやすいようにする
      - 自動装備
    - お試しが迅速、その場で確認
    - デザイン的にかっこよくする
  - 企画・ゲーム設計：同じような作品、元と作品をオマージュするにしても、別の魅力が複数ある必要がある
    - 魅力は方向性
  - 企画・ゲーム設計：ゲームのアトラクトデモ（ゲームをする前に
    - コンピュータープレイヤーの作り方が重要
    - 楽しませるのが目的
  - 企画・ゲーム設計：ゲーム内ムービー長すぎないようにする
  - 企画・ゲーム設計：最初にクライマックスをもってくる
  - 企画・ゲーム設計：初心者には優しく、気持ちよく
    - 手ほどきがすぎないようにする、ほどほどに自分で入っていけるようにもする
  - 企画・ゲーム設計：頂く時間を意識する。必要以上に時間がかかり過ぎない
  - 仕様：ゲーム内に組み込む仕組みの考え方、よりコンピュータと向き合う
  - 仕様：大事なところをストップ
    - ヒットストップ、ヒットしたときにストップ
    - bossストップ、ボスを倒したときにストップ
    - そのまま、とめる、止める＋振動、止める＋新藤＋スロー
  - 仕様：物理ボタンに重たさを感じさせる
    - ゲームは、コンピュータから目と耳で情報を受け取り（情報伝達）、手で自らの情報を与えて遊ぶ
  - 仕様：ジャンプの仕組み

- ご褒美
  - 実績アンロック

- ゲームコントローラを利用できるようにする
  - ゲームのコントローラで、以下の操作を可能にする
  - プロローグモード
    - 決定ボタン：Nextボタンの操作
  - オープニングモード
    - 上下ボタン：NewGameかContinueを選択できる
    - 決定ボタン：
  - 名前決定モード
    - 上下左右ボタン：カーソルの移動
  - ゲームのコントローラでの操作時の表示仕様
    - コントローラで操作している場合はフォーカスが当たっていることを表示すること
      - 例：ボタンを決定する場合、そのボタンをフォーカスすること
  - ゲームのコントローラでの操作時のその他仕様
    - どのゲームモードでも統一感のある操作となるようにする
      - 例：どのモードでも、決定ボタンは常に同じ、キャンセルボタンは常に同じ
      - 例：決定ボタンは「OK、Next、Continue」等、キャンセルボタンは「Skip」など

- ネットワーク対戦モードの導入
  - ルームを用意しネットワーク越しに対戦が可能


# Dev Task TODO

## Template
- 新規に追加したいFeatureの概要
  - 背景・目的
  - 作成日
  - 追加したい箇所や場所
  - 仕様

## Priority: high

- [done] エンドレス一人プレイ用のモードを追加
  - 背景・目的
    - 現状ストーリーモード一択しかないので、単純に自分のペースでピクロスを楽しみたい人向けの内容を提供したい
    - CPU・ENEMYと対戦せずに自分のペースでずっと様々なピクロスだけを楽しみたい人用のモードを用意する
  - 作成日
    - 2025/11/22
  - 追加したい箇所や場所
    - オープニング画面
  - 仕様
    - 既存のNewGameはストーリーモードに変更
      - ボタンにカーソルを当てるとカワイイ吹き出しのような形で以下を表示
        「ストーリーに沿ってelfpixを進めるモードです」
    - その下にエンドレスモードを追加する
      - エンドレスモード
        - 盤面のサイズは5 x 5か 10 x 10を最初に選ぶことが可能
        - マップモード、会話モードの表示なし
        - 敵のボードは表示せず、HEROだけ中央に表示する
        - 動的にお題を次々生成する
          - 生成されるお題は解を１つとし、ヒントもバランスよく表示されること（行列の数字が大きすぎるヒントばかりにならないように、逆に少なすぎる数字で足がかかりがなさすぎないように）
          - お題の生成はピクロスを開始する前に行う（20個程度）
            - お題生成中に時間がかかる場合は、ローディング画面を表示してもよい
          - ピクロスのお題が残り１割になったタイミングで追加生成する
        - ユーザがQuitを推せば、ゲーム終了の意思を確認し、
          OKであればゲームを終了し、エピローグ画面まで戻る
        - ボタンにカーソルを当てるとカワイイ吹き出しのような形で以下を表示
          「エンドレスなelfpixにチャレンジするモードです」

- [done] スペル発動時の効果を追加
  - 背景・目的
  　スペル発動時の必殺技感がないので、必殺技であることを示すような効果を入れたい
  - 作成日
    2025/11/08
  - 追加したい箇所や場所
    ピクロスモードの効果発動時
  - 仕様
    - スペル発動時に画面を止める、ピクロスボードのグラフィックを暗転させる
    - スペル発動時にキャラクタ画像が左から現れてスペルを唱える
      - キャラクターの必殺技用の画像は今のところ会話時の怒りの画像を利用
    - ゲームを再開し相手のボード以下のスペルの発動効果を重ねる（その瞬間からプレーは可能）
    - スペル発動時にVisualとして3DのVisualを差し込みたい
      例：🔥であれば3Djs等を利用して、炎のエフェクトのようなエフェクトをレイヤーで差し込むイメージ
      PRACTICE：光が差し込むような3D Visual Effect
      EASY：水が流れ込むような3D Visual Effect
      MIDDLE：落石のような3D Visual Effect
      HARD：毒のような3D Visual Effect
      ULTRA：炎で焼けるような3D Visual Effect

- [done] チュートリアルにコンボ・スペル・ジャマ―の説明を入れる
  - 背景・目的
    コンボ・スペルの概念がぱっと見わかりづらいので、チュートリアルに入れたい
  - 作成日
    2025/11/06
  - 追加したい箇所や場所
    チュートリアルモード
  - 仕様
    基本説明が終了したあとユーザに選択させる
      このままオープニング画面に戻る
      「コンボ・スペル」の説明に移る
    コンボ・スペルの説明に移る押下時に以下の流れで説明する。
      - コンボとは
        - 正解または不正解の箇所のマーキングが連続した回数を意味します
        - 一度でも途切れると０からのカウントになります
      - コンボになる条件
        - 正解の箇所をマークした場合
        - または×の箇所で正解の箇所をマークした場合はカウントされます
      - スペルとは
        - 各キャラクターが持つ特殊能力
        - 特殊能力を発動させることで「ジャマ―」を発動させる
      - ジャマーとは
        - ジャマーの効果は、相手のピクロスボードにダメージ（手戻り）を与え
        - ピクロスのお題のクリアを阻む効果を持つ
        - コンボを貯めれば貯めるほどジャマ―の効果は強くなります
        - おおむね度のキャラクターも効果については同じで、Lv1～Lv５まであります
      - スペルが発動する条件
        - コンボ数に応じて発動できるスペル
        - コンボ数を貯めることで発動し相手に与えるジャマ―
      - スペルの使い方
        - スペル名がアクティブになった場合にスペル名が点灯します
        - その際にスペル名をクリックすると、スペルが発動します
        - スペルを利用するとコンボ数がクリアされます
      - 戦略
        - コンボをためると相手に多くのジャマーで妨害できます
        - しかしコンボを溜めすぎると相手が先にお題をクリアしてしまう可能性も高まります
        - コンボをギリギリまでためて利用して逆転を狙うもよし、スピードを上げてお題をクリアして逃げ切ることもできます
        - プレイスタイルはプレイヤー次第です

- [done] ゲーム開始時のデバッグモードのステータスを以下に変更する
  - マップモードの表示：オフ
  - お題サブミット時の挙動：オフ
- [done] ENEMYが勝利した際にはのHEROの敗北画面を表示する
  - ENEMY側が先にすべてのお題をクリアーした場合、「${HERO_NAME} LOSE」を表示する
    - 表情表示のアセット
      - 表示画像：public/assets/img/character/hero/hero_lose.png
    - 表示文言
      - 「${HERO_NAME} LOSE」を表示する
    - サウンド：
      敗北感のある曲を流す
- [done] 後半のENEMY（MIDDLE,HARD,ULTRA）の盤面のサイズを変更する
  - 背景：ピクロスの盤面サイズが大きすぎてプレイに時間がかかる
  - 変更：ピクロスの盤面のサイズを小さくする、その代わりにお題の数を増やす
    - 盤面のサイズ指定：
      - MIDDLE : 5 x 5
      - HIGH : 10 x 10
      - ULTRA : 10 x 10
    - お題数の指定
      - MIDDLE : 5
      - HIGH : 3
      - ULTRA : 5
- [done] お題を動的に毎回変更・シャッフルする
  - 毎回プレイ毎に、動的に生成されたお題は必ず解くことができる
  - お題そのものは、相手と同じでよいが、相手と異なるお題の順序にする
  - 出来た回答は何らかの意味ある形の画像となるように生成する
    - その上で、ピクロスのルールを満たす形であるとする
    - 解は常に１つで、解くことができる答案とする（ヒントが無さ過ぎまたは多過ぎて解けないことがないようなお題を生成する）
    - 左右対称は可能な限り避ける
- [done] チュートリアルモードの背景画像の変更
  - 概要：チュートリアルモードの背景画像を変更する
  - 仕様：
    - 背景画像：public/assets/img/background/tutorial_bg.png
- [done] 勝利画面の背景画像の変更
  - 概要：勝利画面の背景画像を変更する
  - 仕様：
    - 背景画像：public/assets/img/background/win_bg.png
- [done] チュートリアルとプラクティスの追加
  - 概要：ピクロスについて詳しくないプレイヤー向けにルールを説明する
  - 背景：ピクロスを知らないユーザは、ルールを知らずにプレイできないため、チュートリアルを作成したい
  - 変更点：
    - UIの変更
      - オープニング画面に「チュートリアル（Tutorial）」ボタンを追記する
        - 追加位置：NewGame　の上側
    - 動作の変更
      - Tutorialボタンを押下した場合、Tutorialモードへ移行
    - チュートリアルモード
      - 左側に解説用のキャラクターの画像（未定）を表示する
      - 右側にサンプルのピクロス盤面を表示する
      - 下段に説明用のウィンドウを表示する
    - チュートリアルの進行
      - 以下の順番で説明し、実際に自動で操作を行い視覚的に理解を促す、説明中は次へボタンで説明が進行する
        - ピクロスのゴールについて説明
          - ピクロスの盤面でFilled対象のところをすべてFilledにできればクリアーとなります
          - カーソルを当てて、右クリックを押下することで、Filledにすることができます
        - ピクロスのヒントについての説明
          - ピクロスの盤面の行列部分に数字があることを説明
          - この数字の意味について説明
            - 例として１２１がある場合
              - １つ連なるFilledと
              - 間があり
              - ２つ連なるFilledと
              - 間があり
              - 最後に１つ連なるFilledがあることを説明
              - 必ず、数字と数字の間には一つ以上の間があることを説明
          - ピクロスの攻略について説明
            - 大きな数字から埋めていく
            - Maybe（×）マークを付けて、可能性がないところには×を入れておく
            - 行が５マスのピクロスで、ヒントに３とあった場合
              - 左から３マス、右から３マスどちらからFilledになったと仮定した場合
              　必ず中央の３つ目はFilledになる場合はFilledとしてマークすることが可能
          - すべてのチュートリアルが終了した後、オープニング画面に戻る
- [done] 主人公の名前のデフォルト値で「セリア」に変更
  - 名前入力モードで入力するHEROの名前は「セリア」に設定
- [done] ピクロスゲーム勝利時のSEの変更
  - ピクロスゲーム勝利モード時に鳴らすSEを以下のSEファイルに変更する
    - 再生１回のみ
    - 利用ファイル:public/assets/bgm/indie-game-fanfare.wav
      - アプリケーションに記載するパスは./assetから始まるように記載
- [done] ピクロス対戦時のBGMの変更
  - ピクロス対戦時に鳴らすBGMを以下のBGMファイルに変更する
    - 再生繰り返し
    - 利用ファイル:public/assets/bgm/indie-game-pix-battle5.wav
      - アプリケーションに記載するパスは./assetから始まるように記載
- [done] ゲームのコントローラーを利用可能にする
  - USBで接続しているゲームのコントローラ―を利用可能にする
- [done] コンボ表示を入れる
  - 連続で正解のFilledが発生した場合に、Filledの正解が途切れるまで、コンボ表示を行う
    - コンボ表示はスペル表示枠に表示する
- スペルの攻撃エフェクトをもっと派手目のエフェクトに変更する
  - 例：スペル発動時炎や水などの属性の爽快感のある攻撃エフェクトにする
- [done] マップモードのノード表示の表示をもう少しクォータービューで立体的に表現
  - 右にエッジとノードが伸びている物を右斜め奥に進むような表現に変更
- [done] 会話モードの時の背景画像をENEMYの画像に差し替える
  - 背景画像：assets/img/character/enemies/<level>/<enemyname>_fullbody.png
- [done] 会話モードのキャラクターの表示サイズを、縦横1.5倍にする
  - ただし、ブラウザのウインドウサイズに合わせてサイズは変化する
- [done] バトルモードの背景画像をENEMYの画像に差し替える
  - 背景画像：assets/img/character/enemies/<level>/<enemyname>_fullbody.png
- [done] バトルモード時のBGMが再生されないので修正する
  - ファイル：assets\bgm\indie-game-pix-battle.wav
- [done] ピクロスモードで、Filledしたマスがすべて回答と一致している場合は次のお題にすぐに遷移する
- [done] ピクロスモードのお題クリア時の挙動を変更する
  - 仕様
    - 各プレイヤー（HERO,ENEMY）の、お題がすべてFilledして完成した後、次々に次のお題に遷移するが、相手側が未完成の場合は、相手側はそのままの状態にします
    - あくまで、Filledして完成した側だけを、次のお題にすすめます
    - HEROのお題がすべてFilledして完成した場合、HEROだけ次のお題に進むことができる
    - その際、ENEMYの状態はそのままで、ENEMY側は次のお題に進ませないようにする
    - ENEMY側も同様で、ENEMY側のお題がすべてFilledして完成した場合、ENEMY側だけ次のお題に進むことができる
    - その際、HERO側の状態はそのままで、HERO側は次のお題に進ませないようにする
    - 次のお題に遷移する際に、スコアのカウントアップを待たずに遷移します。
- [done] オープニングモードと名前入力モード時の背景画像はHEROの全身画像を利用する
  - 背景画像：public/assets/img/character/hero/hero_fullbody.png
- [done] オープニングから名前入力画面まで、同じBGMを再生する
  - モードの変化時も音楽が途切れないように再生したままとする
- [done] Quitボタンを押下した、または、ゲームオーバーとなった後に再度最初からプレイする場合、オープニングモードに遷移
  - オープニングモードのBGMを再度再生する
- [done] バトルモード時のBGMが再生されないので修正する
  - ファイル：assets\bgm\indie-game-pix-battle.wav
- [done] バトルモードで敵にもスコアを付与する
  - バトルモードでHEROのスコア表示位置をHERO側のスペルの右端に記載する、スぺル表示と重複しないようにしつつ、HEROの側のレイアウトに収まるようにする
  - バトルモードでENEMYのスコア表示位置をENEMY側のスペルの右端に記載する、スぺル表示と重複しないようにしつつ、ENEMY側のレイアウトに収まるようにする
  - 既存のスコアは表示不要とする
- [done] ピクロスモードで表示されている、クリア数の枠のサイズがやや大きいので、スペル枠の上下高さと揃える

# Issues and Bugs
## Templates
- 不具合の概要
  - 作成日
  - 事象・問題点・仕様と異なる点
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
  - 改修案、改修例を記載
  - 不具合の重要度
    - 影響度：小中大（理由：）
    - 発生頻度：小中大（理由：）

## Priority: high
- [done] HEROのスペル（ジャマ―）の効果が相手に入った際に、回答ステータスバーの状態が変化しない
  - 作成日
    - 2025/12/20
  - 事象・問題点・仕様と異なる点
    - HEROがスペルを唱えて、ジャマ―の効果がENEMYに与えた場合に、いくつかの回答が削減された際に回答ステータスバーも併せて元に戻る必要があるが戻らない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
  - 改修案、改修例を記載
    - HEROがスペルを唱えて、ジャマ―の効果がENEMYに与えた場合に、いくつかの回答が削減された際に回答ステータスバーも状態に合わせて変更する
  - 不具合の重要度
    - 影響度：小（理由：発生してもゲームの進行上にはあまり問題はない）
    - 発生頻度：大（理由：常に発生）

- [done] ENEMYのAIが、EASY以上のモードで動作していない
  - 作成日
    - 2025/12/16
  - 事象・問題点・仕様と異なる点
    - PRACTICEのモードでは全問解くことが可能だが、EASY以上では問題を解くことができていない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
      - EASY以上のすべてのレベル
  - 改修案、改修例を記載
    - EASY以上でもAIがヒントを用いて自力で問題を解くことができる
  - 不具合の重要度
    - 影響度：小（理由：特に発生してもゲーム進行可能なため）
    - 発生頻度：大（理由：度のピクロスモードでも発生しているため）

- [done] ENEMYの解答バーの進捗が解答があっていたとしても上がらない不具合
  - 作成日
    - 2025/12/16
  - 事象・問題点・仕様と異なる点
    - ENEMYの解答バーの進捗が解答があっていたとしても上がらない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
      - 全レベル
  - 改修案、改修例を記載
    - ENEMYの解答バーの進捗が解答があっていたとしても上がらない
  - 不具合の重要度
    - 影響度：小（理由：実際とは異なるが、ゲーム進行上は問題ないため）
    - 発生頻度：大（理由：常に発生）

- [done] ENEMYのピクロスボードで×を置いた箇所に×が表示されていない
  - 作成日
    - 2025/12/02
  - 事象・問題点・仕様と異なる点
    - ENEMYのピクロスモードで×とした箇所が空白表示に加えて、ピクロスボードの枠線が消える状態となっている
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
      - 全レベル
  - 改修案、改修例を記載
    - ENEMYのピクロスモードで×とした箇所に×を表示し、ピクロスボードの枠線が消えないようにする（HEROの×と同様の仕様）
  - 不具合の重要度
    - 影響度：小（理由：特に発生してもゲーム進行可能なため）
    - 発生頻度：大（理由：度のピクロスモードでも発生しているため）

- [done] ENEMY側がお題をクリアしても、お題クリアとなっていない
  - 作成日
    - 2025/12/04
  - 事象・問題点・仕様と異なる点
    - ENEMY側がお題をクリアしても、お題クリアのカウントが上がらずクリアとなっていない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
  - 改修案、改修例を記載
    - ENEMY側がお題をクリアしたら、お題クリアのカウントをあげ、クリアとする。
    - またお題の全てをクリアしたら、ENEMY側の勝利となる。
  - 不具合の重要度
    - 影響度：大（理由：ゲームバランスが崩れているため）
    - 発生頻度：大（理由：毎回そのようになるため）

- [done] HERO側のスペル発動時にスペルの効果を表すイメージが表示されない
  - 作成日
    - 2025/11/29
  - 事象・問題点・仕様と異なる点
    - ENEMY側のスペル発動時には、スペルの効果を図示した表示がされるが、HERO側はそれがない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
  - 改修案、改修例を記載
    - ENEMY側のスペル発動時には、スペルの効果を図示した表示がされるため、HERO側も同様の変更を行う
  - 不具合の重要度
    - 影響度：小（理由：表示されなくてもゲームへの影響はないため）
    - 発生頻度：大（理由：毎回そのようになるため）

- [done] ピクロスモードで、HEROとENEMYとでレイアウトの高さがあっていない
  - 作成日
    - 2025/11/29
  - 事象・問題点・仕様と異なる点
    - ピクロスモードで、HEROとENEMYで各レイアウトの高さがあっていない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
  - 改修案、改修例を記載
    - ピクロスモードで、HEROとENEMYで各レイアウトの高さと縦幅を合わせる
    - 具体的には以下の高さと縦幅を合わせる
      - キャラクターの表示枠
      - スペル台詞表示枠
      - スコア枠
      - お題数枠
      - ピクロス枠
      - 進捗バーの枠
    - 特に、ピクロスのお題が変化するとヒントの数字部分がずれてしまうため、ヒントの数字部分の数が変化したとしても高さの位置が合うようにあらかじめスペースを設けておくようにする
    - ウィンドウサイズを変更した場合でも高さと幅が維持されるようにする
  - 不具合の重要度
    - 影響度：小（理由：多少ずれていても見た目的に気になる程度で、ゲームへの影響が少ないため）
    - 発生頻度：大（理由：常に発生しているため）

- [done] ピクロス回答時のバーが１件の回答だけで100%となってしまう不具合
　- 2025/11/22
  - 事象・問題点・仕様と異なる点
    - ピクロス回答が進捗が増えるにつれ回答状況のバーの進捗が増加するはずが、１件回答しただけで100%になってしまう
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
  - 改修案、改修例を記載
    - ピクロス回答が進捗が増えるにつれ回答状況のバーの進捗が増加する、100%の状態＝すべての回答に正解
  - 不具合の重要度
    - 影響度：大（理由：表示と状態が完全に異な利プレイヤーに影響を混乱を与えるため）
    - 発生頻度：大（理由：常に発生するため）

- スペル発動時のエフェクトが行われなくなっている不具合
　- 2025/11/22
  - 事象・問題点・仕様と異なる点
    - スペル発動時には以下があるはずだが、されない状態になっている
      - 暗転し、一時停止する
      - 暗転後HEROについては左側から、ENEMYについては右側からキャラクターが登場する
      - 効果エフェクトをHEROまたはENEMYに表示してスペルに応じた効果を相手盤面に与える
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード時のロジック
  - 改修案、改修例を記載
    - スペル発動時には以下を行う
      - 暗転し、一時停止する
      - 暗転後HEROについては左側から、ENEMYについては右側からキャラクターが登場する
      - 効果エフェクトをHEROまたはENEMYに表示してスペルに応じた効果を相手盤面に与える
  - 不具合の重要度
    - 影響度：小（理由：無くてもプレイはできる）
    - 発生頻度：大（理由：必ず発生）

- [done] マップの移動時に、遷移元のノードが非表示になっている問題
　- 作成日
    2025/11/05
  - 事象・問題点・仕様と異なる点
    マップの移動時に、遷移元のノードが非表示になっている
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    マップモード
  - 改修案、改修例を記載
    Start～経由してきたノードやエッジは表示する
    現在値から後ろには移動できないはずなので現在値以降は表示する
  - 不具合の重要度
    - 影響度：小（理由：非表示でもゲーム進行に影響がないため）
    - 発生頻度：大（理由：常に発生）

- ENEMY側のピクロスモード時のコンボ表示のグリッドが画面サイズを狭くするとレイアウト崩れが発生する
　- 作成日
    2025/11/04
  - 事象・問題点・仕様と異なる点
    表題の通り
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    ピクロスモードのUI
  - 改修案、改修例を記載
    - HEROと、ENEMYのピクロスモードのCOMBO表示エリアに利用しているGRIDとその要素は同じスタイルを指定する
    - 画面幅が小さくなってもよいように、キャラクターの真下に、コンボメニューをrowで並べるようにする
    - 左上：キャラクター
    - 上真ん中：スペル台詞
    - 左下：コンボリストとコンボ数表示
    - 上真ん中：スコア
    - 上右上：タイトル
    - それ以外の中央：ピクロスボード（なるべく大きく表示）
  - 不具合の重要度
    - 影響度：小（理由：多少崩れてもゲーム自体は継続できる）
    - 発生頻度：中（理由：常に発生している）

- [done] 勝利モードのピクロスの並びが10x10に対応できておらず表示が崩れている
　- 作成日
    2025/11/03
  - 事象・問題点・仕様と異なる点
    - 勝利モード時に用意されているSymbol表示領域が5x5を基準に作成されており、10x10の場合に、5x20行の表示となっている
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - 勝利モードのSymbol表示領域
  - 改修案、改修例を記載
    - 5x5のスロットと10x10のスロットのグリッドを分ける
    - 5x5のスロットの表示は右側上表示、10x10のスロットの表示は右側した表示の並びにする
    - 10x10のスロットはサイズが違う以外は5x5のスロットと同じ扱いとする（アンロックすればNewで色を変更して表示する、解除した内容を表示するなど）
  - 不具合の重要度
    - 影響度：中（理由：表示のレイアウトは崩れているが、ゲームは続行可能）
    - 発生頻度：大（理由：常に表示されているため）

- [done] お題の数が指定と異なる不具合
  - 事象・問題点・仕様と異なる点
    - ENEMYの特定のレベルのお題の数が異なる
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード
  - 改修案、改修例を記載
    - PRACTICE,EASY,MIDDLE,HARD,ULTRAの各出題されるお題の数を以下に変更する
      - PRACTICE : 2
      - EASY : 3
      - NORMAL : 4 
      - MIDDLE : 6
      - HARD : 7
      - ULTRA : 8
- [done] ENEMY側が適当に回答をしていても正解している不具合を修正
  - 事象・問題点・仕様と異なる点
    - ENEMY側が回答と全く異なる図柄を選択しているにもかかわらずクリアとなる
    - ENEMY側がお題のクリア数と異なる状態でもクリアとなる
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモードのENEMY側ロジック
  - 改修案、改修例を記載
    - ピクロスモード時に表示されているヒントを用いて回答を行うよう修正
    - ENEMY側はあらかじめ回答を知らない状態で、お題に表示されたヒントから類推して、いくつかのTipsを駆使して回答をすすめる
    - 適度にランダムに思考時間を含めたり、誤りの選択を含める
      - レベルが低いENEMYほど思考時間が長く（１個４－６秒）、間違いやすい操作とする
      - レベルが高いENEMYほど思考時間が短く（１個２－３秒）、間違いにくい操作とする
    - ENEMY側がお題数とクリア数が同数の場合ではじめてENEMYの勝利となる
  - 不具合の重要度
    - 影響度：大（理由：ゲームバランスの崩壊）
    - 発生頻度：大（理由：必ず）
- HERO側が操作していない場合、ENEMY側の操作が止まる不具合を修正する
  - HERO側が操作している時のみ、ENEMY側の操作が動作する状態のため、HERO側の操作をしていない場合でも、ENEMYのペースでお題を解いて行けるようにする
- オープニングモードでBGMをオフにした後、Startボタンを押下するとまたBGMがオンになる
  - オープニングモードでBGMをオフにした後は、明示的にBGMをオンにしない限りはBGMをオンにしないように修正する
- タイマー処理に不具合があるものを修正
  - タイマーがカウントダウンしないため、カウントダウンをするように修正
- 主人公の名前決定モード前後の会話ウィンドウの表示位置の上部を固定する
- [done] ピクロスモードで「ｘ」（Maybe）を入力すると、盤面で表示が上下にずれる問題の改善
  - ピクロスモードで「ｘ」を入力した際に、マス目に収まるように表示する
- [done] 名前入力画面前の背景を差し替え
  - ファイル：public/assets/img/character/hero/hero_fullbody.png
- [done] 名前入力画面後の背景を差し替え
  - ファイル：public/assets/img/character/hero/hero_fullbody.png
- [done] トータルスコアの表示位置は常に画面の一番右上に他のボタンと同程度のサイズで配置
- [done] タイトル画面の背景を差し替える
  - ファイル：assets/img/title.png

## Priority: normal

# Improvement
## Templates
- 改善の概要タイトル
  - 背景・目的
  - 変更前の仕様：
    - 仕様１
    - 仕様２
  - 変更後の仕様：
    - 仕様１
    - 仕様２

## Priority: normal
- Hardモード以降の10x10のピクロスモード時の決定的ヒントが少ないのでこれを改善する
  - 背景・目的
    - 10x10のピクロスモード時のヒントが少なすぎて回答できないので、てきせつなヒントを入れつつも、解答の一意性を担保する
  - 変更前の仕様：
    - 現状仕様
  - 変更後の仕様：
    - 以下の決定的なヒントを含める
      - [1,1,1,1,1]
      - [5,4] or [4,5]
      - [3,3,1] or [1,3,3] or [3,1,3]
      - [2,2,4] or [4,2,2] or [2,4,2]
      - [6,3] or [3,6]
      - [7,2] or [2,7] 
      - [8,1] or [1,8]
    - 上記ヒントを行と列数ノ１－２割程度含める 
    - 上記ヒントから類推できるヒントも含める
- [done] Middelモードから敵が強すぎて勝てないので、難易度を下げる
  - 背景・目的 
    - MiddleモードのENEMYの解くスピードが速すぎて、HERO（プレイヤ）が勝てない
    - これによりユーザがプレイをあきらめてしまうのでそれをさける
  - 変更前の仕様：
    - 現状仕様
  - 変更後の仕様：
    - プレイヤー側（HERO側）
      - ヒントが希薄すぎてプレイの速度がおちてしまう
      - 行列それぞれに最低限のヒントを行列数の２～３割（例：１０列あれば２列程度）、１行１列がほぼ決定的に回答可能な行列を準備する
    - Middleモード以降もENEMYがヒントから正しくヒントを読み取り回答を行う
    - Middleモード移行のENEMYの回答のスピードをもっと遅くする
      - １回答に、5秒～10秒程度でランダムに幅を持たせ、回答に思考遅延を考慮した状態を含める
      - 回答を必ず正解にするのではなく、回答の誤りを含め、それを訂正する手戻りも実装する

- [done] エンドレス一人プレイモードでのヒントが希薄過ぎてヒントからクリアが不可能な状態の改善
  - 背景・目的
    - エンドレス一人プレイモード時に、５ｘ５のピクロスにおいて、ヒントが１や２ばかりで、足がかりとなるヒントがなく運だよりのようなプレイになるこれを解消したい
    - まずは最初に[3,1]、[1,1,1]、[4]、[5]のヒントが最低限１列or1行どちらかにありそれを起点に他のヒントから答案を類推できるようにする
  - 変更前の仕様：
    - SOLVERによる解の一意性だけが事前に確認されている
  - 変更後の仕様：
    - SOLVERによる解の一意性だけが事前に確認されている
    - それに加え、足がかりとなるヒント行が最低１列入っていることを確認する
      - ピクロスのルールから、最低ヒントから類推可能な類推可能性の評価も併せて行う
        - 具体のロジックは数理的な理論から検討してほしいが、もしない場合やわからない場合は、最低１行もしくは１列に、１つの行がヒントから必ず答えもしくはその一部が一意に再生できる行列を含める
        - サイズが変更となった場合でも同様の考え方を適用する
          - 例
            - [1,1,1] => 1 x 1 x 1
            - [3,1] => 1 1 1 x 1
            - [1,3] => 1 x 1 1 1
            - [4] => 1 1 1 1 x or x 1 1 1 1
            - [5] => 1 1 1 1 1

- [done] Elfpixの世界観にあったUIカラーパレットに変更
  - 背景・目的
    UIがElfpixの世界観と合致していないため、世界感とUIを合わせる
    カラーバリエーションも統一する
  - 変更前の仕様：
    - 一般的なおしゃれ系UI
  - 変更後の仕様：
    - 世界観にあったからパレットを生成しUIの色に利用する

- 勝利リスクと報酬の分離強化
  - 背景・目的
    勝利すれば一律報酬のため駆け引きが薄く、ミスやコンボの緊張感が弱い
  - 変更前の仕様：
    - 勝利時に記号アンロックとファンファーレが固定で発生する
    - ミス数やコンボ段階が報酬に影響しない
  - 変更後の仕様：
    - ノーミス／少ミス時やコンボ段階に応じた追加報酬（追加ピース、ボーナススコア）を付与
    - タイム残％などのパフォーマンス指標で報酬レイヤーを分け、リスクとリターンを直結させる

- カジュアル向けテンポ／救済導線の追加
  - 背景・目的
    HARD/ULTRAの10x10で敷居が高くテンポも重い。カジュアル層が離脱しやすい
  - 変更前の仕様：
    - 難易度に応じたプレイ時間が長く、リトライ時も同等の負荷
    - ミスしても即時の救済や短縮演出がない
  - 変更後の仕様：
    - 「ライトモード」や一時ヒント（ミス3回で列/行ハイライト）を追加し、制限時間緩和を提供
    - 勝利演出のスキップ/短縮トグルを用意し、リトライ時のテンポを向上

- スペル・コンボ演出のスキップ／簡易化オプション
  - 背景・目的
    フルスクリーン演出＋一時停止が繰り返しプレイでテンポを阻害する
  - 変更前の仕様：
    - スペル発動で画面全体の演出が必須で、ボード攻撃まで待ち時間が発生
    - 演出スキップの明確なオプションがない
  - 変更後の仕様：
    - オプションで「演出簡易化／スキップ」を提供し、効果は即時反映・ログやアイコンで結果を確認できる
    - デフォルトは従来演出、オンデマンドで短縮版に切替可能

- 世界観統一のサウンド＆演出ガイドライン
  - 背景・目的
    色調は統一したがSE/演出トーンが汎用で、森と星明かりの世界観を補強しきれていない
  - 変更前の仕様：
    - 汎用SEが混在し、敵味方の音色差が薄い
    - サウンド面のガイドラインが未整備
  - 変更後の仕様：
    - 森・星明かりを意識したシアン/ウッド系SEを味方、低音＋歪み系を敵で使い分けるガイドを整備
    - 決定/キャンセル/スペル発動など主要アクションの推奨SEセットと音色パレットを定義

- 反復・やりこみ動機の強化
  - 背景・目的
    コレクション30枠埋め後のリピート動機が弱い
  - 変更前の仕様：
    - コレクション埋め切り後に追加ターゲットがない
    - 実績や称号などの継続報酬が限定的
  - 変更後の仕様：
    - デイリー/ウィークリーの「星明かり挑戦」を追加し、称号や色違いフレーム等の周回報酬を用意
    - 連勝・ノーミス・時短などのやりこみ実績を拡充し、継続的な目標を提示

- 初心者ガードと開始導線の改善
  - 背景・目的
    New Game 即データ消去＋BGM強制ONなど、初心者が誤操作・混乱しやすい
  - 変更前の仕様：
    - New Game で即データ消去とBGM ONを行い、確認がない
    - 序盤からコンボ・スペルがフル解放で学習負荷が高い
  - 変更後の仕様：
    - New Game に簡易確認（データ消去/BGM ONの告知）を追加し、誤操作を防止
    - 序盤数ノードはコンボ・スペルを段階開放して学習曲線を緩やかにする

- [done] 勝利時の記号がアンロックしたときのSEを無くす
  - 背景・目的
    勝利時のファンファーレと、アンロック時のSEがバッティングしておりファンファーレの良さがなくなっているのでSEの方を無くす
  - 変更前の仕様：
    - 記号実績解除時のSEを鳴らす
  - 変更後の仕様：
    - 記号実績解除時のSEを鳴らさない

- スペル発動時の効果の改善
  - 背景・目的
    スペル発動時の効果は目立つようになったが、攻撃内容が相手のピクロスボードに入っている感を感じ辛いのでこれを改善する
  - 変更前の仕様：
    - スペル発動時に一時停止して、台詞と効果にフォーカスをあてる
  - 変更後の仕様：
    - スペル発動時に一時停止して、台詞と効果にフォーカスをあてたあと、相手のピクロスボードに重ね、攻撃効果が相手のピクロスボードに重なるように表示する、その結果としてピクロスボードにダメージが入った後の状態もプレイヤーに確認させる・確認することを可能にする

- [done] レベルが中級以上のピクロスのお題の難化
  - 記載日
    2025/11/05
  - 背景・目的
    5x5のボードで、5のヒントや、10x10のヒントで、10等の数字がヒントとして含まれる列や行が多すぎて大雑把な回答になりがちでゲーム性に乏しい
    PRACTICEやEASYについては、記号としてわかりやすいもの（❤や☻など）でもよいが、NORMAL～以降は対称性をくずし、大きな数字のヒントは少数にし、
    コンボ自体の発生率を抑え筒、ただしコンボを狙った人には難しい対応に対する報酬、大リスク大リターンを与えられるようにする
    可能な限りボードのサイズに対して中ぐらいの数字で、対称性もキープ不要で、少し試行錯誤をしながら回答できるようなヒントの出し方にする
  - 変更前の仕様：
    - 仕様１
      - 前述の通り
  - 変更後の仕様：
    - 仕様１
      - ボードのサイズに対して、高々２割程度の行列の最大数のヒントとする
      - 上記以外の行列は、可能な限り小さい数のヒントとする
      - その上で、SOLVERで解が一つになるように出題する

- ピクロスモードで敗退時音楽と画像が不適切
  - 記載日
    2025/11/05
  - 背景・目的
    ピクロスモードで敗退時の音楽と画像が不適切
    敗退時のSEがMIDIの雑なジングルのためこれが世界観を壊すためやめたい
    加えて、通常の敗退時以外では、HEROのLOSE画面にならないのでこれをやめたい
  - 変更前の仕様：
    - 仕様１　ENEMY勝利時に、敗退時の画像が表示されるが、それ以外のゲーム終了時（サブミットに失敗した場合や時間切れの場合）は未定義
    - 仕様２　敗退時のSE：シンプルなジングル
  - 変更後の仕様：
    - 仕様１　ENEMY勝利時、サブミット失敗、時間切れのいずれの場合でも HERO LOSEの画面を表示する
    - 仕様２　敗退時のSE：ゲームオーバー的サウンドに変更する
      - 利用ファイル：

- [done] マップモードから会話モードへ移動する際のエフェクトの変更
  - 記載日
    2025/11/05
  - 背景・目的
    - エフェクトの表示が、マップのサイズに収まってしまっている
    - これを、マップのサイズではなく、画面全体に表示したい
  - 変更前の仕様：
    - マップのキャンバス内でエフェクトが閉じている
  - 変更後の仕様：
    - マップのレイヤーより上にエフェクトを持ってきて、画面全体に広がるように変更
    - エフェクトは白よりもやや暗めの緑か紫的なヴィランズ的なカラーにする
    - なお、エフェクト終了後に、会話モードへ遷移するとともに、左からHERO,右からENEMYがフェードインして現れるように表示する

- [done] マップモードの縦幅が横幅にあわせてマップ表示エリアが縦長になりすぎないようにする
  - 背景・目的
    表題の通り
  - 変更前の仕様：
    - 仕様１
      - route-svgクラスの縦幅に「100%」が指定されている
  - 変更後の仕様：
    - 仕様１
      - route-svgクラスの縦幅に「clamp(1200px, 70vh, 1200px)」を指定する

- [done] マップモード描画のエッジ描画の角度を変更
  - 背景・目的
    - 40度で描画した際にエッジやノードが折れ曲がっているため、折れ曲がらないようにしたい
  - 変更前の仕様：
    - 仕様１
      - ノード間のパスの角度が40度
    - 仕様２
      - screen.rootマップのキャンバスのサイズが固定
  - 変更後の仕様：
    - 仕様１
      - ノード間のパスの角度が30度
    - 仕様２
      - screen.rootマップのキャンバスの横サイズを100%にする
- [done] マップモードの描画の変更
- [done] 勝利画面のデザインや文言の改良
  - 変更前：
    - スロットのボード名が「Symbol Code」になっている
    - スロットのボードのレイアウトが 横8、縦4になっている
  - 変更後：
    - スロットのボード名を「Elfpix Symbol」に変更する
    - スロットのボードのレイアウトが 横5、縦6に変更する
- [done] 勝利画面のデザインの改善（screenクラスの変更）
  - 背景：
    勝利画面のscreenレイアウトに含まれるmax-widthが子要素のレイアウト崩れを発生させているのでこれを修正
  - 変更後：
    勝利画面の.screenクラスのmax-heightを除外する
- [done] 勝利画面のレイアウトの改善
  - 背景：
    - 勝利画面のレイアウトが崩れている
  - 変更前：
    - HEROの画像と勝利メッセージのレイアウトと、ボードのレイアウトと、アンロックレイアウトが同じレイアウト内に表示されている
    - ボードの各記号のレイアウトが縦長で押しつぶされている
  - 変更後：
    - HEROの画像と勝利メッセージのレイアウトと、ボードのレイアウトと、アンロックレイアウトをそれぞれ別のレイアウトして、左上にHEROレイアウト、左下にアンロックレイアウト、右側はボードレイアウトで並べる
    - ボードの各記号のピクロスボード部分のサイズ分は記号表示枠の幅を確保する
    - ボードの各記号のピクロスボード部分内のパディングは0.2px程度にする
    - ボードの各記号のレイアウトの左右同士を1pxずつパディングする
    - ボードの各記号から、レベルと日付を省き、記号の名称だけを入れる
    - ボードの各記号から、レベルに合わせた背景色を入れる
      - PRACTICE：透明薄緑
      - EASY：透明薄青
      - MIDDLE：透明薄紫
      - HARD：透明薄赤
      - ULTRA：透明薄黒
- [done] ピクロスモード時の全HEROとENEMYのピクロスボードサイズを 5ｘ5 に変更
  - 背景：
    - お題のサイズが10x10等になると急に時間がかかり始めてしまい、スピード感、爽快感が少なくなりカジュアル性がなくなる
    - そのため小さいサイズの物を素早く説いていくスピード感、爽快感等のカジュアル性を重視する
    - その代わり今後ゲーム性（駆け引き、リスクリターン）も増強する
  - 変更内容：
    - 変更前：
      - 各ENEMYとHEROのピクロスボードサイズがレベルアップの度にサイズアップする
    - 変更後：
      - 各ENEMYとHEROのピクロスボードサイズをすべて5x5に変更する

- [done] ピクロスモードのお題の出し方の変更と、記号化と、コレクション要素の追加
  - 背景：
    - お題を意味不明な形にするのではなく、記号的形及び文字的な意味を与えつつピクロスとして一意に解が定まるものとし、最終的にそれらを収集して
      Endingを迎えるというストーリーに結節させて、ストーリー性はもとより、コレクター要素と、達成感をゲームに付与する
  - 変更内容：
    - PRACTICE,EASY,MIDDLE,HARD,ULTRAの各出題されるお題の数を以下に変更する
      - PRACTICE : 2
      - EASY : 4
      - MIDDLE : 6
      - HARD : 8
      - ULTRA : 10
    - 勝利画面で、HERO WINのレイアウトを左に寄せる
    - 勝利画面で、文字盤が一つずつ埋まるような木目調の四角いボードを用意する（30個の穴がある）して右側に寄せる
    - 各レベルでクリアしたお題で現れた記号を、そのボードに勝利時に答えと共に埋めていく
      （例：＠という記号文字が仮に回答だったとして、文字盤のピースをはめる下段の回答欄に「＠」と表示する）

- [done] ピクロスモードで駆け引き要素を強化する
  - 背景
    現状のスペルはスペル自体が発動するが、あまり駆け引き的要素がつよくなく、リスクを取るというより流れ作業の延長になっている
    これを、ローリスクローリターン、ハイリスクハイリターンとなるような変更を行い、ゲーム性を強化する
    コンボを貯めるにはじっくりとパズルを解く必要があり、その間に相手がクリアしてしまうリスクが高まる
    ただし、コンボを貯めて邪魔を叩き込めれば一発逆転の可能性が高まる
    ただし、コンボを貯めている隙に相手もスピード重視で勝ち逃げもしくはお題を進めることで勝ち逃げできる可能性もある
    リスクをどのタイミングで取るのが良いかを考えたり駆け引きしたり部分がゲーム性につながると考える
    それでいてシンプルで複雑ではないルールなので、カジュアル性も失わない
  - 変更前：
    - スペル画角キャラクター３種ある
    - スペルの名称はキャラクターの特性から適当に生成・設定されている
  - 変更後：
    - スペルは４段階ある
    - スペルの名称はキャラクターの特性から適当に生成・設定する
    - コンボは正解だけではなく「ｘ」が正解していた場合でも貯まる
    - 自分がコンボを貯めると、相手の邪魔ができる
      - 邪魔のレベルを制御できる
        - 10コンボ　ー＞　ランダムに選択した横１列の回答を未回答状態に戻す
        - 15コンボ　ー＞　ランダムに選択した縦と横の１列の回答を未回答状態に戻す
        - 20コンボ　ー＞　ランダムに選択した縦と横の２列を未回答状態に戻す
        - 25コンボ　ー＞　ランダムに選択した縦と横の２列と、斜め（／）を未回答状態に戻す
        - 30コンボ　ー＞　ランダムに選択した縦と横の２列と、斜め（＼）と斜め（／）を未回答状態に戻す
      - 邪魔を発動した後は、コンボ数はクリアされ０から始まる
      - 邪魔が発動した際には、現在邪魔発動中というエフェクトを相手のピクロスモードへオーバレイして表現する 
        - 例：縦一列を凍らせる、もしくは炎で焼く、もしくはブラインドにする、雷を落とす、など
      - このコンボについては、HERO側だけではなく、ENEMY側も利用が可能

- 時間切れの場合の表示の変更 
  - 背景：
    - 時間切れとなった場合の表示が適切ではないのでこれを変更する
  - 変更後：
    - HEROの敗北画面を表示しつつ時間切れのである旨を表示する
    - 時間切れにならないためのヒントやTipsを表示する
    - Again（再チャレンジ）か、Quit（諦めるか）のボタンを表示する
      - Again押下時：再度ピクロスモードで同ENEMYと対戦再開する
      - Quit押下時：BadEndingを表示し、オープニング画面に遷移する

- [done] ピクロスモード時の画面下段のメッセージエリアを削除
  - 背景：
    - HERO,ENEMIESそれぞれがメッセ―ジを発するウィンドウがすでにあるので不要になったため
- 敗北画面のキャラクターの表示が小さく見えるため、これを大きくする
  - 背景
    - タスクタイトルの通り
  - 変更
    - キャラクターの表示を勝利画面と同じサイズに変戸数る
- [done] スペルを唱える時のフォントを変更する
  - 変更：
    - 丸みを帯びたかわいいフォントを選ぶ
    - 初る
    - フォントのサイズを200%にする
- [done] 勝利画面のキャラクターにかかるレイヤーの変更
    - 概要：勝利画面のキャラクター表示エリアに半透明のレイヤーがあるように見えるためこれを削除する
        勝利画面でははっきりとキャラクターを表示させる
    - 仕様：
        キャラクターの表示画像レイヤーを他のレイヤー上に移動させる

- 画像や音楽のダウンロードに時間がかかっていて処理が重いので最初に全部ダウンロードしておきキャッシュする
  - 背景：ゲームプレイ中に画像や音楽のダウンロードを行うとフリーズするため、事前にリソース情報をダウンロードしておきたい
  - 改善内容：画像や音楽のリソース群をあらかじめダウンロードし、ダウンロードしたものを利用することでユーザレスポンスを高速化する
  - 仕様：
    - ダウンロードのタイミング
      - オープニングモード時
      - プロローグモード時
      - チュートリアルモード時
      - 名前入力モード時
      - 会話モード時
    - ダウンロードしたファイルの保存
      - ローカルキャッシュまたはローカルストレージに保存
- 会話モードのキャラクターの表示領域の背景を半透明にする
  - 透過率:60%
  - 対象:HEROと全ENEMYの両方
- [done] 会話モードのENEMY側の背景色を変更する
  - 背景色: 黄色
- [done] assetsにあるファイルを、階層構造そのままに、public/assetsに移動させる
  - そのあと、アプリケーションで呼び出しているパスを以下を満たすように変更する
    - localhostで起動した場合とGithub Pagesにデプロイした後に起動するアプリ内で
      両方とも同じパスで読み込みが可能であること
- [done] ピクロスボードの枠線の視認性が悪いので改善する
  - 枠線の透明度を下げる もしくは 枠線を立体的もしくは背景像が見えなくならない程度に枠に色を付ける
- [done] 会話モードで、キャラクターの画像の位置が互いに近すぎるので、それぞれ左右に寄せる、左右過ぎず、中央過ぎず
- [done] 会話モードのキャラクター画像が大きすぎるので、縦横の比率はそのままにサイズを0.75倍程度にする
- [done] ピクロスモードでのキャラクター・スペル・スコア・ピクロスのパネルの高さの位置をウィンドウの中央に来るように配置
  - HEROとENEMYどちらも同じ高さに変更
- [done] マップモードでENEMY Encounterdした時のエフェクトを以下に変更する

- ENEMYのAIが、EASY以上のモードで動作していない
  - 作成日
    - 2025/12/06
  - 事象・問題点・仕様と異なる点
    - EASY 以上のモードで ENEMY の AI が停止・停滞し、解答が進まずお題をクリアできない
  - 不具合の箇所・機能・大まかな箇所（UI/ロジック）
    - ピクロスモード ENEMY AI（推論・推定ループ）
  - 改修案、改修例を記載
    - ブラックリストや推定失敗で全候補を潰した場合は自動でリセットし、再探索を行う。
    - 連続スタック時は誤答率を 0%・成功率を 100% に切り替えるスタールブレイク手で停滞を解消する。
    - 推定矛盾時は直前スナップショットにロールバックし、同じセルを避けて別候補を選択する。
    - HERO とは独立したタイマーで継続的に手を進め、全難易度で共通の停滞防止ロジックを適用する。
  - 不具合の重要度
    - 影響度：大（理由：対戦が進行しない）
    - 発生頻度：大（理由：EASY 以上で常時発生）
