(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function s0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gp={exports:{}},Ca={},Vp={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=Symbol.for("react.element"),l0=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),c0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),m0=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),Wf=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=Wf&&e[Wf]||e["@@iterator"],typeof e=="function"?e:null)}var Yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wp=Object.assign,Qp={};function zl(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}zl.prototype.isReactComponent={};zl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=zl.prototype;function Zu(e,t,n){this.props=e,this.context=t,this.refs=Qp,this.updater=n||Yp}var ed=Zu.prototype=new Xp;ed.constructor=Zu;Wp(ed,zl.prototype);ed.isPureReactComponent=!0;var Qf=Array.isArray,Kp=Object.prototype.hasOwnProperty,td={current:null},qp={key:!0,ref:!0,__self:!0,__source:!0};function Jp(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Kp.call(t,r)&&!qp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yo,type:e,key:l,ref:o,props:s,_owner:td.current}}function g0(e,t){return{$$typeof:Yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yo}function y0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xf=/\/+/g;function mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y0(""+e.key):t.toString(36)}function $i(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yo:case l0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+mc(o,0):r,Qf(s)?(n="",e!=null&&(n=e.replace(Xf,"$&/")+"/"),$i(s,t,n,"",function(d){return d})):s!=null&&(nd(s)&&(s=g0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Qf(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+mc(l,a);o+=$i(l,t,n,u,s)}else if(u=h0(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+mc(l,a++),o+=$i(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hi(e,t,n){if(e==null)return e;var r=[],s=0;return $i(e,r,"","",function(l){return t.call(n,l,s++)}),r}function v0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Fi={transition:null},x0={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:td};function Zp(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:hi,forEach:function(e,t,n){hi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hi(e,function(){t++}),t},toArray:function(e){return hi(e,function(t){return t})||[]},only:function(e){if(!nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=zl;ye.Fragment=o0;ye.Profiler=a0;ye.PureComponent=Zu;ye.StrictMode=i0;ye.Suspense=f0;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0;ye.act=Zp;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wp({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=td.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Kp.call(t,u)&&!qp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Yo,type:e.type,key:s,ref:l,props:r,_owner:o}};ye.createContext=function(e){return e={$$typeof:u0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c0,_context:e},e.Consumer=e};ye.createElement=Jp;ye.createFactory=function(e){var t=Jp.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:d0,render:e}};ye.isValidElement=nd;ye.lazy=function(e){return{$$typeof:p0,_payload:{_status:-1,_result:e},_init:v0}};ye.memo=function(e,t){return{$$typeof:m0,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Fi.transition;Fi.transition={};try{e()}finally{Fi.transition=t}};ye.unstable_act=Zp;ye.useCallback=function(e,t){return Dt.current.useCallback(e,t)};ye.useContext=function(e){return Dt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Dt.current.useEffect(e,t)};ye.useId=function(){return Dt.current.useId()};ye.useImperativeHandle=function(e,t,n){return Dt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Dt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return Dt.current.useReducer(e,t,n)};ye.useRef=function(e){return Dt.current.useRef(e)};ye.useState=function(e){return Dt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Dt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Dt.current.useTransition()};ye.version="18.3.1";Vp.exports=ye;var f=Vp.exports;const S0=s0(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=f,w0=Symbol.for("react.element"),E0=Symbol.for("react.fragment"),k0=Object.prototype.hasOwnProperty,N0=_0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C0={key:!0,ref:!0,__self:!0,__source:!0};function eh(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)k0.call(t,r)&&!C0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:w0,type:e,key:l,ref:o,props:s,_owner:N0.current}}Ca.Fragment=E0;Ca.jsx=eh;Ca.jsxs=eh;Gp.exports=Ca;var i=Gp.exports,th={exports:{}},sn={},nh={exports:{}},rh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var G=M.length;M.push(O);e:for(;0<G;){var W=G-1>>>1,q=M[W];if(0<s(q,O))M[W]=O,M[G]=q,G=W;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],G=M.pop();if(G!==O){M[0]=G;e:for(var W=0,q=M.length,Ne=q>>>1;W<Ne;){var re=2*(W+1)-1,Ee=M[re],Ce=re+1,ot=M[Ce];if(0>s(Ee,G))Ce<q&&0>s(ot,Ee)?(M[W]=ot,M[Ce]=G,W=Ce):(M[W]=Ee,M[re]=G,W=re);else if(Ce<q&&0>s(ot,G))M[W]=ot,M[Ce]=G,W=Ce;else break e}}return O}function s(M,O){var G=M.sortIndex-O.sortIndex;return G!==0?G:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],d=[],p=1,m=null,g=3,_=!1,w=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=M)r(d),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(d)}}function k(M){if(E=!1,S(M),!w)if(n(u)!==null)w=!0,Z(L);else{var O=n(d);O!==null&&H(k,O.startTime-M)}}function L(M,O){w=!1,E&&(E=!1,x(I),I=-1),_=!0;var G=g;try{for(S(O),m=n(u);m!==null&&(!(m.expirationTime>O)||M&&!ee());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var q=W(m.expirationTime<=O);O=e.unstable_now(),typeof q=="function"?m.callback=q:m===n(u)&&r(u),S(O)}else r(u);m=n(u)}if(m!==null)var Ne=!0;else{var re=n(d);re!==null&&H(k,re.startTime-O),Ne=!1}return Ne}finally{m=null,g=G,_=!1}}var U=!1,R=null,I=-1,Y=5,z=-1;function ee(){return!(e.unstable_now()-z<Y)}function ve(){if(R!==null){var M=e.unstable_now();z=M;var O=!0;try{O=R(!0,M)}finally{O?ne():(U=!1,R=null)}}else U=!1}var ne;if(typeof y=="function")ne=function(){y(ve)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ye=we.port2;we.port1.onmessage=ve,ne=function(){Ye.postMessage(null)}}else ne=function(){D(ve,0)};function Z(M){R=M,U||(U=!0,ne())}function H(M,O){I=D(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,Z(L))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var G=g;g=O;try{return M()}finally{g=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=g;g=M;try{return O()}finally{g=G}},e.unstable_scheduleCallback=function(M,O,G){var W=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,M={id:p++,callback:O,priorityLevel:M,startTime:G,expirationTime:q,sortIndex:-1},G>W?(M.sortIndex=G,t(d,M),n(u)===null&&M===n(d)&&(E?(x(I),I=-1):E=!0,H(k,G-W))):(M.sortIndex=q,t(u,M),w||_||(w=!0,Z(L))),M},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(M){var O=g;return function(){var G=g;g=O;try{return M.apply(this,arguments)}finally{g=G}}}})(rh);nh.exports=rh;var j0=nh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=f,rn=j0;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sh=new Set,To={};function Os(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(To[e]=t,e=0;e<t.length;e++)sh.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jc=Object.prototype.hasOwnProperty,T0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kf={},qf={};function b0(e){return Jc.call(qf,e)?!0:Jc.call(Kf,e)?!1:T0.test(e)?qf[e]=!0:(Kf[e]=!0,!1)}function R0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A0(e,t,n,r){if(t===null||typeof t>"u"||R0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,sd);St[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,sd);St[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,sd);St[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ld(e,t,n,r){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A0(t,n,s,r)&&(n=null),r||s===null?b0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cr=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gi=Symbol.for("react.element"),dl=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),lh=Symbol.for("react.provider"),oh=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),eu=Symbol.for("react.suspense"),tu=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),ih=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,pc;function go(e){if(pc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pc=t&&t[1]||""}return`
`+pc+e}var hc=!1;function gc(e,t){if(!e||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,a=l.length-1;1<=o&&0<=a&&s[o]!==l[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==l[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==l[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?go(e):""}function L0(e){switch(e.tag){case 5:return go(e.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return e=gc(e.type,!1),e;case 11:return e=gc(e.type.render,!1),e;case 1:return e=gc(e.type,!0),e;default:return""}}function nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fl:return"Fragment";case dl:return"Portal";case Zc:return"Profiler";case od:return"StrictMode";case eu:return"Suspense";case tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oh:return(e.displayName||"Context")+".Consumer";case lh:return(e._context.displayName||"Context")+".Provider";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:nu(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return nu(e(t))}catch{}}return null}function P0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nu(t);case 8:return t===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ah(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I0(e){var t=ah(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yi(e){e._valueTracker||(e._valueTracker=I0(e))}function ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ah(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ru(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uh(e,t){t=t.checked,t!=null&&ld(e,"checked",t,!1)}function su(e,t){uh(e,t);var n=Zr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lu(e,t.type,n):t.hasOwnProperty("defaultValue")&&lu(e,t.type,Zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lu(e,t,n){(t!=="number"||Ji(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yo=Array.isArray;function El(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(yo(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zr(n)}}function dh(e,t){var n=Zr(t.value),r=Zr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vi,mh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O0=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){O0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function ph(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function hh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ph(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var D0=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(D0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var du=null,kl=null,Nl=null;function rm(e){if(e=Xo(e)){if(typeof du!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ra(t),du(e.stateNode,e.type,t))}}function gh(e){kl?Nl?Nl.push(e):Nl=[e]:kl=e}function yh(){if(kl){var e=kl,t=Nl;if(Nl=kl=null,rm(e),t)for(e=0;e<t.length;e++)rm(t[e])}}function vh(e,t){return e(t)}function xh(){}var yc=!1;function Sh(e,t,n){if(yc)return e(t,n);yc=!0;try{return vh(e,t,n)}finally{yc=!1,(kl!==null||Nl!==null)&&(xh(),yh())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var r=Ra(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var fu=!1;if(wr)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){fu=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{fu=!1}function z0(e,t,n,r,s,l,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var _o=!1,Zi=null,ea=!1,mu=null,$0={onError:function(e){_o=!0,Zi=e}};function F0(e,t,n,r,s,l,o,a,u){_o=!1,Zi=null,z0.apply($0,arguments)}function B0(e,t,n,r,s,l,o,a,u){if(F0.apply(this,arguments),_o){if(_o){var d=Zi;_o=!1,Zi=null}else throw Error(F(198));ea||(ea=!0,mu=d)}}function Ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sm(e){if(Ds(e)!==e)throw Error(F(188))}function U0(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return sm(s),e;if(l===r)return sm(s),t;l=l.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o){for(a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function wh(e){return e=U0(e),e!==null?Eh(e):null}function Eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eh(e);if(t!==null)return t;e=e.sibling}return null}var kh=rn.unstable_scheduleCallback,lm=rn.unstable_cancelCallback,H0=rn.unstable_shouldYield,G0=rn.unstable_requestPaint,tt=rn.unstable_now,V0=rn.unstable_getCurrentPriorityLevel,ud=rn.unstable_ImmediatePriority,Nh=rn.unstable_UserBlockingPriority,ta=rn.unstable_NormalPriority,Y0=rn.unstable_LowPriority,Ch=rn.unstable_IdlePriority,ja=null,rr=null;function W0(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:K0,Q0=Math.log,X0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(Q0(e)/X0|0)|0}var xi=64,Si=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function na(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vo(a):(l&=o,l!==0&&(r=vo(l)))}else o=n&~s,o!==0?r=vo(o):l!==0&&(r=vo(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pn(t),s=1<<n,r|=e[n],t&=~s;return r}function q0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Pn(l),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=q0(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function pu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jh(){var e=xi;return xi<<=1,!(xi&4194240)&&(xi=64),e}function vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function Z0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pn(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function dd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Re=0;function Mh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Th,fd,bh,Rh,Ah,hu=!1,_i=[],Vr=null,Yr=null,Wr=null,Ao=new Map,Lo=new Map,Fr=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function om(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function so(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Xo(t),t!==null&&fd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tv(e,t,n,r,s){switch(t){case"focusin":return Vr=so(Vr,e,t,n,r,s),!0;case"dragenter":return Yr=so(Yr,e,t,n,r,s),!0;case"mouseover":return Wr=so(Wr,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Ao.set(l,so(Ao.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Lo.set(l,so(Lo.get(l)||null,e,t,n,r,s)),!0}return!1}function Lh(e){var t=Cs(e.target);if(t!==null){var n=Ds(t);if(n!==null){if(t=n.tag,t===13){if(t=_h(n),t!==null){e.blockedOn=t,Ah(e.priority,function(){bh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uu=r,n.target.dispatchEvent(r),uu=null}else return t=Xo(n),t!==null&&fd(t),e.blockedOn=n,!1;t.shift()}return!0}function im(e,t,n){Bi(e)&&n.delete(t)}function nv(){hu=!1,Vr!==null&&Bi(Vr)&&(Vr=null),Yr!==null&&Bi(Yr)&&(Yr=null),Wr!==null&&Bi(Wr)&&(Wr=null),Ao.forEach(im),Lo.forEach(im)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,nv)))}function Po(e){function t(s){return lo(s,e)}if(0<_i.length){lo(_i[0],e);for(var n=1;n<_i.length;n++){var r=_i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vr!==null&&lo(Vr,e),Yr!==null&&lo(Yr,e),Wr!==null&&lo(Wr,e),Ao.forEach(t),Lo.forEach(t),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)Lh(n),n.blockedOn===null&&Fr.shift()}var Cl=Cr.ReactCurrentBatchConfig,ra=!0;function rv(e,t,n,r){var s=Re,l=Cl.transition;Cl.transition=null;try{Re=1,md(e,t,n,r)}finally{Re=s,Cl.transition=l}}function sv(e,t,n,r){var s=Re,l=Cl.transition;Cl.transition=null;try{Re=4,md(e,t,n,r)}finally{Re=s,Cl.transition=l}}function md(e,t,n,r){if(ra){var s=gu(e,t,n,r);if(s===null)Mc(e,t,r,sa,n),om(e,r);else if(tv(s,e,t,n,r))r.stopPropagation();else if(om(e,r),t&4&&-1<ev.indexOf(e)){for(;s!==null;){var l=Xo(s);if(l!==null&&Th(l),l=gu(e,t,n,r),l===null&&Mc(e,t,r,sa,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Mc(e,t,r,null,n)}}var sa=null;function gu(e,t,n,r){if(sa=null,e=cd(r),e=Cs(e),e!==null)if(t=Ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sa=e,null}function Ph(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V0()){case ud:return 1;case Nh:return 4;case ta:case Y0:return 16;case Ch:return 536870912;default:return 16}default:return 16}}var Ur=null,pd=null,Ui=null;function Ih(){if(Ui)return Ui;var e,t=pd,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return Ui=s.slice(e,1<r?1-r:void 0)}function Hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function am(){return!1}function ln(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?wi:am,this.isPropagationStopped=am,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=ln($l),Qo=qe({},$l,{view:0,detail:0}),lv=ln(Qo),xc,Sc,oo,Ma=qe({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(xc=e.screenX-oo.screenX,Sc=e.screenY-oo.screenY):Sc=xc=0,oo=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),cm=ln(Ma),ov=qe({},Ma,{dataTransfer:0}),iv=ln(ov),av=qe({},Qo,{relatedTarget:0}),_c=ln(av),cv=qe({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=ln(cv),dv=qe({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fv=ln(dv),mv=qe({},$l,{data:0}),um=ln(mv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gv[e])?!!t[e]:!1}function gd(){return yv}var vv=qe({},Qo,{key:function(e){if(e.key){var t=pv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gd,charCode:function(e){return e.type==="keypress"?Hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xv=ln(vv),Sv=qe({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=ln(Sv),_v=qe({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gd}),wv=ln(_v),Ev=qe({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=ln(Ev),Nv=qe({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=ln(Nv),jv=[9,13,27,32],yd=wr&&"CompositionEvent"in window,wo=null;wr&&"documentMode"in document&&(wo=document.documentMode);var Mv=wr&&"TextEvent"in window&&!wo,Oh=wr&&(!yd||wo&&8<wo&&11>=wo),fm=" ",mm=!1;function Dh(e,t){switch(e){case"keyup":return jv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function Tv(e,t){switch(e){case"compositionend":return zh(t);case"keypress":return t.which!==32?null:(mm=!0,fm);case"textInput":return e=t.data,e===fm&&mm?null:e;default:return null}}function bv(e,t){if(ml)return e==="compositionend"||!yd&&Dh(e,t)?(e=Ih(),Ui=pd=Ur=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oh&&t.locale!=="ko"?null:t.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rv[e.type]:t==="textarea"}function $h(e,t,n,r){gh(r),t=la(t,"onChange"),0<t.length&&(n=new hd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Eo=null,Io=null;function Av(e){Kh(e,0)}function Ta(e){var t=gl(e);if(ch(t))return e}function Lv(e,t){if(e==="change")return t}var Fh=!1;if(wr){var wc;if(wr){var Ec="oninput"in document;if(!Ec){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Ec=typeof hm.oninput=="function"}wc=Ec}else wc=!1;Fh=wc&&(!document.documentMode||9<document.documentMode)}function gm(){Eo&&(Eo.detachEvent("onpropertychange",Bh),Io=Eo=null)}function Bh(e){if(e.propertyName==="value"&&Ta(Io)){var t=[];$h(t,Io,e,cd(e)),Sh(Av,t)}}function Pv(e,t,n){e==="focusin"?(gm(),Eo=t,Io=n,Eo.attachEvent("onpropertychange",Bh)):e==="focusout"&&gm()}function Iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(Io)}function Ov(e,t){if(e==="click")return Ta(t)}function Dv(e,t){if(e==="input"||e==="change")return Ta(t)}function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:zv;function Oo(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jc.call(t,s)||!On(e[s],t[s]))return!1}return!0}function ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vm(e,t){var n=ym(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ym(n)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hh(){for(var e=window,t=Ji();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ji(e.document)}return t}function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $v(e){var t=Hh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uh(n.ownerDocument.documentElement,n)){if(r!==null&&vd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=vm(n,l);var o=vm(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fv=wr&&"documentMode"in document&&11>=document.documentMode,pl=null,yu=null,ko=null,vu=!1;function xm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||pl==null||pl!==Ji(r)||(r=pl,"selectionStart"in r&&vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Oo(ko,r)||(ko=r,r=la(yu,"onSelect"),0<r.length&&(t=new hd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pl)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hl={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},kc={},Gh={};wr&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function ba(e){if(kc[e])return kc[e];if(!hl[e])return e;var t=hl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gh)return kc[e]=t[n];return e}var Vh=ba("animationend"),Yh=ba("animationiteration"),Wh=ba("animationstart"),Qh=ba("transitionend"),Xh=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){Xh.set(e,t),Os(t,[e])}for(var Nc=0;Nc<Sm.length;Nc++){var Cc=Sm[Nc],Bv=Cc.toLowerCase(),Uv=Cc[0].toUpperCase()+Cc.slice(1);ts(Bv,"on"+Uv)}ts(Vh,"onAnimationEnd");ts(Yh,"onAnimationIteration");ts(Wh,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(Qh,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function _m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,B0(r,t,void 0,e),e.currentTarget=null}function Kh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==l&&s.isPropagationStopped())break e;_m(s,a,d),l=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==l&&s.isPropagationStopped())break e;_m(s,a,d),l=u}}}if(ea)throw e=mu,ea=!1,mu=null,e}function Be(e,t){var n=t[Eu];n===void 0&&(n=t[Eu]=new Set);var r=e+"__bubble";n.has(r)||(qh(t,e,2,!1),n.add(r))}function jc(e,t,n){var r=0;t&&(r|=4),qh(n,e,r,t)}var ki="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[ki]){e[ki]=!0,sh.forEach(function(n){n!=="selectionchange"&&(Hv.has(n)||jc(n,!1,e),jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ki]||(t[ki]=!0,jc("selectionchange",!1,t))}}function qh(e,t,n,r){switch(Ph(t)){case 1:var s=rv;break;case 4:s=sv;break;default:s=md}n=s.bind(null,t,n,e),s=void 0,!fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Mc(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}a=a.parentNode}}r=r.return}Sh(function(){var d=l,p=cd(n),m=[];e:{var g=Xh.get(e);if(g!==void 0){var _=hd,w=e;switch(e){case"keypress":if(Hi(n)===0)break e;case"keydown":case"keyup":_=xv;break;case"focusin":w="focus",_=_c;break;case"focusout":w="blur",_=_c;break;case"beforeblur":case"afterblur":_=_c;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=wv;break;case Vh:case Yh:case Wh:_=uv;break;case Qh:_=kv;break;case"scroll":_=lv;break;case"wheel":_=Cv;break;case"copy":case"cut":case"paste":_=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=dm}var E=(t&4)!==0,D=!E&&e==="scroll",x=E?g!==null?g+"Capture":null:g;E=[];for(var y=d,S;y!==null;){S=y;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,x!==null&&(k=Ro(y,x),k!=null&&E.push(zo(y,k,S)))),D)break;y=y.return}0<E.length&&(g=new _(g,w,null,n,p),m.push({event:g,listeners:E}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==uu&&(w=n.relatedTarget||n.fromElement)&&(Cs(w)||w[Er]))break e;if((_||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,_?(w=n.relatedTarget||n.toElement,_=d,w=w?Cs(w):null,w!==null&&(D=Ds(w),w!==D||w.tag!==5&&w.tag!==6)&&(w=null)):(_=null,w=d),_!==w)){if(E=cm,k="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=dm,k="onPointerLeave",x="onPointerEnter",y="pointer"),D=_==null?g:gl(_),S=w==null?g:gl(w),g=new E(k,y+"leave",_,n,p),g.target=D,g.relatedTarget=S,k=null,Cs(p)===d&&(E=new E(x,y+"enter",w,n,p),E.target=S,E.relatedTarget=D,k=E),D=k,_&&w)t:{for(E=_,x=w,y=0,S=E;S;S=tl(S))y++;for(S=0,k=x;k;k=tl(k))S++;for(;0<y-S;)E=tl(E),y--;for(;0<S-y;)x=tl(x),S--;for(;y--;){if(E===x||x!==null&&E===x.alternate)break t;E=tl(E),x=tl(x)}E=null}else E=null;_!==null&&wm(m,g,_,E,!1),w!==null&&D!==null&&wm(m,D,w,E,!0)}}e:{if(g=d?gl(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var L=Lv;else if(pm(g))if(Fh)L=Dv;else{L=Iv;var U=Pv}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=Ov);if(L&&(L=L(e,d))){$h(m,L,n,p);break e}U&&U(e,g,d),e==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&lu(g,"number",g.value)}switch(U=d?gl(d):window,e){case"focusin":(pm(U)||U.contentEditable==="true")&&(pl=U,yu=d,ko=null);break;case"focusout":ko=yu=pl=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,xm(m,n,p);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":xm(m,n,p)}var R;if(yd)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ml?Dh(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Oh&&n.locale!=="ko"&&(ml||I!=="onCompositionStart"?I==="onCompositionEnd"&&ml&&(R=Ih()):(Ur=p,pd="value"in Ur?Ur.value:Ur.textContent,ml=!0)),U=la(d,I),0<U.length&&(I=new um(I,e,null,n,p),m.push({event:I,listeners:U}),R?I.data=R:(R=zh(n),R!==null&&(I.data=R)))),(R=Mv?Tv(e,n):bv(e,n))&&(d=la(d,"onBeforeInput"),0<d.length&&(p=new um("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=R))}Kh(m,t)})}function zo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function la(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Ro(e,n),l!=null&&r.unshift(zo(e,l,s)),l=Ro(e,t),l!=null&&r.push(zo(e,l,s))),e=e.return}return r}function tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wm(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=Ro(n,l),u!=null&&o.unshift(zo(n,u,a))):s||(u=Ro(n,l),u!=null&&o.push(zo(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Gv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function Em(e){return(typeof e=="string"?e:""+e).replace(Gv,`
`).replace(Vv,"")}function Ni(e,t,n){if(t=Em(t),Em(e)!==t&&n)throw Error(F(425))}function oa(){}var xu=null,Su=null;function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Yv=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(Qv)}:wu;function Qv(e){setTimeout(function(){throw e})}function Tc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Po(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Po(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),er="__reactFiber$"+Fl,$o="__reactProps$"+Fl,Er="__reactContainer$"+Fl,Eu="__reactEvents$"+Fl,Xv="__reactListeners$"+Fl,Kv="__reactHandles$"+Fl;function Cs(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Er]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nm(e);e!==null;){if(n=e[er])return n;e=Nm(e)}return t}e=n,n=e.parentNode}return null}function Xo(e){return e=e[er]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ra(e){return e[$o]||null}var ku=[],yl=-1;function ns(e){return{current:e}}function He(e){0>yl||(e.current=ku[yl],ku[yl]=null,yl--)}function ze(e,t){yl++,ku[yl]=e.current,e.current=t}var es={},jt=ns(es),Yt=ns(!1),Rs=es;function bl(e,t){var n=e.type.contextTypes;if(!n)return es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(e){return e=e.childContextTypes,e!=null}function ia(){He(Yt),He(jt)}function Cm(e,t,n){if(jt.current!==es)throw Error(F(168));ze(jt,t),ze(Yt,n)}function Jh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,P0(e)||"Unknown",s));return qe({},n,r)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Rs=jt.current,ze(jt,e),ze(Yt,Yt.current),!0}function jm(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Jh(e,t,Rs),r.__reactInternalMemoizedMergedChildContext=e,He(Yt),He(jt),ze(jt,e)):He(Yt),ze(Yt,n)}var vr=null,Aa=!1,bc=!1;function Zh(e){vr===null?vr=[e]:vr.push(e)}function qv(e){Aa=!0,Zh(e)}function rs(){if(!bc&&vr!==null){bc=!0;var e=0,t=Re;try{var n=vr;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vr=null,Aa=!1}catch(s){throw vr!==null&&(vr=vr.slice(e+1)),kh(ud,rs),s}finally{Re=t,bc=!1}}return null}var vl=[],xl=0,ca=null,ua=0,fn=[],mn=0,As=null,xr=1,Sr="";function ks(e,t){vl[xl++]=ua,vl[xl++]=ca,ca=e,ua=t}function eg(e,t,n){fn[mn++]=xr,fn[mn++]=Sr,fn[mn++]=As,As=e;var r=xr;e=Sr;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var l=32-Pn(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xr=1<<32-Pn(t)+s|n<<s|r,Sr=l+e}else xr=1<<l|n<<s|r,Sr=e}function xd(e){e.return!==null&&(ks(e,1),eg(e,1,0))}function Sd(e){for(;e===ca;)ca=vl[--xl],vl[xl]=null,ua=vl[--xl],vl[xl]=null;for(;e===As;)As=fn[--mn],fn[mn]=null,Sr=fn[--mn],fn[mn]=null,xr=fn[--mn],fn[mn]=null}var nn=null,tn=null,Ve=!1,Ln=null;function tg(e,t){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,tn=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=As!==null?{id:xr,overflow:Sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,tn=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cu(e){if(Ve){var t=tn;if(t){var n=t;if(!Mm(e,t)){if(Nu(e))throw Error(F(418));t=Qr(n.nextSibling);var r=nn;t&&Mm(e,t)?tg(r,n):(e.flags=e.flags&-4097|2,Ve=!1,nn=e)}}else{if(Nu(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ve=!1,nn=e}}}function Tm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function Ci(e){if(e!==nn)return!1;if(!Ve)return Tm(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_u(e.type,e.memoizedProps)),t&&(t=tn)){if(Nu(e))throw ng(),Error(F(418));for(;t;)tg(e,t),t=Qr(t.nextSibling)}if(Tm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=Qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=nn?Qr(e.stateNode.nextSibling):null;return!0}function ng(){for(var e=tn;e;)e=Qr(e.nextSibling)}function Rl(){tn=nn=null,Ve=!1}function _d(e){Ln===null?Ln=[e]:Ln.push(e)}var Jv=Cr.ReactCurrentBatchConfig;function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var a=s.refs;o===null?delete a[l]:a[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bm(e){var t=e._init;return t(e._payload)}function rg(e){function t(x,y){if(e){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Jr(x,y),x.index=0,x.sibling=null,x}function l(x,y,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=2,y):S):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,S,k){return y===null||y.tag!==6?(y=Dc(S,x.mode,k),y.return=x,y):(y=s(y,S),y.return=x,y)}function u(x,y,S,k){var L=S.type;return L===fl?p(x,y,S.props.children,k,S.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zr&&bm(L)===y.type)?(k=s(y,S.props),k.ref=io(x,y,S),k.return=x,k):(k=Ki(S.type,S.key,S.props,null,x.mode,k),k.ref=io(x,y,S),k.return=x,k)}function d(x,y,S,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=zc(S,x.mode,k),y.return=x,y):(y=s(y,S.children||[]),y.return=x,y)}function p(x,y,S,k,L){return y===null||y.tag!==7?(y=bs(S,x.mode,k,L),y.return=x,y):(y=s(y,S),y.return=x,y)}function m(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dc(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gi:return S=Ki(y.type,y.key,y.props,null,x.mode,S),S.ref=io(x,null,y),S.return=x,S;case dl:return y=zc(y,x.mode,S),y.return=x,y;case zr:var k=y._init;return m(x,k(y._payload),S)}if(yo(y)||no(y))return y=bs(y,x.mode,S,null),y.return=x,y;ji(x,y)}return null}function g(x,y,S,k){var L=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:a(x,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gi:return S.key===L?u(x,y,S,k):null;case dl:return S.key===L?d(x,y,S,k):null;case zr:return L=S._init,g(x,y,L(S._payload),k)}if(yo(S)||no(S))return L!==null?null:p(x,y,S,k,null);ji(x,S)}return null}function _(x,y,S,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(S)||null,a(y,x,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gi:return x=x.get(k.key===null?S:k.key)||null,u(y,x,k,L);case dl:return x=x.get(k.key===null?S:k.key)||null,d(y,x,k,L);case zr:var U=k._init;return _(x,y,S,U(k._payload),L)}if(yo(k)||no(k))return x=x.get(S)||null,p(y,x,k,L,null);ji(y,k)}return null}function w(x,y,S,k){for(var L=null,U=null,R=y,I=y=0,Y=null;R!==null&&I<S.length;I++){R.index>I?(Y=R,R=null):Y=R.sibling;var z=g(x,R,S[I],k);if(z===null){R===null&&(R=Y);break}e&&R&&z.alternate===null&&t(x,R),y=l(z,y,I),U===null?L=z:U.sibling=z,U=z,R=Y}if(I===S.length)return n(x,R),Ve&&ks(x,I),L;if(R===null){for(;I<S.length;I++)R=m(x,S[I],k),R!==null&&(y=l(R,y,I),U===null?L=R:U.sibling=R,U=R);return Ve&&ks(x,I),L}for(R=r(x,R);I<S.length;I++)Y=_(R,x,I,S[I],k),Y!==null&&(e&&Y.alternate!==null&&R.delete(Y.key===null?I:Y.key),y=l(Y,y,I),U===null?L=Y:U.sibling=Y,U=Y);return e&&R.forEach(function(ee){return t(x,ee)}),Ve&&ks(x,I),L}function E(x,y,S,k){var L=no(S);if(typeof L!="function")throw Error(F(150));if(S=L.call(S),S==null)throw Error(F(151));for(var U=L=null,R=y,I=y=0,Y=null,z=S.next();R!==null&&!z.done;I++,z=S.next()){R.index>I?(Y=R,R=null):Y=R.sibling;var ee=g(x,R,z.value,k);if(ee===null){R===null&&(R=Y);break}e&&R&&ee.alternate===null&&t(x,R),y=l(ee,y,I),U===null?L=ee:U.sibling=ee,U=ee,R=Y}if(z.done)return n(x,R),Ve&&ks(x,I),L;if(R===null){for(;!z.done;I++,z=S.next())z=m(x,z.value,k),z!==null&&(y=l(z,y,I),U===null?L=z:U.sibling=z,U=z);return Ve&&ks(x,I),L}for(R=r(x,R);!z.done;I++,z=S.next())z=_(R,x,I,z.value,k),z!==null&&(e&&z.alternate!==null&&R.delete(z.key===null?I:z.key),y=l(z,y,I),U===null?L=z:U.sibling=z,U=z);return e&&R.forEach(function(ve){return t(x,ve)}),Ve&&ks(x,I),L}function D(x,y,S,k){if(typeof S=="object"&&S!==null&&S.type===fl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gi:e:{for(var L=S.key,U=y;U!==null;){if(U.key===L){if(L=S.type,L===fl){if(U.tag===7){n(x,U.sibling),y=s(U,S.props.children),y.return=x,x=y;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zr&&bm(L)===U.type){n(x,U.sibling),y=s(U,S.props),y.ref=io(x,U,S),y.return=x,x=y;break e}n(x,U);break}else t(x,U);U=U.sibling}S.type===fl?(y=bs(S.props.children,x.mode,k,S.key),y.return=x,x=y):(k=Ki(S.type,S.key,S.props,null,x.mode,k),k.ref=io(x,y,S),k.return=x,x=k)}return o(x);case dl:e:{for(U=S.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),y=s(y,S.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=zc(S,x.mode,k),y.return=x,x=y}return o(x);case zr:return U=S._init,D(x,y,U(S._payload),k)}if(yo(S))return w(x,y,S,k);if(no(S))return E(x,y,S,k);ji(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,S),y.return=x,x=y):(n(x,y),y=Dc(S,x.mode,k),y.return=x,x=y),o(x)):n(x,y)}return D}var Al=rg(!0),sg=rg(!1),da=ns(null),fa=null,Sl=null,wd=null;function Ed(){wd=Sl=fa=null}function kd(e){var t=da.current;He(da),e._currentValue=t}function ju(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jl(e,t){fa=e,wd=Sl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(wd!==e)if(e={context:e,memoizedValue:t,next:null},Sl===null){if(fa===null)throw Error(F(308));Sl=e,fa.dependencies={lanes:0,firstContext:e}}else Sl=Sl.next=e;return t}var js=null;function Nd(e){js===null?js=[e]:js.push(e)}function lg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Nd(t)):(n.next=s.next,s.next=n),t.interleaved=n,kr(e,r)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $r=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,kr(e,n)}return s=r.interleaved,s===null?(t.next=t,Nd(r)):(t.next=s.next,s.next=t),r.interleaved=t,kr(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dd(e,n)}}function Rm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ma(e,t,n,r){var s=e.updateQueue;$r=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?l=d:o.next=d,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=u))}if(l!==null){var m=s.baseState;o=0,p=d=u=null,a=l;do{var g=a.lane,_=a.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,E=a;switch(g=t,_=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){m=w.call(_,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,g=typeof w=="function"?w.call(_,m,g):w,g==null)break e;m=qe({},m,g);break e;case 2:$r=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else _={eventTime:_,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=_,u=m):p=p.next=_,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(u=m),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=m}}function Am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Ko={},sr=ns(Ko),Fo=ns(Ko),Bo=ns(Ko);function Ms(e){if(e===Ko)throw Error(F(174));return e}function jd(e,t){switch(ze(Bo,t),ze(Fo,e),ze(sr,Ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}He(sr),ze(sr,t)}function Ll(){He(sr),He(Fo),He(Bo)}function ig(e){Ms(Bo.current);var t=Ms(sr.current),n=iu(t,e.type);t!==n&&(ze(Fo,e),ze(sr,n))}function Md(e){Fo.current===e&&(He(sr),He(Fo))}var Xe=ns(0);function pa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rc=[];function Td(){for(var e=0;e<Rc.length;e++)Rc[e]._workInProgressVersionPrimary=null;Rc.length=0}var Vi=Cr.ReactCurrentDispatcher,Ac=Cr.ReactCurrentBatchConfig,Ls=0,Ke=null,ct=null,mt=null,ha=!1,No=!1,Uo=0,Zv=0;function kt(){throw Error(F(321))}function bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Rd(e,t,n,r,s,l){if(Ls=l,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?r1:s1,e=n(r,s),No){l=0;do{if(No=!1,Uo=0,25<=l)throw Error(F(301));l+=1,mt=ct=null,t.updateQueue=null,Vi.current=l1,e=n(r,s)}while(No)}if(Vi.current=ga,t=ct!==null&&ct.next!==null,Ls=0,mt=ct=Ke=null,ha=!1,t)throw Error(F(300));return e}function Ad(){var e=Uo!==0;return Uo=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=e:mt=mt.next=e,mt}function yn(){if(ct===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=mt===null?Ke.memoizedState:mt.next;if(t!==null)mt=t,ct=e;else{if(e===null)throw Error(F(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?Ke.memoizedState=mt=e:mt=mt.next=e}return mt}function Ho(e,t){return typeof t=="function"?t(e):t}function Lc(e){var t=yn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=ct,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=o=null,u=null,d=l;do{var p=d.lane;if((Ls&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,Ke.lanes|=p,Ps|=p}d=d.next}while(d!==null&&d!==l);u===null?o=r:u.next=a,On(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Ke.lanes|=l,Ps|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pc(e){var t=yn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);On(l,t.memoizedState)||(Vt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ag(){}function cg(e,t){var n=Ke,r=yn(),s=t(),l=!On(r.memoizedState,s);if(l&&(r.memoizedState=s,Vt=!0),r=r.queue,Ld(fg.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Go(9,dg.bind(null,n,r,s,t),void 0,null),pt===null)throw Error(F(349));Ls&30||ug(n,t,s)}return s}function ug(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dg(e,t,n,r){t.value=n,t.getSnapshot=r,mg(t)&&pg(e)}function fg(e,t,n){return n(function(){mg(t)&&pg(e)})}function mg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function pg(e){var t=kr(e,1);t!==null&&In(t,e,1,-1)}function Lm(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=n1.bind(null,Ke,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hg(){return yn().memoizedState}function Yi(e,t,n,r){var s=Zn();Ke.flags|=e,s.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function La(e,t,n,r){var s=yn();r=r===void 0?null:r;var l=void 0;if(ct!==null){var o=ct.memoizedState;if(l=o.destroy,r!==null&&bd(r,o.deps)){s.memoizedState=Go(t,n,l,r);return}}Ke.flags|=e,s.memoizedState=Go(1|t,n,l,r)}function Pm(e,t){return Yi(8390656,8,e,t)}function Ld(e,t){return La(2048,8,e,t)}function gg(e,t){return La(4,2,e,t)}function yg(e,t){return La(4,4,e,t)}function vg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xg(e,t,n){return n=n!=null?n.concat([e]):null,La(4,4,vg.bind(null,t,e),n)}function Pd(){}function Sg(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _g(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wg(e,t,n){return Ls&21?(On(n,t)||(n=jh(),Ke.lanes|=n,Ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n)}function e1(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Ac.transition;Ac.transition={};try{e(!1),t()}finally{Re=n,Ac.transition=r}}function Eg(){return yn().memoizedState}function t1(e,t,n){var r=qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kg(e))Ng(t,n);else if(n=lg(e,t,n,r),n!==null){var s=Ot();In(n,e,r,s),Cg(n,t,r)}}function n1(e,t,n){var r=qr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kg(e))Ng(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,a=l(o,n);if(s.hasEagerState=!0,s.eagerState=a,On(a,o)){var u=t.interleaved;u===null?(s.next=s,Nd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=lg(e,t,s,r),n!==null&&(s=Ot(),In(n,e,r,s),Cg(n,t,r))}}function kg(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Ng(e,t){No=ha=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dd(e,n)}}var ga={readContext:gn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},r1={readContext:gn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Pm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4194308,4,vg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yi(4,2,e,t)},useMemo:function(e,t){var n=Zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=t1.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:Lm,useDebugValue:Pd,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=Lm(!1),t=e[0];return e=e1.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,s=Zn();if(Ve){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),pt===null)throw Error(F(349));Ls&30||ug(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Pm(fg.bind(null,r,l,e),[e]),r.flags|=2048,Go(9,dg.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Zn(),t=pt.identifierPrefix;if(Ve){var n=Sr,r=xr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s1={readContext:gn,useCallback:Sg,useContext:gn,useEffect:Ld,useImperativeHandle:xg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:_g,useReducer:Lc,useRef:hg,useState:function(){return Lc(Ho)},useDebugValue:Pd,useDeferredValue:function(e){var t=yn();return wg(t,ct.memoizedState,e)},useTransition:function(){var e=Lc(Ho)[0],t=yn().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:cg,useId:Eg,unstable_isNewReconciler:!1},l1={readContext:gn,useCallback:Sg,useContext:gn,useEffect:Ld,useImperativeHandle:xg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:_g,useReducer:Pc,useRef:hg,useState:function(){return Pc(Ho)},useDebugValue:Pd,useDeferredValue:function(e){var t=yn();return ct===null?t.memoizedState=e:wg(t,ct.memoizedState,e)},useTransition:function(){var e=Pc(Ho)[0],t=yn().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:cg,useId:Eg,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pa={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ot(),s=qr(e),l=_r(r,s);l.payload=t,n!=null&&(l.callback=n),t=Xr(e,l,s),t!==null&&(In(t,e,s,r),Gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ot(),s=qr(e),l=_r(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Xr(e,l,s),t!==null&&(In(t,e,s,r),Gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),r=qr(e),s=_r(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xr(e,s,r),t!==null&&(In(t,e,r,n),Gi(t,e,r))}};function Im(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,r)||!Oo(s,l):!0}function jg(e,t,n){var r=!1,s=es,l=t.contextType;return typeof l=="object"&&l!==null?l=gn(l):(s=Wt(t)?Rs:jt.current,r=t.contextTypes,l=(r=r!=null)?bl(e,s):es),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Om(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cd(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=gn(l):(l=Wt(t)?Rs:jt.current,s.context=bl(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Mu(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pa.enqueueReplaceState(s,s.state,null),ma(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pl(e,t){try{var n="",r=t;do n+=L0(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function Mg(e,t,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){va||(va=!0,Fu=r),bu(e,t)},n}function Tg(e,t,n){n=_r(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){bu(e,t),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Dm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new o1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=S1.bind(null,e,t,n),t.then(e,e))}function zm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $m(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_r(-1,1),t.tag=2,Xr(n,t,1))),n.lanes|=1),e)}var i1=Cr.ReactCurrentOwner,Vt=!1;function It(e,t,n,r){t.child=e===null?sg(t,null,n,r):Al(t,e.child,n,r)}function Fm(e,t,n,r,s){n=n.render;var l=t.ref;return jl(t,s),r=Rd(e,t,n,r,l,s),n=Ad(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(Ve&&n&&xd(t),t.flags|=1,It(e,t,r,s),t.child)}function Bm(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Ud(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,bg(e,t,l,r,s)):(e=Ki(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(o,r)&&e.ref===t.ref)return Nr(e,t,s)}return t.flags|=1,e=Jr(l,r),e.ref=t.ref,e.return=t,t.child=e}function bg(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Oo(l,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,Nr(e,t,s)}return Ru(e,t,n,r,s)}function Rg(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(wl,Zt),Zt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(wl,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ze(wl,Zt),Zt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ze(wl,Zt),Zt|=r;return It(e,t,s,n),t.child}function Ag(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ru(e,t,n,r,s){var l=Wt(n)?Rs:jt.current;return l=bl(t,l),jl(t,s),n=Rd(e,t,n,r,l,s),r=Ad(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(Ve&&r&&xd(t),t.flags|=1,It(e,t,n,s),t.child)}function Um(e,t,n,r,s){if(Wt(n)){var l=!0;aa(t)}else l=!1;if(jl(t,s),t.stateNode===null)Wi(e,t),jg(t,n,r),Tu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=gn(d):(d=Wt(n)?Rs:jt.current,d=bl(t,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&Om(t,o,r,d),$r=!1;var g=t.memoizedState;o.state=g,ma(t,r,o,s),u=t.memoizedState,a!==r||g!==u||Yt.current||$r?(typeof p=="function"&&(Mu(t,n,p,r),u=t.memoizedState),(a=$r||Im(t,n,a,r,g,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,og(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:bn(t.type,a),o.props=d,m=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=gn(u):(u=Wt(n)?Rs:jt.current,u=bl(t,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==u)&&Om(t,o,r,u),$r=!1,g=t.memoizedState,o.state=g,ma(t,r,o,s);var w=t.memoizedState;a!==m||g!==w||Yt.current||$r?(typeof _=="function"&&(Mu(t,n,_,r),w=t.memoizedState),(d=$r||Im(t,n,d,r,g,w,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,l,s)}function Au(e,t,n,r,s,l){Ag(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&jm(t,n,!1),Nr(e,t,l);r=t.stateNode,i1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Al(t,e.child,null,l),t.child=Al(t,null,a,l)):It(e,t,a,l),t.memoizedState=r.state,s&&jm(t,n,!0),t.child}function Lg(e){var t=e.stateNode;t.pendingContext?Cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cm(e,t.context,!1),jd(e,t.containerInfo)}function Hm(e,t,n,r,s){return Rl(),_d(s),t.flags|=256,It(e,t,n,r),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pg(e,t,n){var r=t.pendingProps,s=Xe.current,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Xe,s&1),e===null)return Cu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Da(o,r,0,null),e=bs(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pu(n),t.memoizedState=Lu,e):Id(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return a1(e,t,o,r,a,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Jr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=Jr(a,l):(l=bs(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Pu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Lu,r}return l=e.child,e=l.sibling,r=Jr(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Id(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mi(e,t,n,r){return r!==null&&_d(r),Al(t,e.child,null,n),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a1(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ic(Error(F(422))),Mi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Da({mode:"visible",children:r.children},s,0,null),l=bs(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Al(t,e.child,null,o),t.child.memoizedState=Pu(o),t.memoizedState=Lu,l);if(!(t.mode&1))return Mi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(F(419)),r=Ic(l,r,void 0),Mi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Vt||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,kr(e,s),In(r,e,s,-1))}return Bd(),r=Ic(Error(F(421))),Mi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_1.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,tn=Qr(s.nextSibling),nn=t,Ve=!0,Ln=null,e!==null&&(fn[mn++]=xr,fn[mn++]=Sr,fn[mn++]=As,xr=e.id,Sr=e.overflow,As=t),t=Id(t,r.children),t.flags|=4096,t)}function Gm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ju(e.return,t,n)}function Oc(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Ig(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(It(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,n,t);else if(e.tag===19)Gm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&pa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oc(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oc(t,!0,n,null,l);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function c1(e,t,n){switch(t.tag){case 3:Lg(t),Rl();break;case 5:ig(t);break;case 1:Wt(t.type)&&aa(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(da,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?Pg(e,t,n):(ze(Xe,Xe.current&1),e=Nr(e,t,n),e!==null?e.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ig(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Rg(e,t,n)}return Nr(e,t,n)}var Og,Iu,Dg,zg;Og=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};Dg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ms(sr.current);var l=null;switch(n){case"input":s=ru(e,s),r=ru(e,r),l=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),l=[];break;case"textarea":s=ou(e,s),r=ou(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oa)}au(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(To.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(To.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Be("scroll",e),l||a===u||(l=[])):(l=l||[]).push(d,u))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};zg=function(e,t,n,r){n!==r&&(t.flags|=4)};function ao(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function u1(e,t,n){var r=t.pendingProps;switch(Sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Wt(t.type)&&ia(),Nt(t),null;case 3:return r=t.stateNode,Ll(),He(Yt),He(jt),Td(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(Hu(Ln),Ln=null))),Iu(e,t),Nt(t),null;case 5:Md(t);var s=Ms(Bo.current);if(n=t.type,e!==null&&t.stateNode!=null)Dg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Nt(t),null}if(e=Ms(sr.current),Ci(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[er]=t,r[$o]=l,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<xo.length;s++)Be(xo[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Zf(r,l),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Be("invalid",r);break;case"textarea":tm(r,l),Be("invalid",r)}au(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Ni(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Ni(r.textContent,a,e),s=["children",""+a]):To.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":yi(r),em(r,l,!0);break;case"textarea":yi(r),nm(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=oa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[er]=t,e[$o]=r,Og(e,t,!1,!1),t.stateNode=e;e:{switch(o=cu(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<xo.length;s++)Be(xo[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Zf(e,r),s=ru(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Be("invalid",e);break;case"textarea":tm(e,r),s=ou(e,r),Be("invalid",e);break;default:s=r}au(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?hh(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mh(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bo(e,u):typeof u=="number"&&bo(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(To.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Be("scroll",e):u!=null&&ld(e,l,u,o))}switch(n){case"input":yi(e),em(e,r,!1);break;case"textarea":yi(e),nm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zr(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?El(e,!!r.multiple,l,!1):r.defaultValue!=null&&El(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)zg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Ms(Bo.current),Ms(sr.current),Ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[er]=t,(l=r.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:Ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=t,t.stateNode=r}return Nt(t),null;case 13:if(He(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&tn!==null&&t.mode&1&&!(t.flags&128))ng(),Rl(),t.flags|=98560,l=!1;else if(l=Ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[er]=t}else Rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),l=!1}else Ln!==null&&(Hu(Ln),Ln=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?ut===0&&(ut=3):Bd())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Ll(),Iu(e,t),e===null&&Do(t.stateNode.containerInfo),Nt(t),null;case 10:return kd(t.type._context),Nt(t),null;case 17:return Wt(t.type)&&ia(),Nt(t),null;case 19:if(He(Xe),l=t.memoizedState,l===null)return Nt(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)ao(l,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pa(e),o!==null){for(t.flags|=128,ao(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),t.child}e=e.sibling}l.tail!==null&&tt()>Il&&(t.flags|=128,r=!0,ao(l,!1),t.lanes=4194304)}else{if(!r)if(e=pa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ao(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ve)return Nt(t),null}else 2*tt()-l.renderingStartTime>Il&&n!==1073741824&&(t.flags|=128,r=!0,ao(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tt(),t.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return Fd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zt&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function d1(e,t){switch(Sd(t),t.tag){case 1:return Wt(t.type)&&ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ll(),He(Yt),He(jt),Td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Md(t),null;case 13:if(He(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Xe),null;case 4:return Ll(),null;case 10:return kd(t.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var Ti=!1,Ct=!1,f1=typeof WeakSet=="function"?WeakSet:Set,Q=null;function _l(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Ou(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Vm=!1;function m1(e,t){if(xu=ra,e=Hh(),vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,p=0,m=e,g=null;t:for(;;){for(var _;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==l||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===e)break t;if(g===n&&++d===s&&(a=o),g===l&&++p===r&&(u=o),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:e,selectionRange:n},ra=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,D=w.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?E:bn(t.type,E),D);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){Je(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=Vm,Vm=!1,w}function Co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Ou(t,n,l)}s=s.next}while(s!==r)}}function Ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Du(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $g(e){var t=e.alternate;t!==null&&(e.alternate=null,$g(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[$o],delete t[Eu],delete t[Xv],delete t[Kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fg(e){return e.tag===5||e.tag===3||e.tag===4}function Ym(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oa));else if(r!==4&&(e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function $u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}var vt=null,An=!1;function Or(e,t,n){for(n=n.child;n!==null;)Bg(e,t,n),n=n.sibling}function Bg(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ja,n)}catch{}switch(n.tag){case 5:Ct||_l(n,t);case 6:var r=vt,s=An;vt=null,Or(e,t,n),vt=r,An=s,vt!==null&&(An?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(An?(e=vt,n=n.stateNode,e.nodeType===8?Tc(e.parentNode,n):e.nodeType===1&&Tc(e,n),Po(e)):Tc(vt,n.stateNode));break;case 4:r=vt,s=An,vt=n.stateNode.containerInfo,An=!0,Or(e,t,n),vt=r,An=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ou(n,t,o),s=s.next}while(s!==r)}Or(e,t,n);break;case 1:if(!Ct&&(_l(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,t,a)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Or(e,t,n),Ct=r):Or(e,t,n);break;default:Or(e,t,n)}}function Wm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new f1),t.forEach(function(r){var s=w1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,An=!1;break e;case 3:vt=a.stateNode.containerInfo,An=!0;break e;case 4:vt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(vt===null)throw Error(F(160));Bg(l,o,s),vt=null,An=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Je(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ug(t,e),t=t.sibling}function Ug(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mn(t,e),Kn(e),r&4){try{Co(3,e,e.return),Ia(3,e)}catch(E){Je(e,e.return,E)}try{Co(5,e,e.return)}catch(E){Je(e,e.return,E)}}break;case 1:Mn(t,e),Kn(e),r&512&&n!==null&&_l(n,n.return);break;case 5:if(Mn(t,e),Kn(e),r&512&&n!==null&&_l(n,n.return),e.flags&32){var s=e.stateNode;try{bo(s,"")}catch(E){Je(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&uh(s,l),cu(a,o);var d=cu(a,l);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?hh(s,m):p==="dangerouslySetInnerHTML"?mh(s,m):p==="children"?bo(s,m):ld(s,p,m,d)}switch(a){case"input":su(s,l);break;case"textarea":dh(s,l);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?El(s,!!l.multiple,_,!1):g!==!!l.multiple&&(l.defaultValue!=null?El(s,!!l.multiple,l.defaultValue,!0):El(s,!!l.multiple,l.multiple?[]:"",!1))}s[$o]=l}catch(E){Je(e,e.return,E)}}break;case 6:if(Mn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(E){Je(e,e.return,E)}}break;case 3:if(Mn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(E){Je(e,e.return,E)}break;case 4:Mn(t,e),Kn(e);break;case 13:Mn(t,e),Kn(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(zd=tt())),r&4&&Wm(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(d=Ct)||p,Mn(t,e),Ct=d):Mn(t,e),Kn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(m=Q=p;Q!==null;){switch(g=Q,_=g.child,g.tag){case 0:case 11:case 14:case 15:Co(4,g,g.return);break;case 1:_l(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){Je(r,n,E)}}break;case 5:_l(g,g.return);break;case 22:if(g.memoizedState!==null){Xm(m);continue}}_!==null?(_.return=g,Q=_):Xm(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ph("display",o))}catch(E){Je(e,e.return,E)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){Je(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Mn(t,e),Kn(e),r&4&&Wm(e);break;case 21:break;default:Mn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Fg(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bo(s,""),r.flags&=-33);var l=Ym(e);$u(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ym(e);zu(e,a,o);break;default:throw Error(F(161))}}catch(u){Je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p1(e,t,n){Q=e,Hg(e)}function Hg(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ti;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=Ti;var d=Ct;if(Ti=o,(Ct=u)&&!d)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Km(s):u!==null?(u.return=o,Q=u):Km(s);for(;l!==null;)Q=l,Hg(l),l=l.sibling;Q=s,Ti=a,Ct=d}Qm(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Q=l):Qm(e)}}function Qm(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Am(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Am(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Po(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ct||t.flags&512&&Du(t)}catch(g){Je(t,t.return,g)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Xm(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Km(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ia(4,t)}catch(u){Je(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Je(t,s,u)}}var l=t.return;try{Du(t)}catch(u){Je(t,l,u)}break;case 5:var o=t.return;try{Du(t)}catch(u){Je(t,o,u)}}}catch(u){Je(t,t.return,u)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var h1=Math.ceil,ya=Cr.ReactCurrentDispatcher,Od=Cr.ReactCurrentOwner,hn=Cr.ReactCurrentBatchConfig,_e=0,pt=null,lt=null,xt=0,Zt=0,wl=ns(0),ut=0,Vo=null,Ps=0,Oa=0,Dd=0,jo=null,Gt=null,zd=0,Il=1/0,yr=null,va=!1,Fu=null,Kr=null,bi=!1,Hr=null,xa=0,Mo=0,Bu=null,Qi=-1,Xi=0;function Ot(){return _e&6?tt():Qi!==-1?Qi:Qi=tt()}function qr(e){return e.mode&1?_e&2&&xt!==0?xt&-xt:Jv.transition!==null?(Xi===0&&(Xi=jh()),Xi):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Ph(e.type)),e):1}function In(e,t,n,r){if(50<Mo)throw Mo=0,Bu=null,Error(F(185));Wo(e,n,r),(!(_e&2)||e!==pt)&&(e===pt&&(!(_e&2)&&(Oa|=n),ut===4&&Br(e,xt)),Qt(e,r),n===1&&_e===0&&!(t.mode&1)&&(Il=tt()+500,Aa&&rs()))}function Qt(e,t){var n=e.callbackNode;J0(e,t);var r=na(e,e===pt?xt:0);if(r===0)n!==null&&lm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lm(n),t===1)e.tag===0?qv(qm.bind(null,e)):Zh(qm.bind(null,e)),Wv(function(){!(_e&6)&&rs()}),n=null;else{switch(Mh(r)){case 1:n=ud;break;case 4:n=Nh;break;case 16:n=ta;break;case 536870912:n=Ch;break;default:n=ta}n=qg(n,Gg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gg(e,t){if(Qi=-1,Xi=0,_e&6)throw Error(F(327));var n=e.callbackNode;if(Ml()&&e.callbackNode!==n)return null;var r=na(e,e===pt?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sa(e,r);else{t=r;var s=_e;_e|=2;var l=Yg();(pt!==e||xt!==t)&&(yr=null,Il=tt()+500,Ts(e,t));do try{v1();break}catch(a){Vg(e,a)}while(!0);Ed(),ya.current=l,_e=s,lt!==null?t=0:(pt=null,xt=0,t=ut)}if(t!==0){if(t===2&&(s=pu(e),s!==0&&(r=s,t=Uu(e,s))),t===1)throw n=Vo,Ts(e,0),Br(e,r),Qt(e,tt()),n;if(t===6)Br(e,r);else{if(s=e.current.alternate,!(r&30)&&!g1(s)&&(t=Sa(e,r),t===2&&(l=pu(e),l!==0&&(r=l,t=Uu(e,l))),t===1))throw n=Vo,Ts(e,0),Br(e,r),Qt(e,tt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Ns(e,Gt,yr);break;case 3:if(Br(e,r),(r&130023424)===r&&(t=zd+500-tt(),10<t)){if(na(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wu(Ns.bind(null,e,Gt,yr),t);break}Ns(e,Gt,yr);break;case 4:if(Br(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Pn(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h1(r/1960))-r,10<r){e.timeoutHandle=wu(Ns.bind(null,e,Gt,yr),r);break}Ns(e,Gt,yr);break;case 5:Ns(e,Gt,yr);break;default:throw Error(F(329))}}}return Qt(e,tt()),e.callbackNode===n?Gg.bind(null,e):null}function Uu(e,t){var n=jo;return e.current.memoizedState.isDehydrated&&(Ts(e,t).flags|=256),e=Sa(e,t),e!==2&&(t=Gt,Gt=n,t!==null&&Hu(t)),e}function Hu(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function g1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!On(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Dd,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function qm(e){if(_e&6)throw Error(F(327));Ml();var t=na(e,0);if(!(t&1))return Qt(e,tt()),null;var n=Sa(e,t);if(e.tag!==0&&n===2){var r=pu(e);r!==0&&(t=r,n=Uu(e,r))}if(n===1)throw n=Vo,Ts(e,0),Br(e,t),Qt(e,tt()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ns(e,Gt,yr),Qt(e,tt()),null}function $d(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(Il=tt()+500,Aa&&rs())}}function Is(e){Hr!==null&&Hr.tag===0&&!(_e&6)&&Ml();var t=_e;_e|=1;var n=hn.transition,r=Re;try{if(hn.transition=null,Re=1,e)return e()}finally{Re=r,hn.transition=n,_e=t,!(_e&6)&&rs()}}function Fd(){Zt=wl.current,He(wl)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yv(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Sd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ia();break;case 3:Ll(),He(Yt),He(jt),Td();break;case 5:Md(r);break;case 4:Ll();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:kd(r.type._context);break;case 22:case 23:Fd()}n=n.return}if(pt=e,lt=e=Jr(e.current,null),xt=Zt=t,ut=0,Vo=null,Dd=Oa=Ps=0,Gt=jo=null,js!==null){for(t=0;t<js.length;t++)if(n=js[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}js=null}return e}function Vg(e,t){do{var n=lt;try{if(Ed(),Vi.current=ga,ha){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ha=!1}if(Ls=0,mt=ct=Ke=null,No=!1,Uo=0,Od.current=null,n===null||n.return===null){ut=1,Vo=t,lt=null;break}e:{var l=e,o=n.return,a=n,u=t;if(t=xt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=a,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=zm(o);if(_!==null){_.flags&=-257,$m(_,o,a,l,t),_.mode&1&&Dm(l,d,t),t=_,u=d;var w=t.updateQueue;if(w===null){var E=new Set;E.add(u),t.updateQueue=E}else w.add(u);break e}else{if(!(t&1)){Dm(l,d,t),Bd();break e}u=Error(F(426))}}else if(Ve&&a.mode&1){var D=zm(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),$m(D,o,a,l,t),_d(Pl(u,a));break e}}l=u=Pl(u,a),ut!==4&&(ut=2),jo===null?jo=[l]:jo.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Mg(l,u,t);Rm(l,x);break e;case 1:a=u;var y=l.type,S=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Kr===null||!Kr.has(S)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=Tg(l,a,t);Rm(l,k);break e}}l=l.return}while(l!==null)}Qg(n)}catch(L){t=L,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function Yg(){var e=ya.current;return ya.current=ga,e===null?ga:e}function Bd(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(Ps&268435455)&&!(Oa&268435455)||Br(pt,xt)}function Sa(e,t){var n=_e;_e|=2;var r=Yg();(pt!==e||xt!==t)&&(yr=null,Ts(e,t));do try{y1();break}catch(s){Vg(e,s)}while(!0);if(Ed(),_e=n,ya.current=r,lt!==null)throw Error(F(261));return pt=null,xt=0,ut}function y1(){for(;lt!==null;)Wg(lt)}function v1(){for(;lt!==null&&!H0();)Wg(lt)}function Wg(e){var t=Kg(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Qg(e):lt=t,Od.current=null}function Qg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=d1(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,lt=null;return}}else if(n=u1(n,t,Zt),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ut===0&&(ut=5)}function Ns(e,t,n){var r=Re,s=hn.transition;try{hn.transition=null,Re=1,x1(e,t,n,r)}finally{hn.transition=s,Re=r}return null}function x1(e,t,n,r){do Ml();while(Hr!==null);if(_e&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Z0(e,l),e===pt&&(lt=pt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bi||(bi=!0,qg(ta,function(){return Ml(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=hn.transition,hn.transition=null;var o=Re;Re=1;var a=_e;_e|=4,Od.current=null,m1(e,n),Ug(n,e),$v(Su),ra=!!xu,Su=xu=null,e.current=n,p1(n),G0(),_e=a,Re=o,hn.transition=l}else e.current=n;if(bi&&(bi=!1,Hr=e,xa=s),l=e.pendingLanes,l===0&&(Kr=null),W0(n.stateNode),Qt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(va)throw va=!1,e=Fu,Fu=null,e;return xa&1&&e.tag!==0&&Ml(),l=e.pendingLanes,l&1?e===Bu?Mo++:(Mo=0,Bu=e):Mo=0,rs(),null}function Ml(){if(Hr!==null){var e=Mh(xa),t=hn.transition,n=Re;try{if(hn.transition=null,Re=16>e?16:e,Hr===null)var r=!1;else{if(e=Hr,Hr=null,xa=0,_e&6)throw Error(F(331));var s=_e;for(_e|=4,Q=e.current;Q!==null;){var l=Q,o=l.child;if(Q.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(Q=d;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Co(8,p,l)}var m=p.child;if(m!==null)m.return=p,Q=m;else for(;Q!==null;){p=Q;var g=p.sibling,_=p.return;if($g(p),p===d){Q=null;break}if(g!==null){g.return=_,Q=g;break}Q=_}}}var w=l.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var D=E.sibling;E.sibling=null,E=D}while(E!==null)}}Q=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,Q=o;else e:for(;Q!==null;){if(l=Q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Co(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,Q=x;break e}Q=l.return}}var y=e.current;for(Q=y;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ia(9,a)}}catch(L){Je(a,a.return,L)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(_e=s,rs(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ja,e)}catch{}r=!0}return r}finally{Re=n,hn.transition=t}}return!1}function Jm(e,t,n){t=Pl(n,t),t=Mg(e,t,1),e=Xr(e,t,1),t=Ot(),e!==null&&(Wo(e,1,t),Qt(e,t))}function Je(e,t,n){if(e.tag===3)Jm(e,e,n);else for(;t!==null;){if(t.tag===3){Jm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){e=Pl(n,e),e=Tg(t,e,1),t=Xr(t,e,1),e=Ot(),t!==null&&(Wo(t,1,e),Qt(t,e));break}}t=t.return}}function S1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(xt&n)===n&&(ut===4||ut===3&&(xt&130023424)===xt&&500>tt()-zd?Ts(e,0):Dd|=n),Qt(e,t)}function Xg(e,t){t===0&&(e.mode&1?(t=Si,Si<<=1,!(Si&130023424)&&(Si=4194304)):t=1);var n=Ot();e=kr(e,t),e!==null&&(Wo(e,t,n),Qt(e,n))}function _1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xg(e,n)}function w1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Xg(e,n)}var Kg;Kg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vt=!1,c1(e,t,n);Vt=!!(e.flags&131072)}else Vt=!1,Ve&&t.flags&1048576&&eg(t,ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wi(e,t),e=t.pendingProps;var s=bl(t,jt.current);jl(t,n),s=Rd(null,t,r,e,s,n);var l=Ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(r)?(l=!0,aa(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cd(t),s.updater=Pa,t.stateNode=s,s._reactInternals=t,Tu(t,r,e,n),t=Au(null,t,r,!0,l,n)):(t.tag=0,Ve&&l&&xd(t),It(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=k1(r),e=bn(r,e),s){case 0:t=Ru(null,t,r,e,n);break e;case 1:t=Um(null,t,r,e,n);break e;case 11:t=Fm(null,t,r,e,n);break e;case 14:t=Bm(null,t,r,bn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Ru(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Um(e,t,r,s,n);case 3:e:{if(Lg(t),e===null)throw Error(F(387));r=t.pendingProps,l=t.memoizedState,s=l.element,og(e,t),ma(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Pl(Error(F(423)),t),t=Hm(e,t,r,n,s);break e}else if(r!==s){s=Pl(Error(F(424)),t),t=Hm(e,t,r,n,s);break e}else for(tn=Qr(t.stateNode.containerInfo.firstChild),nn=t,Ve=!0,Ln=null,n=sg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===s){t=Nr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return ig(t),e===null&&Cu(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,_u(r,s)?o=null:l!==null&&_u(r,l)&&(t.flags|=32),Ag(e,t),It(e,t,o,n),t.child;case 6:return e===null&&Cu(t),null;case 13:return Pg(e,t,n);case 4:return jd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Al(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Fm(e,t,r,s,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,ze(da,r._currentValue),r._currentValue=o,l!==null)if(On(l.value,o)){if(l.children===s.children&&!Yt.current){t=Nr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=_r(-1,n&-n),u.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),ju(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ju(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}It(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,jl(t,n),s=gn(s),r=r(s),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,s=bn(r,t.pendingProps),s=bn(r.type,s),Bm(e,t,r,s,n);case 15:return bg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Wi(e,t),t.tag=1,Wt(r)?(e=!0,aa(t)):e=!1,jl(t,n),jg(t,r,s),Tu(t,r,s,n),Au(null,t,r,!0,e,n);case 19:return Ig(e,t,n);case 22:return Rg(e,t,n)}throw Error(F(156,t.tag))};function qg(e,t){return kh(e,t)}function E1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,r){return new E1(e,t,n,r)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k1(e){if(typeof e=="function")return Ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===id)return 11;if(e===ad)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ki(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")Ud(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fl:return bs(n.children,s,l,t);case od:o=8,s|=8;break;case Zc:return e=pn(12,n,t,s|2),e.elementType=Zc,e.lanes=l,e;case eu:return e=pn(13,n,t,s),e.elementType=eu,e.lanes=l,e;case tu:return e=pn(19,n,t,s),e.elementType=tu,e.lanes=l,e;case ih:return Da(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lh:o=10;break e;case oh:o=9;break e;case id:o=11;break e;case ad:o=14;break e;case zr:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=pn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function bs(e,t,n,r){return e=pn(7,e,r,t),e.lanes=n,e}function Da(e,t,n,r){return e=pn(22,e,r,t),e.elementType=ih,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function zc(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hd(e,t,n,r,s,l,o,a,u){return e=new N1(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=pn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cd(l),e}function C1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jg(e){if(!e)return es;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Wt(n))return Jh(e,n,t)}return t}function Zg(e,t,n,r,s,l,o,a,u){return e=Hd(n,r,!0,e,s,l,o,a,u),e.context=Jg(null),n=e.current,r=Ot(),s=qr(n),l=_r(r,s),l.callback=t??null,Xr(n,l,s),e.current.lanes=s,Wo(e,s,r),Qt(e,r),e}function za(e,t,n,r){var s=t.current,l=Ot(),o=qr(s);return n=Jg(n),t.context===null?t.context=n:t.pendingContext=n,t=_r(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xr(s,t,o),e!==null&&(In(e,s,o,l),Gi(e,s,o)),o}function _a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gd(e,t){Zm(e,t),(e=e.alternate)&&Zm(e,t)}function j1(){return null}var ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}$a.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));za(e,t,null,null)};$a.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Is(function(){za(null,e,null,null)}),t[Er]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fr.length&&t!==0&&t<Fr[n].priority;n++);Fr.splice(n,0,e),n===0&&Lh(e)}};function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ep(){}function M1(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=_a(o);l.call(d)}}var o=Zg(t,r,e,0,null,!1,!1,"",ep);return e._reactRootContainer=o,e[Er]=o.current,Do(e.nodeType===8?e.parentNode:e),Is(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=_a(u);a.call(d)}}var u=Hd(e,0,!1,null,null,!1,!1,"",ep);return e._reactRootContainer=u,e[Er]=u.current,Do(e.nodeType===8?e.parentNode:e),Is(function(){za(t,u,n,r)}),u}function Ba(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var a=s;s=function(){var u=_a(o);a.call(u)}}za(t,o,e,s)}else o=M1(n,t,e,s,r);return _a(o)}Th=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(dd(t,n|1),Qt(t,tt()),!(_e&6)&&(Il=tt()+500,rs()))}break;case 13:Is(function(){var r=kr(e,1);if(r!==null){var s=Ot();In(r,e,1,s)}}),Gd(e,1)}};fd=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=Ot();In(t,e,134217728,n)}Gd(e,134217728)}};bh=function(e){if(e.tag===13){var t=qr(e),n=kr(e,t);if(n!==null){var r=Ot();In(n,e,t,r)}Gd(e,t)}};Rh=function(){return Re};Ah=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};du=function(e,t,n){switch(t){case"input":if(su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ra(r);if(!s)throw Error(F(90));ch(r),su(r,s)}}}break;case"textarea":dh(e,n);break;case"select":t=n.value,t!=null&&El(e,!!n.multiple,t,!1)}};vh=$d;xh=Is;var T1={usingClientEntryPoint:!1,Events:[Xo,gl,Ra,gh,yh,$d]},co={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b1={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wh(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||j1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{ja=Ri.inject(b1),rr=Ri}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T1;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(t))throw Error(F(200));return C1(e,t,null,n)};sn.createRoot=function(e,t){if(!Yd(e))throw Error(F(299));var n=!1,r="",s=ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hd(e,1,!1,null,null,n,!1,r,s),e[Er]=t.current,Do(e.nodeType===8?e.parentNode:e),new Vd(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=wh(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return Is(e)};sn.hydrate=function(e,t,n){if(!Fa(t))throw Error(F(200));return Ba(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!Yd(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=ey;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Zg(t,null,e,1,n??null,s,!1,l,o),e[Er]=t.current,Do(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $a(t)};sn.render=function(e,t,n){if(!Fa(t))throw Error(F(200));return Ba(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(F(40));return e._reactRootContainer?(Is(function(){Ba(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};sn.unstable_batchedUpdates=$d;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fa(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Ba(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(e){console.error(e)}}ty(),th.exports=sn;var R1=th.exports,ny,tp=R1;ny=tp.createRoot,tp.hydrateRoot;function A1({onStart:e,onNewGame:t,onTutorial:n,onEndless:r,focusedIndex:s=0,usingGamepad:l=!1}){const o=[{label:"Story Mode",description:" elfpix ",onPress:t,variant:"primary"},{label:"Endless Mode",description:" elfpix ",onPress:r,variant:"ghost"},{label:"Tutorial",description:"",onPress:n,variant:"ghost"},{label:"Continue",description:"",onPress:e,variant:"ghost"}];return i.jsxs("main",{className:"screen opening",children:[i.jsxs("div",{className:"opening-hero",children:[i.jsx("h1",{className:"headline opening-title cute",children:"elfpix"}),i.jsx("p",{className:"sub",children:""})]}),i.jsx("div",{className:"actions",children:o.map((a,u)=>{const d=l&&s===u,p=a.variant||"ghost";return i.jsxs("button",{className:`${p}${d?" focused":""}`,"data-selected":d,onClick:a.onPress,"aria-describedby":`tooltip-${a.label}`,onMouseEnter:()=>{const m=document.getElementById(`tooltip-${a.label}`);m&&(m.hidden=!1)},onFocus:()=>{const m=document.getElementById(`tooltip-${a.label}`);m&&(m.hidden=!1)},onMouseLeave:()=>{const m=document.getElementById(`tooltip-${a.label}`);m&&(m.hidden=!0)},onBlur:()=>{const m=document.getElementById(`tooltip-${a.label}`);m&&(m.hidden=!0)},children:[a.label,d&&l?i.jsx("span",{className:"sr-only",children:" (selected)"}):null,i.jsx("span",{id:`tooltip-${a.label}`,className:"opening-tooltip",hidden:!0,children:a.description})]},a.label)})})]})}const L1=1200,P1=200;function I1({onNext:e}){const t=f.useMemo(()=>["","elfpix","","","","","elfpix","",""],[]),[n,r]=f.useState(0),[s,l]=f.useState("in"),o=f.useRef([]),a=f.useCallback(()=>{o.current.forEach(p=>clearTimeout(p)),o.current=[]},[]),u=f.useCallback(()=>{a(),e&&e()},[a,e]);f.useEffect(()=>(a(),s==="in"?n<t.length-1?o.current.push(setTimeout(()=>l("out"),L1)):o.current.push(setTimeout(()=>e&&e(),2e3)):s==="out"&&o.current.push(setTimeout(()=>{r(p=>Math.min(p+1,t.length-1)),l("in")},P1)),a),[n,s,t.length,e,a]);const d=t[n]??"";return i.jsx("main",{className:"screen prologue",children:i.jsxs("div",{className:"prologue-window",children:[i.jsx("div",{className:"prologue-text",children:i.jsx("p",{className:`fade-text ${s==="in"?"in":""}`,style:{"--fade-target":.92},children:d===""?"":d})}),i.jsx("div",{className:"prologue-actions",children:i.jsx("button",{className:"primary",type:"button",onClick:u,children:"Skip"})})]})})}const Ut="",O1=[["","","","",""],["","","","",""],["","","","",""],["","","","",""]];function np(e){return!e||e===" "||e===""}function ry({initial:e=Ut,onCancel:t,onConfirm:n}){const r=e&&e.trim().length?e:Ut,[s,l]=f.useState(r),[o,a]=f.useState(r.length),u=f.useMemo(()=>O1.map(D=>D.map(x=>x.split(""))),[]),d=8,p=D=>{np(D)||l(x=>{if(x.length>=d)return x;const y=x.slice(0,o),S=x.slice(o),k=y+D+S;return a(L=>Math.min(k.length,L+D.length)),k})},g=[{key:"delete",label:"",action:()=>{o<=0||l(D=>{const x=D.slice(0,o),y=D.slice(o),S=x.slice(0,-1)+y;return a(k=>Math.max(0,k-1)),S})}},{key:"left",label:"",action:()=>a(D=>Math.max(0,D-1))},{key:"right",label:"",action:()=>a(D=>Math.min(s.length,D+1))},{key:"confirm",label:"",action:()=>n(s.trim().length?s:Ut),extraClass:"confirm"}];t&&g.push({key:"cancel",label:"",action:t});const _=new Set(["left","right","confirm"]),w=g.filter(({key:D})=>!_.has(D)),E=g.filter(({key:D})=>_.has(D));return i.jsx("main",{className:"screen name-entry",children:i.jsxs("div",{className:"name-card",children:[i.jsxs("div",{className:"display",children:[s.slice(0,o),i.jsx("span",{className:"caret",children:"|"}),s.slice(o),!s&&""]}),i.jsxs("div",{className:"name-body",children:[i.jsx("div",{className:"kana-grid",children:u.map((D,x)=>i.jsx("div",{className:"kana-column",children:D.map((y,S)=>i.jsx("div",{className:"row",children:y.map((k,L)=>{const U=np(k);return i.jsx("button",{type:"button",className:`kana${U?" blank":""}`,disabled:U,onClick:U?void 0:()=>p(k),children:k},`${x}-${S}-${L}`)})},S))},x))}),i.jsxs("div",{className:"name-actions",children:[w.length>0&&i.jsx("div",{className:"name-actions-top",children:w.map(({key:D,label:x,action:y,extraClass:S})=>i.jsx("button",{type:"button",className:`kana ${S||""}`.trim(),onClick:y,children:x},D))}),i.jsx("div",{className:"name-actions-bottom",children:E.map(({key:D,label:x,action:y,extraClass:S})=>i.jsx("button",{type:"button",className:`kana ${S||""}`.trim(),onClick:y,children:x},D))})]})]})]})})}function D1({heroName:e,onSetName:t,onDone:n,onNameEntryVisible:r=()=>{},onPhaseChange:s=()=>{}}){const[l,o]=f.useState(0),a=f.useMemo(()=>["",""],[]),u=f.useMemo(()=>[`${e||Ut}`,"","elfpix",""],[e]),d=l===a.length,p=l>a.length+u.length,m=d?"name":p?"done":l<a.length?"before":"after";if(f.useEffect(()=>(r(d),()=>{r(!1)}),[d,r]),f.useEffect(()=>{s(m)},[m,s]),p)return null;if(d)return i.jsx(ry,{initial:e,onConfirm:E=>{t(E),o(D=>D+1)},onCancel:()=>o(E=>Math.max(0,E-1))});const g=[...a,...u],_=l>a.length?l-1:l,w=g[_];return i.jsx("main",{className:"screen dialog",children:i.jsxs("div",{className:"dialog-window",children:[i.jsx("p",{children:w}),i.jsx("div",{className:"actions",children:_<g.length-1?i.jsx("button",{className:"primary",onClick:()=>o(E=>E+1),children:"Next"}):i.jsx("button",{className:"primary",onClick:n,children:"Start"})})]})})}const z1=e=>e.endsWith("/")?e:`${e}/`,Gu=z1("/indie-game-pix/");function ie(e=""){if(!e)return Gu;const t=e.startsWith("./")?e.slice(2):e,n=t.startsWith("/")?t.slice(1):t;return`${Gu}${n}`}function wa(e){return!e||/^(?:https?:|data:|blob:)/.test(e)||e.startsWith(Gu)?e:e.startsWith("/")?ie(e.slice(1)):ie(e)}const $1=960,F1=640,pr=48,_s=48,B1=20,U1=Math.tan(B1*Math.PI/180),H1=600,G1=2e3,V1=.78,Y1=.2,W1=[{key:"shard-1",rotate:-18,tx:"-22%",ty:"-10%",delay:"60ms"},{key:"shard-2",rotate:14,tx:"18%",ty:"-16%",delay:"120ms"},{key:"shard-3",rotate:-6,tx:"-14%",ty:"18%",delay:"180ms"},{key:"shard-4",rotate:22,tx:"22%",ty:"16%",delay:"90ms"},{key:"shard-5",rotate:4,tx:"-6%",ty:"-2%",delay:"0ms"}],zs=2,Tn=18*zs,gr=12*zs,nl=6*zs,rl=6*zs,Q1=6*zs,X1=6*zs,K1=Tn+6*zs,q1=gr*.8,sy=4,ly=20*sy,oy=60*sy,J1=ly/2,Z1=oy/2,rp={normal:{topGradient:"node-top-normal",frontSide:"var(--accent-secondary)",backSide:"rgba(6, 10, 22, 0.9)"},current:{topGradient:"node-top-current",frontSide:"var(--accent-primary-strong)",backSide:"rgba(6, 26, 32, 0.9)"},start:{topGradient:"node-top-start",frontSide:"var(--accent-primary)",backSide:"rgba(6, 18, 30, 0.9)"},end:{topGradient:"node-top-end",frontSide:"var(--accent-secondary-strong)",backSide:"rgba(20, 16, 48, 0.9)"}};function ex({graph:e,current:t,last:n,cleared:r,debugMode:s,showAllNodes:l=!1,onArrive:o,onMoveStart:a}){const u=(e==null?void 0:e.nodes)??{},d=(e==null?void 0:e.edges)??[],p=(e==null?void 0:e.parents)??{},m=e==null?void 0:e.bounds,g=(e==null?void 0:e.layout)==="fixed",_=ie("assets/img/character/hero/00083-826608146.png"),w=f.useRef(null),[E,D]=f.useState({width:$1,height:F1});f.useLayoutEffect(()=>{const P=w.current;if(!P)return;const $=()=>{const V=P.getBoundingClientRect();!V.width||!V.height||D({width:V.width,height:V.height})};if($(),typeof ResizeObserver<"u"){const V=new ResizeObserver(ue=>{const Te=ue[0];if(!Te)return;const{width:Ae,height:nt}=Te.contentRect;!Ae||!nt||D({width:Ae,height:nt})});return V.observe(P),()=>V.disconnect()}return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]);const x=f.useMemo(()=>{const P=Math.max(1,E.width),$=Math.max(1,E.height);return`0 0 ${P} ${$}`},[E]),y=f.useMemo(()=>{const P={};return Object.entries(p).forEach(([$,V])=>{V&&(P[V]||(P[V]=[])).push($)}),P},[p]),S=f.useMemo(()=>{var an;const P=Object.entries(u);if(!P.length)return{};const $=((an=P.find(([Se])=>!p[Se]))==null?void 0:an[0])||(Object.prototype.hasOwnProperty.call(u,"start")?"start":P[0][0]);let V=Number.isFinite(m==null?void 0:m.minX)?m.minX:1/0,ue=Number.isFinite(m==null?void 0:m.maxX)?m.maxX:-1/0,Te=Number.isFinite(m==null?void 0:m.minY)?m.minY:1/0,Ae=Number.isFinite(m==null?void 0:m.maxY)?m.maxY:-1/0;(!Number.isFinite(m==null?void 0:m.minX)||!Number.isFinite(m==null?void 0:m.maxX))&&P.forEach(([,Se])=>{Number.isFinite(Se==null?void 0:Se.x)&&(V=Math.min(V,Se.x),ue=Math.max(ue,Se.x))}),(!Number.isFinite(m==null?void 0:m.minY)||!Number.isFinite(m==null?void 0:m.maxY))&&P.forEach(([,Se])=>{Number.isFinite(Se==null?void 0:Se.y)&&(Te=Math.min(Te,Se.y),Ae=Math.max(Ae,Se.y))}),Number.isFinite(V)||(V=0),Number.isFinite(ue)||(ue=Object.keys(u).length),Number.isFinite(Te)||(Te=0),Number.isFinite(Ae)||(Ae=Object.keys(u).length);const nt=Math.max(1,ue-V),dt=Math.max(1,Ae-Te),Ge=Math.max(1,E.width-pr*2),ht=Math.max(1,E.height-_s*2);if(g){const Se={};return P.forEach(([Tt,Fe])=>{if(!Fe)return;const We=(Fe.x-V)/nt,bt=(Fe.y-Te)/dt;Se[Tt]={...Fe,x:pr+We*Ge,y:_s+bt*ht}}),Se}const pe={},lr=[$];for(pe[$]=0;lr.length;){const Se=lr.shift();(y[Se]||[]).forEach(Fe=>{pe[Fe]==null&&(pe[Fe]=(pe[Se]||0)+1,lr.push(Fe))})}const $t=Math.max(...Object.values(pe)),os=$t>0?Ge/$t:Ge/2,vn=Math.max(os*Y1,Ge*.1),$e={},Ul=Math.min(_s+ht,_s+ht*V1);$e[$]={...u[$],x:pr,y:Ul};const xn=[$],Dn=new Set([$]);for(;xn.length;){const Se=xn.shift(),Tt=$e[Se],Fe=y[Se]||[];Fe.forEach((We,bt)=>{if(!u[We]||Dn.has(We))return;const $s=pe[We]??(pe[Se]||0)+1,zn=(u[We].x-V)/nt;let Ie=pr+zn*Ge||pr+$s*vn;Number.isFinite(Ie)||(Ie=pr+$s*vn);const it=Ie-Tt.x;Math.abs(it)<vn*.25&&(Ie=Tt.x+Math.sign(it||1)*vn);const fe=(()=>{const or=u[Se],Hl=u[We],_t=Number(Hl==null?void 0:Hl.y)-Number(or==null?void 0:or.y);return Math.abs(_t)>1?Math.sign(_t):Fe.length>1?bt%2===0?1:-1:_t===0?1:Math.sign(_t)})(),Sn=Math.abs(it||vn)*U1*fe,jr=Math.min(_s+ht,Math.max(_s,Tt.y+Sn));$e[We]={...u[We],x:Math.min(pr+Ge,Math.max(pr,Ie)),y:jr},Dn.add(We),xn.push(We)})}return P.forEach(([Se,Tt])=>{if($e[Se])return;const Fe=(Tt.x-V)/nt,We=(Tt.y-Te)/dt;$e[Se]={...Tt,x:pr+Fe*Ge,y:_s+We*ht}}),$e},[u,p,y,E]),k=f.useMemo(()=>{var $,V;const P={};for(const ue of d)(P[$=ue.from]||(P[$]=new Set)).add(ue.to),(P[V=ue.to]||(P[V]=new Set)).add(ue.from);return P},[d]),L=f.useMemo(()=>r?r instanceof Set?new Set(r):new Set(Array.isArray(r)?r:[]):new Set,[r]),U=f.useMemo(()=>{const P=new Set,$=new Set;let V=t;for(;V;){S[V]&&P.add(V);const ue=p[V];if(ue&&S[ue]){P.add(ue);const Te=ue<V?`${ue}__${V}`:`${V}__${ue}`;$.add(Te)}if(!ue||ue===V)break;V=ue}return{nodeSet:P,edgeSet:$}},[t,S,p]),R=f.useMemo(()=>{const P=new Set(U.nodeSet);return L.forEach($=>{S[$]&&P.add($)}),P},[L,S,U.nodeSet]),I=U.edgeSet,Y=f.useMemo(()=>{if(l)return new Set(Object.keys(S));const P=new Set(R);return S[t]&&P.add(t),Array.from(k[t]||[]).forEach(V=>{S[V]&&P.add(V)}),P},[k,t,S,l,R]),[z,ee]=f.useState(!1),[ve,ne]=f.useState(()=>S[t]||{x:0,y:0}),[we,Ye]=f.useState(null),[Z,H]=f.useState(!1),[M,O]=f.useState(null),G=f.useRef(ve);f.useEffect(()=>{G.current=ve},[ve]);const W=f.useRef(null),q=f.useRef(null),Ne=900,re=f.useRef(null),Ee=f.useRef(!0);f.useEffect(()=>()=>{Ee.current=!1,re.current&&cancelAnimationFrame(re.current),W.current&&clearTimeout(W.current),q.current&&clearTimeout(q.current)},[]),f.useEffect(()=>{if(z)return;const P=S[t];if(!P)return;const{x:$,y:V}=G.current;($!==P.x||V!==P.y)&&ne(P)},[t,S,z]);const Ce=P=>{var $;return z||P===t?!1:s?!0:n&&P===n?!1:!!(($=k[t])!=null&&$.has(P))},ot=(P,$)=>{const V=S[P],ue=S[$];return!V||!ue?"":`M ${V.x} ${V.y} L ${ue.x} ${ue.y}`},on=()=>{re.current&&(cancelAnimationFrame(re.current),re.current=null),W.current&&(clearTimeout(W.current),W.current=null),q.current&&(clearTimeout(q.current),q.current=null),H(!1)},Mt=P=>{on(),Ye(null);const $=G.current||S[t],V=S[P];if(!$||!V){ne(V||$||{x:0,y:0}),ee(!1),O(null),o&&o(P);return}const ue=V.x-$.x,Te=V.y-$.y,Ae=Math.hypot(ue,Te);if(Ae===0){ne(V),ee(!1),O(null),o&&o(P);return}ee(!0),O({from:t,to:P});const nt=Math.min(G1,Math.max(H1,Ae*6)),dt={value:null},Ge=ht=>{dt.value||(dt.value=ht);const pe=Math.min(1,(ht-dt.value)/nt),lr={x:$.x+ue*pe,y:$.y+Te*pe};if(Ee.current&&ne(lr),pe<1)re.current=requestAnimationFrame(Ge);else{if(re.current=null,!Ee.current)return;ne(V);const $t=S[P],os=($t==null?void 0:$t.type)!=="end",vn=($t==null?void 0:$t.type)==="elf",$e=os?{x:V.x,y:V.y}:null;W.current&&(clearTimeout(W.current),W.current=null),vn?(Ye($e),H(!0),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{q.current=null,Ee.current&&H(!1)},Ne),W.current=setTimeout(()=>{W.current=null,Ee.current&&(Ye(null),ee(!1),O(null),o&&o(P))},Ne)):(q.current&&(clearTimeout(q.current),q.current=null),H(!1),Ye($e),W.current=setTimeout(()=>{W.current=null,Ee.current&&(Ye(null),ee(!1),O(null),o&&o(P))},820))}};re.current=requestAnimationFrame(Ge)};return i.jsxs("main",{className:"screen route",children:[i.jsxs("div",{className:`route-encounter-overlay${Z?" active":""}`,children:[i.jsx("div",{className:"encounter-dimmer"}),i.jsx("div",{className:"encounter-fracture"}),W1.map(P=>i.jsx("span",{className:`encounter-shard ${P.key}`,style:{"--shard-rotate":`${P.rotate}deg`,"--shard-tx":P.tx,"--shard-ty":P.ty,"--shard-delay":P.delay}},P.key))]}),i.jsx("div",{className:`route-canvas${Z?" encounter-zoom":""}`,ref:w,children:i.jsxs("svg",{viewBox:x,className:"route-svg",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"node-top-normal",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"var(--accent-secondary-strong)"}),i.jsx("stop",{offset:"100%",stopColor:"var(--accent-secondary)"})]}),i.jsxs("linearGradient",{id:"node-top-current",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"var(--accent-primary-strong)"}),i.jsx("stop",{offset:"100%",stopColor:"var(--accent-primary)"})]}),i.jsxs("linearGradient",{id:"node-top-start",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"var(--accent-primary)"}),i.jsx("stop",{offset:"100%",stopColor:"rgba(25, 229, 194, 0.8)"})]}),i.jsxs("linearGradient",{id:"node-top-end",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"var(--accent-secondary-strong)"}),i.jsx("stop",{offset:"100%",stopColor:"rgba(90, 86, 224, 0.85)"})]}),i.jsxs("linearGradient",{id:"route-edge-gradient",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"#b98952"}),i.jsx("stop",{offset:"100%",stopColor:"#8b5a2b"})]})]}),d.filter(P=>Y.has(P.from)&&Y.has(P.to)).map(P=>{var dt,Ge;const $=ot(P.from,P.to),V=`${P.from}-${P.to}`,ue=P.from<P.to?`${P.from}__${P.to}`:`${P.to}__${P.from}`,Te=I.has(ue),Ae=((dt=S[P.from])==null?void 0:dt.type)==="end"||((Ge=S[P.to])==null?void 0:Ge.type)==="end",nt=!!M&&(M.from===P.from&&M.to===P.to||M.from===P.to&&M.to===P.from);return i.jsxs("g",{className:"route-edge-group",children:[i.jsx("path",{className:`route-edge-shadow${Te?" route-edge-shadow--visited":""}${Ae?" route-edge-shadow--end":""}`,d:$,transform:"translate(4 -4)",fill:"none"}),i.jsx("path",{className:`route-edge${Te?" route-edge--visited":""}${Ae?" route-edge--end":""}`,d:$,fill:"none"}),nt&&z&&i.jsx("path",{className:"route-edge-glow",d:$,fill:"none",pathLength:100})]},V)}),Object.entries(S).map(([P,$])=>{if(!Y.has(P))return null;const V=$.label||P,ue=Array.from(V),nt=Math.max(60,ue.length*16)+3*2,dt=24,Ge=8,ht=$.x-nt/2,pe=$.y+gr+16,lr=10,$t=12,os=pe-lr,vn=`${$.x-$t},${pe} ${$.x+$t},${pe} ${$.x},${os}`,$e=t===P,Ul=R.has(P),xn=$e?"current":P==="start"?"start":$.type==="end"?"end":"normal",Dn=rp[xn]||rp.normal,an=Ce(P),Se=[[$.x,$.y-gr],[$.x+Tn,$.y],[$.x,$.y+gr],[$.x-Tn,$.y]].map(([Ie,it])=>`${Ie},${it}`).join(" "),Tt=[[$.x,$.y-gr],[$.x+Tn,$.y-1.5],[$.x+Tn+nl,$.y-rl-1.5],[$.x+nl,$.y-gr-rl]].map(([Ie,it])=>`${Ie},${it}`).join(" "),Fe=[[$.x+Tn,$.y+1.5],[$.x+Tn+nl,$.y+rl+1.5],[$.x+nl,$.y+gr+rl],[$.x,$.y+gr]].map(([Ie,it])=>`${Ie},${it}`).join(" "),We={x1:$.x+Tn,y1:$.y+1.5,x2:$.x+Tn+nl,y2:$.y+rl+1.5},bt={x1:$.x+Tn,y1:$.y-1.5,x2:$.x+Tn+nl,y2:$.y-rl-1.5},$s=$.x+Q1,zn=$.y+gr+X1;return i.jsxs("g",{className:`route-node route-node-${xn}${an?" interactive":""}${Ul?" route-node-visited":""}`,onClick:()=>{Ce(P)&&(a&&a(P),Mt(P))},onKeyDown:Ie=>{an&&(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),a&&a(P),Mt(P))},style:{cursor:an?"pointer":"default",opacity:an?1:.85},tabIndex:an?0:void 0,role:an?"button":"presentation","aria-label":V,children:[i.jsx("ellipse",{className:"route-node-shadow",cx:$s,cy:zn,rx:K1,ry:q1}),i.jsx("polygon",{className:"route-node-side route-node-side-back",points:Tt,fill:Dn.backSide}),i.jsx("polygon",{className:"route-node-side route-node-side-front",points:Fe,fill:Dn.frontSide}),i.jsx("polygon",{className:"route-node-top",points:Se,fill:`url(#${Dn.topGradient})`,stroke:"#ffffff",strokeWidth:3,strokeLinejoin:"round"}),i.jsx("line",{className:"route-node-highlight route-node-highlight-front",x1:We.x1,y1:We.y1,x2:We.x2,y2:We.y2}),i.jsx("line",{className:"route-node-highlight route-node-highlight-back",x1:bt.x1,y1:bt.y1,x2:bt.x2,y2:bt.y2}),i.jsxs("g",{className:"route-label",children:[i.jsx("rect",{x:ht,y:pe,width:nt,height:dt,rx:Ge,ry:Ge,className:"route-label-bubble"}),i.jsx("polygon",{points:vn,className:"route-label-bubble"}),i.jsx("text",{x:$.x,y:pe+dt/2,textAnchor:"middle",alignmentBaseline:"middle",className:"route-label-text",children:V})]})]},P)}),we&&i.jsxs("g",{className:"encount-bubble",transform:`translate(${we.x} ${we.y-36})`,pointerEvents:"none",children:[i.jsx("rect",{x:-86,y:-28,width:172,height:28,rx:10,ry:10}),i.jsx("polygon",{points:"0,0 -8,12 8,12",className:"bubble-tail"}),i.jsx("text",{x:0,y:-10,textAnchor:"middle",children:"Enemy Encount!"})]}),(()=>{const P=ve||S[t]||{x:0,y:0};return i.jsx("image",{href:_,x:P.x-J1,y:P.y-Z1,width:ly,height:oy,preserveAspectRatio:"xMidYMid meet"})})()]})})]})}const tx={"elf-practice":{normal:ie("assets/img/character/enemies/practice/riene_normal.png"),angry:ie("assets/img/character/enemies/practice/riene_angry.png")},"elf-easy":{normal:ie("assets/img/character/enemies/easy/efina_normal.png"),angry:ie("assets/img/character/enemies/easy/efina_angry.png")},"elf-middle":{normal:ie("assets/img/character/enemies/normal/cerys_normal.png"),angry:ie("assets/img/character/enemies/normal/cerys_angry.png")},"elf-hard":{normal:ie("assets/img/character/enemies/hard/floria_normal.png"),angry:ie("assets/img/character/enemies/hard/floria_angry.png")},"elf-ultra":{normal:ie("assets/img/character/enemies/ultra/altina_normal.png"),angry:ie("assets/img/character/enemies/ultra/altina_angry.png")}},sp={normal:ie("assets/img/character/hero/hero_normal.png"),angry:ie("assets/img/character/hero/hero_angry.png")},Wd=380,nx=487,lp=nx/Wd,rx=1.125,$c=Math.round(Wd*rx);function sx(e,t,n){const r=t!=null&&t.trim()?t:"",s=n!=null&&n.trim()?n:"",l={"elf-practice":[{speaker:s,who:"enemy",text:"elfpix",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"elfpix",emotion:"angry"}],"elf-easy":[{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"elfpix",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"angry"}],"elf-middle":[{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"elfpix",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"angry"}],"elf-hard":[{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"elfpix",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"}],"elf-ultra":[{speaker:s,who:"enemy",text:"elfpix",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"},{speaker:s,who:"enemy",text:"",emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"}]};return l[e]?l[e]:[{speaker:s,who:"enemy",text:`${r}`,emotion:"normal"},{speaker:r,who:"hero",text:"",emotion:"normal"}]}function lx({heroName:e,enemyName:t,difficultyId:n,onDone:r,onSkip:s,onRegisterGamepad:l,transition:o="none"}){var q,Ne;const a=f.useMemo(()=>sx(n,e,t),[n,e,t]),[u,d]=f.useState(0),[p,m]=f.useState(!1),[g,_]=f.useState(()=>{const re=$c,Ee=Math.round(re*lp);return{w:re,h:Ee}}),[w,E]=f.useState("in"),D=f.useRef([]);f.useEffect(()=>{const re=Ee=>{Ee.key==="Enter"&&S()};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[u,w,a.length]),f.useEffect(()=>{const re=window.requestAnimationFrame(()=>m(!0));return()=>window.cancelAnimationFrame(re)},[]),f.useEffect(()=>{function re(){const Ee=window.innerWidth||1024,Ce=Math.max(24,Math.min(Math.round(Ee*.08),72)),ot=Math.max(20,Math.min(Math.round(Ee*.05),64)),on=(Ee-Ce*2-ot)/2,Mt=Math.max(0,Math.floor(on)),P=Math.round(Wd*.75);let $;if(Mt<=0)$=$c;else{const ue=Mt<P?Mt:Math.min($c,Mt);$=Math.min(Math.max(160,ue),Mt)}const V=Math.round($*lp);_({w:$,h:V})}return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),f.useEffect(()=>()=>{D.current.forEach(re=>clearTimeout(re)),D.current=[]},[]);const x=f.useCallback((re,Ee)=>{const Ce=setTimeout(re,Ee);return D.current.push(Ce),Ce},[]),y=f.useCallback(()=>{D.current.forEach(re=>clearTimeout(re)),D.current=[]},[]),S=f.useCallback(()=>{w!=="out"&&(u+1>=a.length?(y(),E("out"),x(()=>{r&&r()},200)):(y(),E("out"),x(()=>{d(re=>Math.min(re+1,a.length-1)),E("in")},200)))},[y,u,r,w,x,a.length]),k=f.useCallback(()=>{w!=="out"&&(y(),E("out"),x(()=>{d(a.length-1),E("in"),s&&s()},200))},[y,s,w,x,a.length]),L=a[u]||{},U=L.who==="hero"&&L.emotion==="angry"?"angry":"normal",R=L.who==="enemy"&&L.emotion==="angry"?"angry":"normal",I=tx[n]||{},Y=I[R]||I.normal,z=e!=null&&e.trim()?e:"",ee=t!=null&&t.trim()?t:"",ve=L.who==="hero",ne=L.who==="enemy",we=p?ve?1:.45:0,Ye=p?ne?1:.45:0;f.useEffect(()=>{if(l)return l({advance:()=>S(),skip:()=>k(),start:()=>k()}),()=>l(null)},[S,k,l]);const Z=o==="encounter",[H,M]=f.useState(()=>!Z);f.useEffect(()=>{if(!Z)return;const re=requestAnimationFrame(()=>M(!0));return()=>cancelAnimationFrame(re)},[Z]);const O=Z?{opacity:H?1:0,transition:"opacity 220ms ease-out"}:void 0,G=Z?{transform:H?"translateX(0)":"translateX(-40px)",opacity:H?1:0,transition:"transform 260ms ease-out, opacity 260ms ease-out"}:void 0,W=Z?{transform:H?"translateX(0)":"translateX(40px)",opacity:H?1:0,transition:"transform 260ms ease-out, opacity 260ms ease-out"}:void 0;return i.jsx("main",{className:"screen dialog",onClick:S,style:O,"data-transition":o,children:i.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",minHeight:"70vh"},children:[i.jsxs("div",{className:"conversation-stage",children:[i.jsxs("div",{className:"conversation-slot hero",style:G,children:[i.jsx("div",{className:`portrait-frame hero ${ve?"active":""}`,style:{width:g.w,height:g.h,boxShadow:ve?"0 0 32px #60a5fa66":"0 6px 20px #03081566"},children:i.jsx("img",{src:sp[U]||sp.normal,alt:z,className:"portrait-image hero",style:{opacity:we,transform:ve?"translateY(-2px) scale(1.02)":"translateY(6px) scale(0.96)",filter:ve?"drop-shadow(0 0 14px #7dd3fc88) saturate(1.05)":"grayscale(18%) brightness(0.82)"}},`${U}-${u}`)}),i.jsx("div",{className:"portrait-label hero",style:{fontWeight:ve?800:700,opacity:p?ve?1:.7:0,transform:ve?"translateY(0)":"translateY(2px)"},children:z})]}),i.jsxs("div",{className:"conversation-slot enemy",style:W,children:[i.jsx("div",{className:`portrait-frame enemy ${ne?"active":""}`,style:{width:g.w,height:g.h,padding:Y?4:0,border:Y?"3px solid #d1b464":"1px solid #2b2f55",overflow:Y?"hidden":"visible",boxShadow:ne?"0 0 32px #f9731699":"0 6px 20px #03081566"},children:Y?i.jsx("img",{src:Y,alt:ee,className:"portrait-image enemy",style:{opacity:Ye,transform:ne?"translateY(-2px) scale(1.02)":"translateY(6px) scale(0.96)",filter:ne?"drop-shadow(0 0 14px #fb923c99) saturate(1.05)":"grayscale(18%) brightness(0.82)"}},`${R}-${u}`):i.jsx("div",{className:"portrait-placeholder",children:t})}),i.jsx("div",{className:"portrait-label enemy",style:{fontWeight:ne?800:700,opacity:p?ne?1:.7:0,transform:ne?"translateY(0)":"translateY(2px)"},children:ee})]})]}),i.jsxs("div",{className:"dialog-window",style:{margin:"24px auto 0",marginTop:"auto"},children:[i.jsxs("div",{className:"dialog-content",children:[i.jsx("div",{className:"dialog-speaker",children:i.jsx("span",{className:`fade-text ${w==="in"?"in":""}`,style:{"--fade-target":.92},children:(q=a[u])==null?void 0:q.speaker})}),i.jsx("div",{className:`fade-text dialog-body ${w==="in"?"in":""}`,style:{"--fade-target":.92},children:(Ne=a[u])==null?void 0:Ne.text})]}),i.jsxs("div",{className:"dialog-actions",children:[i.jsx("button",{className:"primary",onClick:re=>{re.stopPropagation(),S()},children:"Next"}),i.jsx("button",{className:"ghost",onClick:re=>{re.stopPropagation(),k()},children:"Skip"})]})]})]})})}const iy="/indie-game-pix/assets/title-BtJtt3rl.png",ox=Object.assign({"../../public/assets/img/title.png":iy});function ix({seed:e=0,fixedUrl:t=null}){const n=f.useMemo(()=>Object.values(ox).map(wa),[]),[r,s]=f.useState(0);if(f.useEffect(()=>{n.length&&s(l=>{if(n.length===1)return 0;let o=Math.floor(Math.random()*n.length);return o===l&&(o=(o+1)%n.length),o})},[n.length,e]),t){const l=wa(t);return i.jsx("div",{className:"bg-image",style:{backgroundImage:`url(${l})`},"aria-hidden":"true"})}return n.length?i.jsx("div",{className:"bg-image",style:{backgroundImage:`url(${n[r]})`},"aria-hidden":"true"}):null}function ay({rows:e,cols:t,hiddenRows:n=[],hiddenCols:r=[],lockedRows:s=[],lockedCols:l=[]}){const o=f.useMemo(()=>new Set(n),[n]),a=f.useMemo(()=>new Set(r),[r]),u=f.useMemo(()=>new Set(s),[s]),d=f.useMemo(()=>new Set(l),[l]);return i.jsxs("div",{className:"clues",children:[i.jsx("div",{className:"corner"}),i.jsx("div",{className:"top",style:{gridTemplateColumns:`repeat(${t.length}, var(--cell))`},children:t.map((p,m)=>i.jsx("div",{className:`col-clue ${a.has(m)?"clue-hidden":d.has(m)?"clue-locked":""}`,children:a.has(m)?null:d.has(m)?i.jsx("span",{children:p.join("")}):p.map((g,_)=>i.jsx("span",{children:g},_))},m))}),i.jsx("div",{className:"left",style:{gridTemplateRows:`repeat(${e.length}, var(--cell))`},children:e.map((p,m)=>i.jsx("div",{className:`row-clue ${o.has(m)?"clue-hidden":u.has(m)?"clue-locked":""}`,children:o.has(m)?null:u.has(m)?i.jsx("span",{children:p.join("")}):p.map((g,_)=>i.jsx("span",{children:g},_))},m))})]})}function nr(e){const t=e.length,n=e.map(op),r=Array.from({length:t},(s,l)=>op(Array.from({length:t},(o,a)=>e[a][l])));return{rows:n,cols:r}}function op(e){const t=[];let n=0;for(const r of e)r?n++:n&&(t.push(n),n=0);return n&&t.push(n),t.length?t:[0]}function Rn(e){return Array.from({length:e},()=>Array.from({length:e},()=>0))}function cy(e,t,n,r="fill"){const s=e.map(l=>l.slice());return r==="fill"?s[t][n]=s[t][n]===1?0:1:r==="cross"?s[t][n]=s[t][n]===-1?0:-1:r==="maybe"&&(s[t][n]=s[t][n]===2?0:2),s}function hr(e,t){const n=t.length;for(let r=0;r<n;r++)for(let s=0;s<n;s++){const l=t[r][s],o=e[r][s]===1;if(l!==o)return!1}return!0}const ax="modulepreload",cx=function(e){return"/indie-game-pix/"+e},ip={},ap=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=cx(u),u in ip)return;ip[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":ax,d||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),d)return new Promise((g,_)=>{m.addEventListener("load",g),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&l(a.reason);return t().catch(l)})},ux="./assets/bgm/indie-game-fanfare.wav",dx="./assets/se/collection_unlock.wav";class fx{constructor(){this.ctx=null,this.enabled=!1,this.master=null,this.sfxGain=null,this.bgmGain=null,this.playTimer=null,this.playRate=1,this._nextStep=0,this._seqIndex=0,this._sampleBuffers=new Map,this._sfxUrlCache=new Map,this._fanfareSource=null,this._celebrationGain=null,this._scoreSource=null}init(){if(this.ctx)return;const t=new(window.AudioContext||window.webkitAudioContext),n=t.createGain();n.gain.value=.8,n.connect(t.destination);const r=t.createGain();r.gain.value=.9,r.connect(n);const s=t.createGain();s.gain.value=.3,s.connect(n),this.ctx=t,this.master=n,this.sfxGain=r,this.bgmGain=s}async enable(){this.init(),this.ctx&&(await this.ctx.resume(),this.enabled=!0)}async disable(){this.ctx&&(this.stopPlayMusic(),this.stopScoreCount(),this.stopClearFanfare(),await this.ctx.suspend(),this.enabled=!1)}async _loadSample(t,n){if(this.ctx||this.init(),this._sampleBuffers.has(t))return this._sampleBuffers.get(t);const s=await(await fetch(n)).arrayBuffer(),l=await this.ctx.decodeAudioData(s);return this._sampleBuffers.set(t,l),l}_playBuffer(t,n=.8){const{ctx:r,sfxGain:s}=this,l=r.currentTime+.005,o=r.createBufferSource();o.buffer=t;const a=r.createGain();return a.gain.setValueAtTime(n,l),o.connect(a),a.connect(s),o.start(l),new Promise(u=>{o.onended=()=>{try{o.disconnect(),a.disconnect()}catch{}u()}})}async _getSfxUrl(t,n){if(this._sfxUrlCache.has(t))return this._sfxUrlCache.get(t);const{findSfxUrl:r}=await ap(async()=>{const{findSfxUrl:l}=await import("./sfxLibrary-DP8h3zUV.js");return{findSfxUrl:l}},[]),s=r(n)||null;return this._sfxUrlCache.set(t,s),s}async _playSoftClick(t=1,n=.9){if(this.enabled&&(this.init(),!!this.ctx)){try{const r=await this._getSfxUrl("picross_click_soft",/picross_click_soft|click_soft|soft_click/i);if(r){const s=await this._loadSample("picross_click_soft",r),{ctx:l,sfxGain:o}=this,a=l.currentTime+.004,u=l.createBufferSource();u.buffer=s,u.playbackRate.setValueAtTime(t,a);const d=l.createGain();d.gain.setValueAtTime(n,a),u.connect(d),d.connect(o),u.start(a),u.onended=()=>{try{u.disconnect(),d.disconnect()}catch{}};return}}catch{}this.ctx||this.init(),this.ctx&&this._noiseBurst(.04,2600,900)}}playFill(){this.enabled&&this._playSoftClick(1,.9)}playMark(){this.enabled&&this._playSoftClick(1.1,.8)}async playSpellAttack(t="hero"){if(!this.enabled||(this.init(),!this.ctx))return;try{const r=await this._getSfxUrl("spell_attack",/spell_attack|magic_blast|laser|attack|impact/i);if(r){const s=await this._loadSample("spell_attack",r),l=t==="enemy"?.92:1.08,o=t==="enemy"?.95:.8,{ctx:a,sfxGain:u}=this,d=a.currentTime+.01,p=a.createBufferSource();p.buffer=s,p.playbackRate.setValueAtTime(l,d);const m=a.createGain();m.gain.setValueAtTime(o,d),p.connect(m),m.connect(u),p.start(d),p.onended=()=>{try{p.disconnect(),m.disconnect()}catch{}};return}}catch{}const n=t==="enemy"?220:420;this._beep(n*1.3,.12,.006),this._beep(n*1.6,.1,.006),this._noiseBurst(.16,t==="enemy"?1100:1600,280)}async playCollectionUnlock(){if(this.enabled&&(this.init(),!!this.ctx)){try{const t=await this._loadSample("collection_unlock",dx);await this._playBuffer(t,.85);return}catch{}this._beep(880,.08,.004),this._beep(1180,.09,.004),this._noiseBurst(.06,5200,320)}}playMove(){if(!this.enabled||!this.ctx)return;const{ctx:t,sfxGain:n}=this,r=t.currentTime+.01,s=t.createOscillator(),l=t.createGain(),o=t.createBiquadFilter();o.type="lowpass",o.frequency.setValueAtTime(8e3,r),s.type="sine",s.frequency.setValueAtTime(300,r),s.frequency.exponentialRampToValueAtTime(120,r+.5),l.gain.setValueAtTime(1e-4,r),l.gain.linearRampToValueAtTime(.6,r+.05),l.gain.exponentialRampToValueAtTime(1e-4,r+.5),s.connect(o),o.connect(l),l.connect(n),s.start(r),s.stop(r+.6),s.onended=()=>{s.disconnect(),o.disconnect(),l.disconnect()}}async startScoreCount(){if(this.enabled&&(this.init(),!!this.ctx)){this.stopScoreCount();try{const t=await this._getSfxUrl("score_chime",/coin_rush|score_chime|score_chiptune|chime/i);if(!t)return;const n=await this._loadSample("score_chime",t),r=this.ctx.createBufferSource();r.buffer=n,r.loop=!1;const s=this.ctx.createGain(),l=this.ctx.currentTime+.01,o=l+.48;s.gain.setValueAtTime(.32,l),s.gain.exponentialRampToValueAtTime(1e-4,o),r.playbackRate.setValueAtTime(1.32,l),r.connect(s),s.connect(this.sfxGain),r.start(l),this._scoreSource={src:r,gain:s},r.onended=()=>{this._scoreSource&&this._scoreSource.src===r&&(this._scoreSource=null);try{r.disconnect(),s.disconnect()}catch{}}}catch{}}}stopClearFanfare(){if(this._fanfareSource){try{this._fanfareSource.stop()}catch{}this._fanfareSource=null}}stopScoreCount(){if(!this._scoreSource||!this.ctx)return;const{src:t,gain:n}=this._scoreSource;this._scoreSource=null;try{const r=this.ctx.currentTime;n.gain.cancelScheduledValues(r),n.gain.setValueAtTime(n.gain.value,r),n.gain.exponentialRampToValueAtTime(1e-4,r+.08),typeof t.stop=="function"&&t.stop(r+.1)}catch{}setTimeout(()=>{try{t.disconnect(),n.disconnect()}catch{}},180)}async playFootstep(){if(this.enabled){this.init();try{const{findSfxUrl:t}=await ap(async()=>{const{findSfxUrl:r}=await import("./sfxLibrary-DP8h3zUV.js");return{findSfxUrl:r}},[]),n=t(/foot|step|walk|shoe|sand|wood/i);if(n){const r=await this._loadSample("footstep",n);await this._playBuffer(r,.9);return}}catch{}this._noiseBurst(.03,1800,800),this._noiseBurst(.03,1600,700),await new Promise(t=>setTimeout(t,160))}}async playEnemyEncounter(){if(!this.enabled||(this.init(),!this.ctx))return;try{const n=await this._getSfxUrl("enemy_encount",/indie-game-pix-enemy-encount|enemy_encount|encounter/i);if(n){const r=await this._loadSample("enemy_encount",n);await this._playBuffer(r,.9);return}}catch{}const t=520;this._beep(t*.75,.22,.01),this._beep(t,.18,.01),this._noiseBurst(.18,2800,900)}_beep(t,n=.08,r=.01){const{ctx:s,sfxGain:l}=this,o=s.currentTime,a=s.createOscillator(),u=s.createGain();a.type="triangle",a.frequency.setValueAtTime(t,o),u.gain.setValueAtTime(0,o),u.gain.linearRampToValueAtTime(1,o+r),u.gain.exponentialRampToValueAtTime(.001,o+n),a.connect(u),u.connect(l),a.start(o),a.stop(o+n+.02),a.onended=()=>{a.disconnect(),u.disconnect()}}_noiseBurst(t=.08,n=1800,r=400){const{ctx:s,sfxGain:l}=this,o=s.currentTime,a=Math.max(1,Math.floor(s.sampleRate*t)),u=s.createBuffer(1,a,s.sampleRate),d=u.getChannelData(0);for(let w=0;w<a;w++)d[w]=(Math.random()*2-1)*.6;const p=s.createBufferSource();p.buffer=u;const m=s.createBiquadFilter();m.type="lowpass",m.frequency.value=n;const g=s.createBiquadFilter();g.type="highpass",g.frequency.value=r;const _=s.createGain();_.gain.setValueAtTime(1e-4,o),_.gain.linearRampToValueAtTime(.9,o+.01),_.gain.exponentialRampToValueAtTime(1e-4,o+t),p.connect(g),g.connect(m),m.connect(_),_.connect(l),p.start(o),p.stop(o+t+.02),p.onended=()=>{p.disconnect(),g.disconnect(),m.disconnect(),_.disconnect()}}playOpening(){if(!this.enabled||!this.ctx)return;const t=this.ctx.currentTime+.02;[392,523,659,784].forEach((r,s)=>this._note(r,t+s*.18,.14,.02,.6))}async playStageClear(){if(!this.enabled||(this.init(),!this.ctx))return;try{const r=await this._loadSample("victory_fanfare",ux);if(this._fanfareSource){try{this._fanfareSource.stop()}catch{}this._fanfareSource=null}const s=this.ctx.createBufferSource();s.buffer=r,s.loop=!1;const l=this.ctx.createGain(),o=this.ctx.currentTime+.02;l.gain.setValueAtTime(.75,o),s.connect(l),l.connect(this.sfxGain),s.start(o),this._fanfareSource=s,s.onended=()=>{try{s.disconnect(),l.disconnect()}catch{}this._fanfareSource===s&&(this._fanfareSource=null)};return}catch{}if(!this.ctx)return;const t=this.ctx.currentTime+.02;[523,659,784,1047,784,659,523].forEach((r,s)=>this._brassNote(r,t+s*.16,.2,s<4?.85:.7)),this._brassNote(1175,t+1.12,.22,.6)}async playClearFanfare(){await this.playStageClear()}playGameOver(){if(!this.enabled||!this.ctx)return;const t=this.ctx.currentTime+.02;[784,659,523,392].forEach((r,s)=>this._note(r,t+s*.22,.18,.01,.6))}startPlayMusic(){!this.enabled||!this.ctx||(this.stopPlayMusic(),this.playRate=1,this._seqIndex=0,this._nextStep=this.ctx.currentTime,this.playTimer=setInterval(()=>this._scheduleLoop(),60))}stopPlayMusic(){this.playTimer&&(clearInterval(this.playTimer),this.playTimer=null)}setPlayRate(t){this.playRate=Math.max(.5,Math.min(2,t||1))}_note(t,n,r=.18,s=.01,l=.5){const o=this.ctx.createOscillator();o.type="sawtooth",o.frequency.setValueAtTime(t,n);const a=this.ctx.createGain();a.gain.setValueAtTime(1e-4,n),a.gain.linearRampToValueAtTime(l,n+s),a.gain.exponentialRampToValueAtTime(1e-4,n+r),o.connect(a),a.connect(this.bgmGain),o.start(n),o.stop(n+r+.05),o.onended=()=>{o.disconnect(),a.disconnect()}}_brassNote(t,n,r=.22,s=.7){const l=this.ctx,o=l.createOscillator(),a=l.createOscillator();o.type="sawtooth",a.type="square",o.frequency.setValueAtTime(t,n),a.frequency.setValueAtTime(t*.999,n);const u=l.createBiquadFilter();u.type="lowpass",u.frequency.setValueAtTime(2200,n),u.Q.value=.9;const d=l.createGain(),p=.015,m=.12,g=.6,_=.12;d.gain.setValueAtTime(1e-4,n),d.gain.linearRampToValueAtTime(s,n+p),d.gain.linearRampToValueAtTime(s*g,n+p+m),d.gain.exponentialRampToValueAtTime(1e-4,n+Math.max(r,p+m)+_),u.frequency.linearRampToValueAtTime(2600,n+p+m),u.frequency.linearRampToValueAtTime(2e3,n+Math.max(r,p+m));const w=l.createOscillator(),E=l.createGain();w.frequency.setValueAtTime(5.5,n),E.gain.setValueAtTime(6,n),w.connect(E),E.connect(o.frequency),E.connect(a.frequency);const D=l.createGain();o.connect(D),a.connect(D),D.connect(u),u.connect(d),d.connect(this.bgmGain),o.start(n),a.start(n),w.start(n+.02);const x=n+Math.max(r,p+m)+.2;o.stop(x),a.stop(x),w.stop(x),o.onended=()=>{try{o.disconnect()}catch{}},a.onended=()=>{try{a.disconnect()}catch{}},w.onended=()=>{try{w.disconnect(),E.disconnect()}catch{}},setTimeout(()=>{try{D.disconnect(),u.disconnect(),d.disconnect()}catch{}},(x-l.currentTime)*1e3+20)}_scheduleLoop(){if(!this.enabled||!this.ctx)return;const t=this.ctx.currentTime,n=.3,r=.4/this.playRate;for(;this._nextStep<t+n;){const s=[0,3,5,7,5,3,0,-2],l=261.63,o=[0,3,7,10],a=s[this._seqIndex%s.length],u=o[this._seqIndex%o.length],d=l*Math.pow(2,(a+u)/12);this._note(d,this._nextStep,.18/this.playRate,.01,.35),this._seqIndex+=1,this._nextStep+=r}}}const de=new fx;function cp({size:e,grid:t,setGrid:n,hintData:r,clues:s,solution:l,onCorrectFill:o,onMistake:a,onCross:u,hiddenRowClues:d=[],hiddenColClues:p=[],lockedRowClues:m=[],lockedColClues:g=[],fadedCells:_=[],disabled:w=!1,onGridChange:E,highlightCell:D=null}){const x=r??s??{},y=Array.isArray(x.rows)?x.rows:[],S=Array.isArray(x.cols)?x.cols:[],[k,L]=f.useState(null),[U,R]=f.useState([]),I=f.useRef(null),Y=f.useCallback(()=>{const Z=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),H=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),M=H<=960?1:2,O=H*(M===1?.8:.38),G=Math.min(Z*.72,O),W=e+8,q=Math.max(20,Math.min(56,Math.floor(G/W)));L(q)},[e]);f.useEffect(()=>(Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)),[Y]);function z(Z){const H=I.current;if(!H)return;const M=Z.getBoundingClientRect(),O=H.getBoundingClientRect(),G=M.left-O.left+M.width/2,W=M.top-O.top+M.height/2,q=`${Date.now()}-${Math.random()}`,Ne=k??36,re=Ne*1,Ee=Ne*1.6,Ce=10+Math.floor(Math.random()*5),ot=Array.from({length:Ce},(V,ue)=>{const Te=Math.random()*Math.PI*2,Ae=re+Math.random()*(Ee-re),nt=Math.cos(Te)*Ae,dt=Math.sin(Te)*Ae,Ge=Math.random()*140,ht=.8+Math.random()*.6,pe=520+Math.random()*220;return{id:`${q}-spark-${ue}-${Math.random().toString(36).slice(2,6)}`,dx:nt,dy:dt,delay:Ge,scale:ht,duration:pe}}),on=3+Math.floor(Math.random()*3),Mt=Array.from({length:on},(V,ue)=>{const Te=Math.random()*Math.PI*2,Ae=re*.6+Math.random()*(Ee*.9),nt=Math.cos(Te)*Ae,dt=Math.sin(Te)*Ae,Ge=Math.random()*90,ht=Ne*(.9+Math.random()*.9),pe=Te*180/Math.PI;return{id:`${q}-streak-${ue}-${Math.random().toString(36).slice(2,6)}`,dx:nt,dy:dt,delay:Ge,length:ht,angle:pe}}),P=1.65+Math.random()*.45,$=P*(1.1+Math.random()*.05);R(V=>[...V,{id:q,x:G,y:W,shards:ot,streaks:Mt,shockwaveScale:P,shockwaveMax:$}]),setTimeout(()=>{R(V=>V.filter(ue=>ue.id!==q))},920)}function ee(Z,H,M){if(M.preventDefault(),w)return;let O="fill";(M.type==="contextmenu"||M.button===2)&&(O="cross"),M.shiftKey&&(O="maybe"),n(G=>{var Ee,Ce;const W=G[Z][H],q=cy(G,Z,H,O),Ne=((Ee=l==null?void 0:l[Z])==null?void 0:Ee[H])??!1,re=(Ce=q[Z])==null?void 0:Ce[H];return O==="fill"?(W!==1&&re===1&&(Ne?o==null||o(Z,H,q):a==null||a(Z,H,{type:"fill"},q)),W===1&&re!==1&&Ne&&(a==null||a(Z,H,{type:"unfill"},q))):O==="cross"&&(u==null||u(Z,H,q),re===-1&&Ne&&(a==null||a(Z,H,{type:"cross"},q))),E==null||E(q),q}),z(M.currentTarget),!w&&(O==="fill"?de.playFill():de.playMark())}const ve=k?{"--cell":`${k}px`}:void 0,ne=f.useMemo(()=>new Set(_),[_]),we=f.useMemo(()=>i.jsx(ay,{rows:y,cols:S,hiddenRows:d,hiddenCols:p,lockedRows:m,lockedCols:g}),[y,S,d,p,m,g]),Ye=(Z,H)=>`${Z}-${H}`;return i.jsxs("div",{className:"board-wrap",ref:I,style:ve,children:[i.jsx("div",{className:"particle-overlay",children:U.map(Z=>{var H,M;return i.jsxs(S0.Fragment,{children:[i.jsx("span",{className:"particle-flare",style:{left:`${Z.x}px`,top:`${Z.y}px`}}),i.jsx("span",{className:"particle-burst",style:{left:`${Z.x}px`,top:`${Z.y}px`}}),i.jsx("span",{className:"particle-shockwave",style:{left:`${Z.x}px`,top:`${Z.y}px`,"--shockwave-scale":Z.shockwaveScale??1.8,"--shockwave-scale-max":Z.shockwaveMax??Z.shockwaveScale??1.8}}),(H=Z.streaks)==null?void 0:H.map(O=>i.jsx("span",{className:"particle-streak",style:{left:`${Z.x}px`,top:`${Z.y}px`,"--dx":`${O.dx}px`,"--dy":`${O.dy}px`,"--streak-length":`${O.length}px`,"--streak-rot":`${O.angle}deg`,animationDelay:`${O.delay}ms`}},O.id)),(M=Z.shards)==null?void 0:M.map(O=>i.jsx("span",{className:"particle-spark",style:{left:`${Z.x}px`,top:`${Z.y}px`,"--dx":`${O.dx}px`,"--dy":`${O.dy}px`,"--spark-scale":O.scale,animationDelay:`${O.delay}ms`,animationDuration:`${O.duration}ms`}},O.id))]},Z.id)})}),i.jsxs("div",{className:`board n${e}`,children:[we,i.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${e}, var(--cell))`},children:t.map((Z,H)=>Z.map((M,O)=>{const G=D&&D.row===H&&D.col===O;return i.jsx("div",{className:`cell ${M===1?"filled":""} ${M===-1?"x":""} ${M===2?"maybe":""} ${ne.has(Ye(H,O))?"faded":""} ${G?"cursor":""}`,onClick:W=>ee(H,O,W),onContextMenu:W=>ee(H,O,W)},`${H}-${O}`)}))})]})]})}function mx({size:e,grid:t,hintData:n,clues:r,hiddenRowClues:s=[],hiddenColClues:l=[],lockedRowClues:o=[],lockedColClues:a=[],fadedCells:u=[]}){const d=n??r??{},p=Array.isArray(d.rows)?d.rows:[],m=Array.isArray(d.cols)?d.cols:[],[g,_]=f.useState(36),w=f.useCallback(()=>{const y=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),S=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),k=S<=960?1:2,L=S*(k===1?.8:.38),U=Math.min(y*.72,L),R=e+8,I=Math.max(20,Math.min(56,Math.floor(U/R)));_(I)},[e]);f.useEffect(()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[w]);const E={"--cell":`${g}px`},D=f.useMemo(()=>new Set(u),[u]),x=f.useMemo(()=>i.jsx(ay,{rows:p,cols:m,hiddenRows:s,hiddenCols:l,lockedRows:o,lockedCols:a}),[p,m,s,l,o,a]);return i.jsxs("div",{className:`enemy-board n${e}`,style:E,children:[x,i.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${e}, var(--cell))`},children:t.map((y,S)=>y.map((k,L)=>{const U=`${S}-${L}`,R=["cell"];return k===1&&R.push("filled"),k===-1&&R.push("crossed"),k===2&&R.push("maybe"),D.has(U)&&R.push("faded"),i.jsx("div",{className:R.join(" ")},U)}))})]})}function px({total:e,remaining:t}){const n=Math.max(0,Math.min(100,Math.round(t/e*100))),r=f.useMemo(()=>String(Math.floor(t/60)).padStart(2,"0"),[t]),s=f.useMemo(()=>String(t%60).padStart(2,"0"),[t]);return i.jsxs("div",{className:"timer",children:[i.jsxs("div",{className:"time",children:[r,":",s]}),i.jsx("div",{className:"bar",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",children:i.jsx("div",{className:"fill",style:{width:`${n}%`}})})]})}function hx({heroName:e,heroImage:t,boardEntries:n=[],unlockedIndices:r=[],solvedGrids:s,newlyUnlockedEntries:l=[],onContinue:o}){const a=e&&e.trim().length?e.trim():"",u=`${a} WIN`,d=f.useMemo(()=>new Set(r),[r]),p=f.useMemo(()=>new Set(l.map(R=>R.collectionIndex)),[l]),m=f.useMemo(()=>l.map(R=>({...R,unlockedAt:(R==null?void 0:R.unlockedAt)??null})),[l]),g=f.useMemo(()=>Array.from({length:5},()=>Array.from({length:5},()=>!1)),[]);f.useEffect(()=>{const R=I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),o==null||o())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[o]);const _=f.useMemo(()=>new Set(n.map(R=>R.collectionIndex)),[n]),w=f.useMemo(()=>{let R=0;return d.forEach(I=>{_.has(I)&&(R+=1)}),R},[_,d]),E=n.length,D=E>0&&w>=E,x=f.useMemo(()=>m.map(R=>R.meaningText).filter(Boolean),[m]),y=m.map(R=>({collectionIndex:R.collectionIndex,meaningText:R.meaningText||""})),S=x.length?`${x.join("")}`:"",k=f.useMemo(()=>n.filter(R=>Array.isArray(R.grid)&&R.grid.length<=5),[n]),L=f.useMemo(()=>n.filter(R=>Array.isArray(R.grid)&&R.grid.length>5),[n]),U=f.useCallback((R,I,Y)=>{if(!R.length)return null;const z=I==="small"?R.length>30:R.length>10,ee=["picross-clear-board-wrapper",`picross-clear-board-wrapper--${I}`,z?"picross-clear-board-wrapper--scroll":""].filter(Boolean).join(" "),ve=["picross-clear-board",`picross-clear-board--${I}`,z?"picross-clear-board--scroll":""].filter(Boolean).join(" ");return i.jsxs("section",{className:`picross-clear-board-section picross-clear-board-section--${I}`,"aria-label":Y,children:[i.jsxs("header",{className:"picross-clear-board-header",children:[i.jsx("h3",{className:"picross-clear-board-title",children:Y}),i.jsx("span",{className:"picross-clear-board-divider","aria-hidden":"true"})]}),i.jsxs("div",{className:ee,children:[I==="small"&&D&&i.jsxs("div",{className:"picross-clear-complete",role:"status","aria-live":"polite",children:[i.jsx("span",{className:"complete-ribbon",children:"COMPLETE!"}),i.jsx("span",{className:"complete-stars","aria-hidden":"true"})]}),i.jsx("div",{className:ve,role:"grid",children:R.map(ne=>{const we=d.has(ne.collectionIndex),Ye=p.has(ne.collectionIndex),Z=we?ne.meaningText||ne.glyphLabel||"":"??",H=s instanceof Map?s.get(ne.collectionIndex):null,M=H==null?void 0:H.grid,O=Array.isArray(ne.grid)&&ne.grid.length?ne.grid:g,G=we&&Array.isArray(M)&&M.length?M:O,W=Array.isArray(G)?G.length:5,q=["picross-clear-slot",`slot-${ne.difficulty}`,`slot-size-${W}`,we?"is-unlocked":"is-locked",Ye?"is-new":""].filter(Boolean).join(" "),Ne=["slot-meaning",`slot-meaning-size-${W}`,we?"":"slot-meaning--hidden"].filter(Boolean).join(" "),re=["slot-shape",`slot-shape-${W}`,we?"":"slot-shape--hidden"].filter(Boolean).join(" ");return i.jsxs("div",{className:q,"data-difficulty":ne.difficulty,title:we&&ne.meaningText||void 0,role:"gridcell","aria-live":Ye?"polite":void 0,children:[Ye&&i.jsx("span",{className:"slot-badge",children:"NEW"}),i.jsx("div",{className:re,children:G.map((Ee,Ce)=>Ee.map((ot,on)=>{const Mt=`${ne.collectionIndex}-${Ce}-${on}`,P=["slot-cell",ot?"is-filled":"",we&&ot?"is-active":"",!we&&ot?"is-locked":"",Ye&&ot?"is-new":""].filter(Boolean).join(" "),$=(Ce*W+on)*45;return i.jsx("span",{className:P,style:Ye&&ot?{animationDelay:`${$}ms`}:void 0},Mt)}))}),i.jsx("span",{className:Ne,children:Z})]},ne.collectionIndex)})})]})]},`board-${I}`)},[g,D,p,s,d]);return i.jsx("main",{className:"screen picross-clear-screen",children:i.jsxs("div",{className:"picross-clear-overlay",children:[i.jsxs("div",{className:"picross-clear-grid",children:[i.jsxs("div",{className:"picross-clear-left",children:[i.jsxs("section",{className:"picross-clear-hero",children:[t&&i.jsxs("figure",{className:"picross-clear-portrait",children:[i.jsx("img",{src:t,alt:`${a} Smile`}),i.jsx("span",{className:"picross-clear-glow","aria-hidden":"true"})]}),i.jsxs("header",{className:"picross-clear-header",children:[i.jsx("h1",{className:"picross-clear-title",children:u}),i.jsx("p",{className:`picross-clear-subtitle${x.length?" picross-clear-subtitle--highlight":""}`,role:"status","aria-live":"polite",children:S}),i.jsxs("p",{className:"picross-clear-progress",children:[" ",w,"/",E]})]})]}),i.jsxs("section",{className:"picross-clear-unlock-list","aria-label":"",children:[i.jsx("h2",{className:"picross-clear-unlock-title",children:""}),y.length>0?i.jsx("ul",{className:"picross-clear-unlock-items",children:y.map(R=>i.jsx("li",{children:R.meaningText},`unlock-list-${R.collectionIndex}`))}):i.jsx("p",{className:"picross-clear-unlock-empty",children:""})]})]}),i.jsxs("section",{className:"picross-clear-collection","aria-label":"Elfpix Symbol",children:[i.jsx("h2",{className:"picross-clear-collection-title",children:"Elfpix Symbol"}),i.jsxs("div",{className:"picross-clear-collection-groups",children:[U(k,"small","Elfpix Symbol 55"),U(L,"large","Elfpix Symbol 1010")]})]})]}),i.jsx("div",{className:"picross-clear-actions",children:i.jsx("button",{className:"primary",type:"button",onClick:o,children:"Continue"})})]})})}const gx=1e4,yx=4e3,up=4200,vx=ie("assets/img/background/ending.png");function xx({heroName:e="",endingNode:t="elf-true-ending",onDone:n}){const[r,s]=f.useState("story"),l=e||"",o=t==="elf-bad-ending"?"bad":"true",a=f.useMemo(()=>o==="bad"?[`${l}`,""]:[`${l}elpix`,`elfpix${l}`],[l,o]),u=o==="bad"?"Another journey awaits":"Thank you for playing",d=f.useMemo(()=>[{role:"Sound Design",name:"ino9"},{role:"Illustration",name:"ChatGPT"},{role:"Scenario",name:"ChatGPT / gpt-5"},{role:"Programmer",name:"ChatGPT / codex-gpt-5"},{role:"Special Thanks",name:""},{role:"TestPlayer",name:"sideofall"}],[]);return f.useEffect(()=>{let p;if(r==="story")p=setTimeout(()=>s("fin"),gx);else if(r==="fin")p=setTimeout(()=>s("credits"),yx);else if(r==="credits"){const m=up*d.length+1e3;p=setTimeout(()=>{n&&n()},m)}return()=>{p&&clearTimeout(p)}},[r,d.length,n]),i.jsx("main",{className:"screen ending",style:{backgroundImage:`url(${vx})`},children:i.jsxs("div",{className:"ending-content",children:[i.jsx("div",{className:`story-container ${r==="story"?"play":""}`,children:i.jsx("div",{className:"story-scroll",children:a.map((p,m)=>i.jsx("p",{children:p},m))})}),i.jsxs("div",{className:`ending-fin ${r==="fin"?"show":""}`,children:[i.jsx("div",{className:"ending-fin-title",children:"FIN"}),i.jsx("div",{className:"ending-fin-sub",children:u})]}),i.jsx("div",{className:`ending-credits ${r==="credits"?"show":""}`,children:r==="credits"&&d.map((p,m)=>i.jsxs("div",{className:"ending-credit-line",style:{animationDelay:`${m*up}ms`},children:[i.jsx("span",{className:"ending-credit-role",children:p.role}),i.jsx("span",{className:"ending-credit-name",children:p.name})]},p.role))})]})})}function Sx({onContinue:e,onQuit:t}){return f.useEffect(()=>{var r,s;try{(r=de.stopPlayMusic)==null||r.call(de),(s=de.playGameOver)==null||s.call(de)}catch(l){console.error("GameOver: failed to trigger defeat audio",l)}const n=l=>{if(l.key==="Enter"||l.key===" "){l.preventDefault(),e==null||e();return}l.key==="Escape"&&(l.preventDefault(),t==null||t())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t]),i.jsxs("main",{className:"screen gameover",children:[i.jsx("h1",{className:"headline",children:"Game Over"}),i.jsx("p",{className:"sub",children:""}),i.jsxs("div",{className:"actions",children:[i.jsx("button",{className:"ghost",onClick:e,children:"Continue"}),i.jsx("button",{className:"primary",onClick:t,children:"Quit"})]})]})}const _x=ie("assets/img/character/hero/hero_lose.png");function wx({heroName:e,onContinue:t,onQuit:n}){f.useEffect(()=>{var l,o;try{(l=de.stopPlayMusic)==null||l.call(de),(o=de.playGameOver)==null||o.call(de)}catch(a){console.error("EnemyVictory: failed to trigger defeat audio",a)}const s=a=>{if(a.key==="Enter"||a.key===" "){a.preventDefault(),t==null||t();return}a.key==="Escape"&&(a.preventDefault(),n==null||n())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,n]);const r=(e==null?void 0:e.trim())||"";return i.jsxs("main",{className:"screen enemy-victory",children:[i.jsx("h1",{className:"headline",children:`${r} LOSE`}),i.jsx("p",{className:"sub",children:""}),i.jsx("div",{className:"portrait",children:i.jsx("img",{src:_x,alt:`${r} defeat portrait`})}),i.jsxs("div",{className:"actions",children:[i.jsx("button",{className:"ghost",onClick:t,children:"Continue"}),i.jsx("button",{className:"primary",onClick:n,children:"Quit"})]})]})}function Ex({value:e,animating:t}){const r=(Number.isFinite(e)?Math.max(0,Math.floor(e)):0).toString().padStart(6,"0");return i.jsxs("div",{className:`score-hud ${t?"animating":""}`,"aria-live":"polite","aria-atomic":"true",children:[i.jsx("span",{className:"score-label",children:"Score"}),i.jsx("span",{className:"score-value",children:r})]})}const kx={subtitle:"",badgeCombo:"Combo Lesson",badgeBonus:"Bonus Lesson",slides:[{id:"definition",title:"",body:["1","","0"],illustration:"Combo 3  MISS  Combo 0",illustrationLabel:""},{id:"conditions",title:"",body:[" /  ","Undo","Maybe"],illustration:" Fill /   /  "},{id:"spell",title:"",body:["","","HERO / ENEMYAI"],illustration:"SPELL READY! "},{id:"jammer",title:"",body:["","Lv1Lv5",""],illustration:"Lv1  Lv5 = UP"},{id:"usage",title:"",body:[""," / 0",""],illustration:"Combo 4  Spell Cast  Combo 0"},{id:"strategy",title:"",body:["","",""],illustration:"Safe vs Risky"}],preface:{title:"",description:"",body:["","BGM Skip "],startFull:"",jumpCombo:"",exit:""},branch:{title:"",body:["",""],primary:"",secondary:""},completion:{title:"",description:"",confirm:""},skip:"Skip"},Fc={comboLesson:kx},uo=ie("assets/img/character/tutorial/fiene_smile.png"),Ol=5,Vu=[[0,1,1,0,0],[1,0,1,0,1],[1,1,1,0,0],[0,1,1,0,0],[0,0,0,0,1]],Nx=[[2],[1,1,1],[3],[2],[1]],Cx=[[2],[1,2],[4],[0],[1,1]],jx=["","",""],uy="tutorialComboTipsSeen",ss=(Fc==null?void 0:Fc.comboLesson)??{},sl=ss.slides??[],Ai=ss.subtitle??"",ws=ss.preface??{},fo=ss.branch??{},Es=ss.completion??{},Mx=ss.skip??"Skip",Bc=ss.badgeCombo??"Combo Lesson",Tx=ss.badgeBonus??"Bonus Lesson",dp=()=>typeof window>"u"||typeof window.localStorage>"u"?!1:window.localStorage.getItem(uy)==="true";function bx({slideId:e,fallback:t}){const n=({pattern:r,label:s,jam:l=!1,beam:o=!1})=>i.jsxs("div",{className:`diagram-board ${l?"is-jam":""}`,children:[r.map((a,u)=>a.split("").map((d,p)=>{const m=`${u}-${p}`,g=d==="#"?"filled":d==="x"?"cross":d==="m"?"miss":d==="?"?"maybe":d==="h"?"highlight":"";return i.jsx("span",{className:`diagram-cell ${g}`},m)})),o&&i.jsx("div",{className:"diagram-board-beam","aria-hidden":"true"}),s&&i.jsx("div",{className:"diagram-board-label",children:s})]});switch(e){case"definition":return i.jsxs("div",{className:"tutorial-diagram diagram-combo-flow",role:"img","aria-label":"",children:[i.jsx(n,{pattern:["hhhhh",".....",".....",".....","..m.."],label:"HERO Board"}),i.jsx("div",{className:"diagram-arrow",children:"  "}),i.jsx("div",{className:"diagram-counter",children:"Combo 0"})]});case"conditions":return i.jsxs("div",{className:"tutorial-diagram diagram-conditions",role:"img","aria-label":"",children:[i.jsx(n,{pattern:["..#..",".#?#.","..#..",".....","....."],label:" Fill"}),i.jsx(n,{pattern:[".....","..x..",".....",".....","....."],label:" "}),i.jsx(n,{pattern:[".....","..m..",".....",".....","....."],label:"",jam:!0})]});case"spell":return i.jsxs("div",{className:"tutorial-diagram diagram-spell",role:"img","aria-label":"",children:[i.jsx(n,{pattern:["..#..",".###.","..#..",".....","....."],label:"HERO"}),i.jsx("div",{className:"diagram-spell-arrow",children:"SPELL "}),i.jsx(n,{pattern:[".....",".....","..###",".....","....."],label:"ENEMY",beam:!0,jam:!0})]});case"jammer":return i.jsxs("div",{className:"tutorial-diagram diagram-jammer",role:"img","aria-label":"",children:[i.jsx(n,{pattern:["..##.",".###.","..##.",".....","....."],label:"Before"}),i.jsx("div",{className:"diagram-arrow",children:""}),i.jsx(n,{pattern:["..m..",".m#m.","..m..",".....","....."],label:"After",jam:!0})]});case"usage":return i.jsx("div",{className:"tutorial-diagram diagram-usage",role:"img","aria-label":"",children:i.jsxs("div",{className:"diagram-row",children:[i.jsx(n,{pattern:["..#..","..#..","..#..",".....","....."],label:"Combo 4"}),i.jsx("span",{className:"diagram-arrow",children:""}),i.jsx("button",{type:"button",className:"diagram-spell-button",disabled:!0,children:""}),i.jsx("span",{className:"diagram-arrow",children:""}),i.jsx(n,{pattern:[".....",".....",".....",".....","....."],label:"Combo 0"})]})});case"strategy":return i.jsxs("div",{className:"tutorial-diagram diagram-strategy",role:"img","aria-label":"",children:[i.jsxs("div",{className:"diagram-card",children:[i.jsx("strong",{children:"SAFE"}),i.jsx(n,{pattern:["..#..",".###.","..#..",".....","....."],label:""}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"diagram-card",children:[i.jsx("strong",{children:"RISKY"}),i.jsx(n,{pattern:[".###.",".###.",".###.",".....","....."],label:""}),i.jsx("span",{children:""})]})]});default:return t?i.jsx("div",{className:"tutorial-illustration",role:"img","aria-label":t,children:t}):null}}function ll(){return Array.from({length:Ol},()=>Array(Ol).fill(0))}function Rx(e){for(let t=0;t<Ol;t+=1)for(let n=0;n<Ol;n+=1){const r=Vu[t][n]===1,s=e[t][n]===1;if(r!==s)return!1}return!0}function Ax({grid:e,interactive:t=!1,onCellChange:n,highlightRow:r=null,highlightCol:s=null,showMarkers:l=!1}){const o=p=>!p||p.length===0?[""]:p.length===1&&p[0]===0?[""]:p,a=(p,m,g)=>{if(!t)return;g.preventDefault();const _=g.shiftKey?"maybe":"fill";n==null||n(p,m,_)},u=(p,m,g)=>{t&&(g.preventDefault(),n==null||n(p,m,"cross"))},d=(p,m,g)=>{const _=["tutorial-cell"];p===1?_.push("filled"):p===-1?_.push("cross"):p===2&&_.push("maybe"),(r===m||s===g)&&_.push("highlight");const w=p===-1?"":p===2?"?":"";return t?i.jsx("button",{type:"button",className:_.join(" "),onClick:E=>a(m,g,E),onContextMenu:E=>u(m,g,E),"aria-label":`row ${m+1}, col ${g+1}`,role:"gridcell",children:l?w:""},`cell-${m}-${g}`):i.jsx("div",{className:_.join(" "),role:"gridcell",children:w},`cell-${m}-${g}`)};return i.jsxs("div",{className:"tutorial-board",role:"grid","aria-label":"",children:[i.jsx("div",{className:"tutorial-corner","aria-hidden":"true"}),i.jsx("div",{className:"tutorial-top",role:"rowgroup",children:Cx.map((p,m)=>{const g=o(p);return i.jsx("div",{className:`tutorial-hint col-clue ${s===m?"tutorial-highlight":""}`,role:"columnheader",children:g.map((_,w)=>i.jsx("span",{children:_},`col-hint-${m}-${w}`))},`col-hint-${m}`)})}),i.jsx("div",{className:"tutorial-left",role:"rowgroup",children:Nx.map((p,m)=>{const g=o(p);return i.jsx("div",{className:`tutorial-hint row-clue ${r===m?"tutorial-highlight":""}`,role:"rowheader",children:g.map((_,w)=>i.jsx("span",{children:_},`row-hint-${m}-${w}`))},`row-hint-${m}`)})}),i.jsx("div",{className:"tutorial-grid",role:"rowgroup",children:e.map((p,m)=>p.map((g,_)=>d(g,m,_)))})]})}function Lx({onExit:e,onComplete:t}){const[n,r]=f.useState(0),[s,l]=f.useState(()=>ll()),[o,a]=f.useState({row:null,col:null}),[u,d]=f.useState(()=>ll()),[p,m]=f.useState(!1),[g,_]=f.useState(!1),[w,E]=f.useState(()=>dp()),[D,x]=f.useState(()=>dp()?"preface":"core"),[y,S]=f.useState(0);f.useEffect(()=>{if(n!==0){l(ll());return}const H=[];for(let O=0;O<Ol;O+=1)for(let G=0;G<Ol;G+=1)Vu[O][G]===1&&H.push([O,G]);const M=[];return l(ll()),H.forEach(([O,G],W)=>{M.push(setTimeout(()=>{l(q=>{const Ne=q.map(re=>re.slice());return Ne[O][G]=1,Ne})},W*500))}),M.push(setTimeout(()=>{_(!0)},H.length*500+300)),()=>{M.forEach(O=>clearTimeout(O)),_(!1)}},[n]),f.useEffect(()=>{if(n!==1){a({row:null,col:null});return}const M=[{row:0},{row:1},{col:2},{row:3},{col:null,row:null}].map((O,G)=>setTimeout(()=>a(O),G*1600));return()=>{M.forEach(O=>clearTimeout(O)),a({row:null,col:null})}},[n]),f.useEffect(()=>{if(n!==2){d(ll()),m(!1),_(!1);return}const H=Rx(u);m(H),_(!!H)},[u,n]);const k=(H,M,O)=>{d(G=>{const W=G.map(Ne=>Ne.slice()),q=W[H][M];return O==="fill"?W[H][M]=q===1?0:1:O==="cross"?W[H][M]=q===-1?0:-1:O==="maybe"&&(W[H][M]=q===2?0:2),W})},L=f.useCallback(()=>{var H;if(!w){try{(H=window.localStorage)==null||H.setItem(uy,"true")}catch{}E(!0)}},[w]),U=f.useCallback(()=>{S(0),x("combo")},[]),R=f.useCallback(()=>{if(y>=sl.length-1){L(),x("comboComplete");return}S(H=>Math.min(H+1,sl.length-1))},[y,L]),I=f.useCallback(()=>{S(H=>Math.max(H-1,0))},[]),Y=f.useCallback(()=>{x("comboComplete")},[]),z=f.useCallback(()=>{x("core"),r(0)},[]);f.useEffect(()=>{D==="combo"&&sl.length===0&&(L(),x("comboComplete"))},[D,L]);const ee=()=>{if(n===2){p&&x("branch");return}r(H=>Math.min(H+1,2))},ve=()=>{n===0?e==null||e():r(H=>Math.max(H-1,0))},ne=()=>{d(ll()),m(!1),_(!1)},we=f.useMemo(()=>n===0?s:n===1?Vu:u,[s,u,n]),Ye=n===1?o:{row:null,col:null},Z=n===2;if(D==="preface"){const H=Array.isArray(ws.body)?ws.body:[];return i.jsx("main",{className:"screen tutorial-screen",children:i.jsxs("div",{className:"tutorial-layout",children:[i.jsxs("section",{className:"tutorial-hero-card",children:[i.jsx("div",{className:"tutorial-step-badge",children:Bc}),i.jsx("h1",{className:"tutorial-title",children:ws.title??""}),i.jsx("img",{src:uo,alt:"",className:"tutorial-hero-image"}),i.jsx("p",{className:"tutorial-description",children:ws.description??Ai})]}),i.jsx("section",{className:"tutorial-content tutorial-preface",children:i.jsxs("div",{className:"tutorial-dialog",children:[i.jsx("div",{className:"tutorial-dialog-body",children:H.length>0&&i.jsx("ul",{children:H.map(M=>i.jsx("li",{children:M},M))})}),i.jsxs("div",{className:"tutorial-options-column",children:[i.jsx("button",{type:"button",className:"primary",onClick:z,children:ws.startFull??""}),i.jsx("button",{type:"button",className:"ghost",onClick:U,children:ws.jumpCombo??""}),i.jsx("button",{type:"button",className:"ghost",onClick:e,children:ws.exit??""})]})]})})]})})}if(D==="branch"){const H=Array.isArray(fo.body)?fo.body:[];return i.jsx("main",{className:"screen tutorial-screen",children:i.jsxs("div",{className:"tutorial-layout",children:[i.jsxs("section",{className:"tutorial-hero-card",children:[i.jsx("div",{className:"tutorial-step-badge",children:Tx}),i.jsx("h1",{className:"tutorial-title",children:fo.title??""}),i.jsx("img",{src:uo,alt:"",className:"tutorial-hero-image"}),i.jsx("p",{className:"tutorial-description",children:Ai})]}),i.jsx("section",{className:"tutorial-content tutorial-branch",children:i.jsxs("div",{className:"tutorial-dialog",children:[i.jsx("div",{className:"tutorial-dialog-body",children:H.map(M=>i.jsx("p",{children:M},M))}),i.jsxs("div",{className:"tutorial-options-column",children:[i.jsx("button",{type:"button",className:"primary",onClick:U,children:fo.primary??""}),i.jsx("button",{type:"button",className:"ghost",onClick:t,children:fo.secondary??""})]})]})})]})})}if(D==="combo"){const H=Math.min(y,Math.max(sl.length-1,0)),M=sl[H]??{},O=Array.isArray(M.body)?M.body:[],G=sl.length||1;return i.jsx("main",{className:"screen tutorial-screen",children:i.jsxs("div",{className:"tutorial-layout",children:[i.jsxs("section",{className:"tutorial-hero-card",children:[i.jsx("div",{className:"tutorial-step-badge",children:Bc}),i.jsx("h1",{className:"tutorial-title",children:M.title??"Combo Lesson"}),i.jsx("img",{src:uo,alt:"",className:"tutorial-hero-image"}),i.jsx("p",{className:"tutorial-description",children:Ai})]}),i.jsxs("section",{className:"tutorial-content tutorial-combo",children:[i.jsxs("div",{className:"tutorial-combo-header",children:[i.jsxs("span",{className:"tutorial-progress",children:[y+1," / ",G]}),i.jsx("button",{type:"button",className:"ghost",onClick:Y,children:Mx})]}),i.jsxs("div",{className:"tutorial-dialog",children:[i.jsxs("div",{className:"tutorial-dialog-body",children:[O.length>0&&i.jsx("ul",{children:O.map(W=>i.jsx("li",{children:W},W))}),i.jsx(bx,{slideId:M.id,fallback:M.illustration})]}),i.jsxs("div",{className:"tutorial-actions",children:[i.jsx("button",{type:"button",className:"ghost",onClick:I,disabled:y===0,children:"Back"}),i.jsx("div",{className:"tutorial-actions-right",children:i.jsx("button",{type:"button",className:"primary",onClick:R,children:y===G-1?"":"Next"})})]})]})]})]})})}if(D==="comboComplete"){const H=[];return Es.title&&H.push(Es.title),Es.description&&H.push(Es.description),i.jsx("main",{className:"screen tutorial-screen",children:i.jsxs("div",{className:"tutorial-layout",children:[i.jsxs("section",{className:"tutorial-hero-card",children:[i.jsx("div",{className:"tutorial-step-badge",children:Bc}),i.jsx("h1",{className:"tutorial-title",children:Es.title??""}),i.jsx("img",{src:uo,alt:"",className:"tutorial-hero-image"}),i.jsx("p",{className:"tutorial-description",children:Es.description??Ai})]}),i.jsx("section",{className:"tutorial-content tutorial-branch",children:i.jsxs("div",{className:"tutorial-dialog",children:[i.jsx("div",{className:"tutorial-dialog-body",children:H.map(M=>i.jsx("p",{children:M},M))}),i.jsx("div",{className:"tutorial-options-column",children:i.jsx("button",{type:"button",className:"primary",onClick:t,children:Es.confirm??""})})]})})]})})}return i.jsx("main",{className:"screen tutorial-screen",children:i.jsxs("div",{className:"tutorial-layout",children:[i.jsxs("section",{className:"tutorial-hero-card",children:[i.jsxs("div",{className:"tutorial-step-badge",children:["Step ",n+1," / 3"]}),i.jsx("h1",{className:"tutorial-title",children:jx[n]}),i.jsx("img",{src:uo,alt:"",className:"tutorial-hero-image"}),i.jsxs("p",{className:"tutorial-description",children:[n===0&&"",n===1&&"",n===2&&" Shift+ Maybe "]})]}),i.jsxs("section",{className:"tutorial-content",children:[i.jsx(Ax,{grid:we,interactive:Z,onCellChange:Z?k:void 0,highlightRow:Ye.row,highlightCol:Ye.col,showMarkers:Z}),i.jsxs("div",{className:"tutorial-dialog",children:[n===0&&i.jsxs("div",{className:"tutorial-dialog-body",children:[i.jsx("p",{children:""}),g&&i.jsx("p",{className:"tutorial-celebrate",children:" "})]}),n===1&&i.jsx("div",{className:"tutorial-dialog-body",children:i.jsxs("ul",{children:[i.jsx("li",{children:"1"}),i.jsx("li",{children:""}),i.jsx("li",{children:"   ? "})]})}),n===2&&i.jsxs("div",{className:"tutorial-dialog-body",children:[i.jsx("p",{children:" /   / Shift+ ? "}),p&&i.jsx("p",{className:"tutorial-celebrate",children:""})]}),i.jsxs("div",{className:"tutorial-actions",children:[i.jsx("button",{type:"button",className:"ghost",onClick:ve,children:"Back"}),n===2&&i.jsx("button",{type:"button",className:"ghost",onClick:ne,children:"Reset"}),i.jsxs("div",{className:"tutorial-actions-right",children:[i.jsx("button",{type:"button",className:"ghost",onClick:e,children:"Skip"}),i.jsx("button",{type:"button",className:"primary",onClick:ee,disabled:n===2&&!p,children:n===2?"":"Next"})]})]})]})]})]})})}const T=!0,j=!1;function Ht(e){return e.map(t=>t.slice())}function Yu(e){return e?{grid:Ht(e.grid),glyphMeta:e.glyphMeta?{...e.glyphMeta}:null}:{grid:[],glyphMeta:null}}function Bl(e,t){if(!Array.isArray(e)||!e.length||t<=1)return Ht(e);const n=e.length,r=n*t,s=Array.from({length:r},()=>Array.from({length:r},()=>!1));for(let l=0;l<n;l+=1)for(let o=0;o<n;o+=1)if(e[l][o])for(let a=0;a<t;a+=1)for(let u=0;u<t;u+=1)s[l*t+a][o*t+u]=!0;return s}function fp(e,t=0){const n=Array.from({length:e},()=>Array.from({length:e},()=>!1));for(let r=0;r<e;r+=1){const s=(r+t)%e;n[r][s]=!0;const l=e-1-s;n[r][l]=!0}return n}function Ea(e){return e.length?e[0].map((t,n)=>e.map(r=>r[n])):[]}function Px(e){let t=0;return e.forEach(n=>n.forEach(r=>{r&&(t+=1)})),t}function ka(e){const t=[];let n=null;for(let r=0;r<=e.length;r+=1)e[r]?n==null&&(n=r):n!=null&&(t.push({start:n,length:r-n}),n=null);return t}function Ix(e,t){const n=e.slice();if(t<=0)return n;let r=!0;for(;r;){r=!1;const l=ka(n).find(a=>a.length>t);if(!l)break;const o=l.start+Math.floor(l.length/2);n[o]=!1,r=!0}return n}function Ox(e,t){if(!Number.isFinite(t)||t<=0)return e.slice();const n=e.slice();let r=ka(n);for(;r.length>t;){const s=r[r.length-1],l=s.start+Math.floor(s.length/2);n[l]=!1,r=ka(n)}return n}function Dx(e,t){const n=e.map(l=>l.slice());n.forEach((l,o)=>{n[o]=t(l)});const r=Ea(n);return r.forEach((l,o)=>{r[o]=t(l)}),Ea(r)}function zx(e){const t=ka(e);return t.length?Math.max(...t.map(n=>n.length)):0}function mp(e,t,n=null,r=-1,s=Math.random){const l=Array(e).fill(!1),o=Math.max(0,e-t);if(!n||r<0||o===0){const m=o>0?Math.floor(s()*(o+1)):0,g=l.slice();for(let _=0;_<t;_+=1)g[m+_]=!0;return g}const a=[];for(let m=0;m<=o;m+=1){const g=l.slice();for(let E=0;E<t;E+=1)g[m+E]=!0;const _=n.map((E,D)=>D===r?g:E),w=Dl(_);a.push({penalty:w,row:g})}const u=Math.min(...a.map(m=>m.penalty)),d=a.filter(m=>m.penalty<=u+1e-6),p=d[Math.floor(s()*d.length)];return p!=null&&p.row?p.row.slice():l}function pp(e,t=Math.random,{forceReassign:n=!1}={}){const r=e.length,s=e.map(u=>u.slice()),l=new Set,o=n||Dl(s)>Ua,a=s.map((u,d)=>({index:d,longest:zx(u)}));return Hx.forEach(u=>{let d=u.count;const p=()=>u.max===u.min?u.max:u.min+Math.floor(t()*(u.max-u.min+1));for(a.forEach(m=>{if(!(d<=0)&&!l.has(m.index)&&m.longest>=u.min&&m.longest<=u.max){if(o){const g=p();s[m.index]=mp(r,g,s,m.index,t)}l.add(m.index),d-=1}});d>0;){const m=a.map(w=>w.index).filter(w=>!l.has(w));if(!m.length)break;const g=m[Math.floor(t()*m.length)],_=p();s[g]=mp(r,_,s,g,t),l.add(g),d-=1}}),s}function hp(e,t=Math.random){let n=e.map(r=>r.slice());for(let r=0;r<2;r+=1){n=pp(n,t,{forceReassign:!0});const s=Ea(n),l=pp(s,t,{forceReassign:!0});n=Ea(l)}return n}function gp(e,t=Math.random,n=2e4){const r=e.length;let s=e.map(u=>u.slice()),l=Dl(s),o=l,a=s.map(u=>u.slice());for(let u=0;u<n&&l>Ua;u+=1){const d=Math.floor(t()*r),p=Math.floor(t()*r);s[d][p]=!s[d][p];const m=Dl(s),g=m-l,_=Math.max(1e-4,1-u/n);g<=0||t()<Math.exp(-Math.max(0,g)/_)?(l=m,m<o&&(o=m,a=s.map(w=>w.slice()))):s[d][p]=!s[d][p]}return o<l?a:s}function $x(e){return e.every(t=>t.every((n,r)=>n===t[t.length-1-r]))}function Fx(e){const t=e.length;return e.every((n,r)=>n.every((s,l)=>s===e[t-1-r][l]))}const Bx={middle:{minDensity:.28,maxDensity:.42,maxRunRatio:.5,maxSegments:4,preventSymmetry:!0},hard:{minDensity:.35,maxDensity:.55,maxRunRatio:1,maxSegments:0,preventSymmetry:!0},ultra:{minDensity:.35,maxDensity:.55,maxRunRatio:1,maxSegments:0,preventSymmetry:!0}},Ux={practice:"intro",easy:"intro",middle:"core",hard:"advanced",ultra:"master"},Hx=[{count:1,min:10,max:10},{count:1,min:7,max:9},{count:4,min:4,max:6},{count:3,min:2,max:3},{count:1,min:1,max:1}],Gx={10:.1,9:.0334,8:.0333,7:.0333,6:.1334,5:.1333,4:.1333,3:.15,2:.15,1:.1},Ua=.05;function Vx(e){const t={};let n=0;const{rows:r,cols:s}=nr(e);return r.concat(s).forEach(l=>{l.forEach(o=>{o<=0||(t[o]=(t[o]||0)+1,n+=1)})}),{histogram:t,total:n}}function Dl(e){const{histogram:t,total:n}=Vx(e);if(!n)return 0;let r=0;Object.entries(Gx).forEach(([l,o])=>{const a=(t[l]||0)/n,u=Math.abs(a-o),d=Math.max(0,u-Ua);r+=d*d});const s=e.length;for(let l=0;l<s;l+=1){let o=0,a=0;for(let u=0;u<s;u+=1)e[u][l]?(o+=1,o>a&&(a=o)):o=0;a>s*.9&&(r+=(a-s*.9)*.05)}return r}function yp(e,t=Math.random){return e.length?Math.floor(t()*e.length):-1}function Yx(e,t=Math.random){const n=e.length;if(n!==10)return e;const r=[[1,1,1,1,1],[5,4],[4,5],[3,3,1],[1,3,3],[3,1,3],[2,2,4],[4,2,2],[2,4,2],[6,3],[3,6],[7,2],[2,7],[8,1],[1,8]],s=Math.max(2,Math.floor(n*.2)),l=e.map(g=>g.slice()),o=(g,_)=>{const w=[];let E=0;if(_.forEach((y,S)=>{for(let k=0;k<y;k+=1)w.push(E+k);E+=y,S<_.length-1&&(E+=1)}),E>n)return null;const D=Math.floor(t()*Math.max(1,n-E+1)),x=Array.from({length:n},()=>!1);return w.forEach(y=>{const S=Math.min(n-1,D+y);x[S]=!0}),x},a=(g,_)=>{const w=o(l[g],_);return w?(l[g]=w,!0):!1},u=new Set,d=r.slice();for(;u.size<s&&d.length;){const g=Math.floor(t()*n);if(u.has(g))continue;const _=d[Math.floor(t()*d.length)];a(g,_)&&(u.add(g),d.splice(Math.floor(t()*d.length),1))}const p=new Set,m=r.slice();for(;p.size<s&&m.length;){const g=Math.floor(t()*n);if(p.has(g))continue;const _=m[Math.floor(t()*m.length)],w=o(Array.from({length:n},()=>!1),_);if(w){for(let E=0;E<n;E+=1)l[E][g]=w[E];p.add(g),m.splice(Math.floor(t()*m.length),1)}}return l}function Li(e,{minDensity:t,maxDensity:n},r=Math.random){const s=e.length*e.length,l=[];e.forEach((m,g)=>m.forEach((_,w)=>{l.push({r:g,c:w,filled:_})}));let o=Px(e);const a=Math.floor(s*t),u=Math.ceil(s*n),d=e.map(m=>m.slice());for(;o>u;){const m=l.filter(w=>d[w.r][w.c]);if(!m.length)break;const g=yp(m,r),_=m[g];d[_.r][_.c]=!1,o-=1}const p=l.filter(m=>!d[m.r][m.c]);for(;o<a&&p.length;){const m=yp(p,r),g=p.splice(m,1)[0];d[g.r][g.c]=!0,o+=1}return d}function Wx(e){const t=e.map(n=>n.slice());if($x(t)){const n=t.length;for(let r=0;r<n;r+=1)for(let s=Math.floor(n/2);s<n;s+=1)if(t[r][s])return t[r][s]=!1,t}if(Fx(t)){const n=t.length;for(let r=Math.floor(n/2);r<n;r+=1)for(let s=0;s<n;s+=1)if(t[r][s])return t[r][s]=!1,t}return t}function dy(e,t,n=Math.random){const r=Bx[t];if(!r)return Ht(e);const s=e.length,l=Math.max(2,Math.floor(s*r.maxRunRatio)),o=s>=10&&(t==="hard"||t==="ultra"),a=!o;let u=Ht(e);if(r.preventSymmetry&&(u=Wx(u)),u=Li(u,r,n),o&&s===10){u=Yx(u,n),u=hp(u,n),u=gp(u,n,2e4),u=Li(u,r,n);let d=Dl(u),p=0;for(;d>Ua&&p<3;)u=hp(u,n),u=gp(u,n,12e3),u=Li(u,r,n),d=Dl(u),p+=1}else a&&(u=Dx(u,d=>{let p=Ix(d,l);return p=Ox(p,r.maxSegments),p}));return u=Li(u,r,n),u}function ae(e){return e.map(t=>t.split("").map(n=>n==="#"))}function Uc(e,t,n,{allowTransforms:r,overlays:s,requireUniqueSolution:l,difficulty:o}){var u;if(!e)return null;const a=r?[{transform:!0,overlay:!0},{transform:!0,overlay:!1},{transform:!1,overlay:!0},{transform:!1,overlay:!1}]:[{transform:!1,overlay:!0},{transform:!1,overlay:!1}];for(const d of a){const p=d.transform?8:2;for(let m=0;m<p;m+=1){const g=d.transform?fy(e.grid,t,n):Ht(e.grid);if(!g)continue;const _=d.overlay&&(s!=null&&s.length)?CS(g,s,t,n):g;if(l&&!Xu(_))continue;const w=((u=e==null?void 0:e.glyphMeta)==null?void 0:u.difficulty)||o||null,E=dy(_,w,n);return Ht(E)}}return null}const Pi=[[[j,T,j,T,j],[T,T,T,T,T],[T,T,T,T,T],[j,T,T,T,j],[j,j,T,j,j]],[[j,T,j,T,j],[j,T,j,T,j],[j,j,j,j,j],[T,j,j,j,T],[j,T,T,T,j]],[[j,j,T,j,j],[j,j,T,j,j],[T,T,T,T,T],[j,j,T,j,j],[j,j,T,j,j]],[[j,j,T,j,j],[j,T,T,T,j],[T,j,T,j,T],[j,j,T,j,j],[j,j,T,j,j]],[[T,j,j,j,T],[j,T,j,T,j],[j,j,T,j,j],[j,T,j,T,j],[T,j,j,j,T]]],mo=[[[T,T,T,T,T],[T,j,T,j,T],[T,T,T,T,T],[j,T,j,T,j],[T,j,j,j,T]],[[j,T,j,T,j],[T,T,T,T,T],[j,T,T,T,j],[T,j,T,j,T],[j,T,T,j,j]],[[T,T,T,T,j],[T,j,j,T,j],[T,T,j,T,j],[T,j,j,T,j],[T,T,T,T,j]],[[j,T,j,T,j],[T,j,T,j,T],[T,j,T,j,T],[T,j,T,j,T],[j,T,j,T,j]],[[T,T,T,j,j],[T,j,j,j,j],[T,j,T,T,j],[T,j,j,j,j],[T,T,T,j,j]]],vp=[ae(["..#..",".###.","#####",".###.","#..##"]),ae(["..#..",".#.#.","#####",".#.#.","..#.#"]),ae(["#....","##...",".###.","...##","..#.#"]),ae(["###..","#..#.","####.","...#.",".###."]),ae([".#.#.","###..",".####","..#.#","..##."])],Qx=[ae(["#.###","###..",".####","..###",".###."]),ae([".###.","#...#","#####",".#.#.",".###."]),ae(["..#..",".###.","#####",".#.#.","##.##"]),ae(["#..#.","####.",".###.",".####","#..#."]),ae([".####","###..",".#..#","..###","###.."])];ae([".##..","####.",".###.","..##.","...#."]),ae(["..##.",".###.","#####",".###.","..#.."]),ae([".###.","##.##","#####",".###.",".#.#."]),ae(["###..","##.#.",".####","...##","...#."]),ae(["..#..",".###.","##.##",".###.",".#.#."]),ae([".#.#.","#####",".###.","##.##","#...#"]);const Xx=[ae(["####.","###.#","#####",".####","..###"]),ae(["###.#","#####","##.##",".####","..###"]),ae(["#####","##.##",".####","..###","...##"]),ae(["####.","##.##","#.###","####.",".###."]),ae(["###.#","#.###","#####","###.#",".####"]),ae(["#####",".####","..###",".####","#####"])],Kx=[ae([".###.","#...#","#####",".#.#.",".###."]),ae(["..#..",".###.","#####",".#.#.","##.##"])],qx=[ae(["#####","#.###","#####","###.#","#####"]),ae(["####.","#####","##.##","#####",".####"]),ae(["#####","##.##",".###.","##.##","#####"]),ae(["####.","###.#","#.###","###.#",".####"]),ae([".####","#####","###.#","#####","####."]),ae(["#####","#.###","#####","#.###","#####"])],Jx=[ae(["##.##",".###.","#####",".###.","##.##"]),ae([".#.#.","#####","##.##","#####",".#.#."]),ae(["###.#","##.##","#.###","##.##","###.#"]),ae([".###.","##.##","#####","##.##",".###."])],ol=Xx.map(e=>Bl(e,2)),xp=Kx.map(e=>Bl(e,2)),il=qx.map(e=>Bl(e,2)),Ii=Jx.map(e=>Bl(e,2)),Zx=[ae([".....","..#..",".###.","..#..","....."]),ae(["...#.","..##.","...#.",".....","....."]),ae(["#....",".#...","..#..","...#.","....#"])],eS=[ae([".....","..#..",".....","..#..","....."]),ae(["#....",".#...","..#..",".#...","#...."])],tS=[ae([".....","..#..",".###.","..#..","....."]),ae([".....",".#.#.","..#..",".#.#.","....."]),ae([".....","..##.",".####","..##.","....."])],nS=[ae([".#.#.","#####",".#.#.","#####",".#.#."]),ae(["##..#",".###.","..#..",".###.","#..##"]),ae([".###.","#####","##.##","#####",".###."])],rS=[ae(["#####","#.#.#","##.##","#.#.#","#####"]),ae([".###.","#####","##.##","#####",".###."]),ae(["#.###","#####",".###.","#####","###.#"])],sS=nS.map(e=>Bl(e,2)),lS=rS.map(e=>Bl(e,2));function Me({grid:e,glyphId:t,glyphLabel:n,meaningText:r,collectionIndex:s,difficulty:l}){return{grid:dy(e,l),glyphMeta:{glyphId:t,glyphLabel:n,meaningText:r,collectionIndex:s,difficulty:l,difficultyTier:Ux[l]||"intro"}}}const oS=[Me({grid:vp[0],glyphId:"practice_arrow",glyphLabel:"AR",meaningText:"",collectionIndex:0,difficulty:"practice"}),Me({grid:vp[1],glyphId:"practice_lantern",glyphLabel:"LT",meaningText:"",collectionIndex:1,difficulty:"practice"}),Me({grid:Pi[0],glyphId:"easy_heart",glyphLabel:"HT",meaningText:"",collectionIndex:2,difficulty:"easy"}),Me({grid:Pi[1],glyphId:"easy_smile",glyphLabel:"SM",meaningText:"",collectionIndex:3,difficulty:"easy"}),Me({grid:Pi[2],glyphId:"easy_cross",glyphLabel:"PL",meaningText:"",collectionIndex:4,difficulty:"easy"}),Me({grid:Pi[3],glyphId:"easy_swift_arrow",glyphLabel:"SW",meaningText:"",collectionIndex:5,difficulty:"easy"}),Me({grid:mo[0],glyphId:"middle_crest",glyphLabel:"CR",meaningText:"",collectionIndex:6,difficulty:"middle"}),Me({grid:mo[1],glyphId:"middle_wings",glyphLabel:"WG",meaningText:"",collectionIndex:7,difficulty:"middle"}),Me({grid:mo[2],glyphId:"middle_spiral",glyphLabel:"SR",meaningText:"",collectionIndex:8,difficulty:"middle"}),Me({grid:mo[3],glyphId:"middle_leaves",glyphLabel:"LV",meaningText:"",collectionIndex:9,difficulty:"middle"}),Me({grid:mo[4],glyphId:"middle_moon",glyphLabel:"MN",meaningText:"",collectionIndex:10,difficulty:"middle"}),Me({grid:Qx[0],glyphId:"middle_orbit",glyphLabel:"OR",meaningText:"",collectionIndex:11,difficulty:"middle"}),Me({grid:ol[0],glyphId:"hard_flame",glyphLabel:"HL",meaningText:"",collectionIndex:12,difficulty:"hard"}),Me({grid:ol[1],glyphId:"hard_bulwark",glyphLabel:"HD",meaningText:"",collectionIndex:13,difficulty:"hard"}),Me({grid:ol[2],glyphId:"hard_chain",glyphLabel:"CL",meaningText:"",collectionIndex:14,difficulty:"hard"}),Me({grid:ol[3],glyphId:"hard_sapling",glyphLabel:"ST",meaningText:"",collectionIndex:15,difficulty:"hard"}),Me({grid:ol[4],glyphId:"hard_ring",glyphLabel:"RG",meaningText:"",collectionIndex:16,difficulty:"hard"}),Me({grid:ol[5],glyphId:"hard_starway",glyphLabel:"CS",meaningText:"",collectionIndex:17,difficulty:"hard"}),Me({grid:xp[0],glyphId:"hard_breeze",glyphLabel:"BR",meaningText:"",collectionIndex:18,difficulty:"hard"}),Me({grid:xp[1],glyphId:"hard_key",glyphLabel:"KN",meaningText:"",collectionIndex:19,difficulty:"hard"}),Me({grid:il[0],glyphId:"ultra_crown",glyphLabel:"GL",meaningText:"",collectionIndex:20,difficulty:"ultra"}),Me({grid:il[1],glyphId:"ultra_cycle",glyphLabel:"CN",meaningText:"",collectionIndex:21,difficulty:"ultra"}),Me({grid:il[2],glyphId:"ultra_core",glyphLabel:"NX",meaningText:"",collectionIndex:22,difficulty:"ultra"}),Me({grid:il[3],glyphId:"ultra_trident",glyphLabel:"TR",meaningText:"",collectionIndex:23,difficulty:"ultra"}),Me({grid:il[4],glyphId:"ultra_dawn",glyphLabel:"DA",meaningText:"",collectionIndex:24,difficulty:"ultra"}),Me({grid:il[5],glyphId:"ultra_protector",glyphLabel:"PR",meaningText:"",collectionIndex:25,difficulty:"ultra"}),Me({grid:Ii[0],glyphId:"ultra_loom",glyphLabel:"LM",meaningText:"",collectionIndex:26,difficulty:"ultra"}),Me({grid:Ii[1],glyphId:"ultra_pulse",glyphLabel:"PL",meaningText:"",collectionIndex:27,difficulty:"ultra"}),Me({grid:Ii[2],glyphId:"ultra_spire",glyphLabel:"SP",meaningText:"",collectionIndex:28,difficulty:"ultra"}),Me({grid:Ii[3],glyphId:"ultra_aegis",glyphLabel:"AG",meaningText:"",collectionIndex:29,difficulty:"ultra"})],iS=new Set([0,1,2,3,4,5,6,7,8,9,10,11,12,13,20,21,22]),ls=oS.filter(e=>iS.has(e.glyphMeta.collectionIndex)).sort((e,t)=>e.glyphMeta.collectionIndex-t.glyphMeta.collectionIndex),aS=ls.filter(e=>e.glyphMeta.difficulty==="practice"),cS=ls.filter(e=>e.glyphMeta.difficulty==="easy"),uS=ls.filter(e=>e.glyphMeta.difficulty==="middle"),dS=ls.filter(e=>e.glyphMeta.difficulty==="hard"),fS=ls.filter(e=>e.glyphMeta.difficulty==="ultra"),mS=new Map;ls.forEach(e=>{mS.set(e.glyphMeta.collectionIndex,e.glyphMeta)});const Sp=ls.map(e=>({...e.glyphMeta,grid:Ht(e.grid)})),pS={"elf-practice":"practice","elf-easy":"easy","elf-middle":"middle","elf-hard":"hard","elf-ultra":"ultra"},_p={practice:aS,easy:cS,middle:uS,hard:dS,ultra:fS},hS={practice:Zx,easy:tS,middle:eS,hard:sS,ultra:lS},Wu=new Map,gS=40;function Qd(e){if(typeof e=="number"&&Number.isFinite(e))return e>>>0;if(typeof e=="string"&&e.length){let t=0;for(let n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t>>>0}return Math.floor(Math.random()*4294967295)>>>0}function yS(e){return function(){let n=e+=1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function Hc(e){return yS(Qd(e))}function Qu(e,t){const n=e.slice();for(let r=n.length-1;r>0;r-=1){const s=Math.floor(t()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}function Gr(e){return e.map(t=>t.map(n=>n?"1":"0").join("")).join(`
`)}function vS(e){const t=[];for(let n=0;n<e.length;n+=1){const r=e[n];for(let s=0;s<r.length;s+=1)r[s]&&t.push({x:s,y:n})}return t}function xS(e,t){const n=Array.from({length:t},()=>Array.from({length:t},()=>!1));return e.forEach(({x:r,y:s})=>{r>=0&&r<t&&s>=0&&s<t&&(n[s][r]=!0)}),n}function SS(e,t){return e.length,e.map((n,r)=>n.map((s,l)=>{var o;return s||!!((o=t==null?void 0:t[r])!=null&&o[l])}))}function wp(e,t){return Qd(e+t>>>0)}function _S({x:e,y:t},n,r){switch(r%4){case 1:return{x:n-1-t,y:e};case 2:return{x:n-1-e,y:n-1-t};case 3:return{x:t,y:n-1-e};case 0:default:return{x:e,y:t}}}function fy(e,t,n){if(!e||!e.length||e.length!==t)return null;const s=vS(e);if(!s.length)return null;const l=Math.floor(n()*4),o=n()<.5,a=s.map(k=>_S(k,t,l)),u=o?a.map(({x:k,y:L})=>({x:t-1-k,y:L})):a;let d=1/0,p=-1/0,m=1/0,g=-1/0;u.forEach(({x:k,y:L})=>{k<d&&(d=k),k>p&&(p=k),L<m&&(m=L),L>g&&(g=L)});const _=p-d+1,w=g-m+1,E=Math.max(0,t-_),D=Math.max(0,t-w),x=Math.floor(n()*(E+1)),y=Math.floor(n()*(D+1)),S=u.map(({x:k,y:L})=>({x:k-d+x,y:L-m+y}));return xS(S,t)}function wS(e,t,n=2){const r=e.length,s=[];for(let u=0;u<r;u+=1)for(let d=0;d<r;d+=1){if(!e[u][d])continue;let p=0;u>0&&e[u-1][d]&&(p+=1),u<r-1&&e[u+1][d]&&(p+=1),d>0&&e[u][d-1]&&(p+=1),d<r-1&&e[u][d+1]&&(p+=1),p<=1&&s.push({x:d,y:u})}if(!s.length)return e;const l=Math.min(n,1+Math.floor(t()*s.length));if(l<=0)return e;const o=e.map(u=>u.slice());for(let u=0;u<l&&s.length;u+=1){const d=Math.floor(t()*s.length),{x:p,y:m}=s.splice(d,1)[0];o[m][p]=!1}return o.some(u=>u.some(Boolean))?o:e}function Gc(e,t){const n=Wu.get(e);return n?n.set.has(t):!1}function Oi(e,t){let n=Wu.get(e);if(n||(n={set:new Set,order:[]},Wu.set(e,n)),!n.set.has(t))for(n.set.add(t),n.order.push(t);n.order.length>gS;){const r=n.order.shift();r&&n.set.delete(r)}}function ES(e,t){if(!t||t.length===0||t.length===1&&t[0]===0)return[Array.from({length:e},()=>!1)];const n=[];t.reduce((s,l)=>s+l,0),t.length-1;function r(s,l,o){if(s>=t.length){if(l<=e){const m=Array.from({length:e-l},()=>!1);n.push(o.concat(m))}return}const a=t[s],u=t.slice(s+1).reduce((m,g)=>m+g,0),d=Math.max(0,t.length-s-1),p=e-(a+u+d);for(let m=l;m<=p;m+=1){const g=Array.from({length:m-l},()=>!1),_=Array.from({length:a},()=>!0),w=o.concat(g,_),E=m+a;s===t.length-1?r(s+1,E,w):r(s+1,E+1,w.concat(!1))}}return r(0,0,[]),n}function kS(e,t,n,r){if(!t||t.length===0||t.length===1&&t[0]===0)return e.every(p=>!p);let s=0,l=0;for(let p=0;p<e.length;p+=1)if(e[p]){if(l+=1,s>=t.length||l>t[s])return!1}else if(l>0){if(l!==t[s])return!1;s+=1,l=0}if(l>0&&s>=t.length)return!1;const o=n-r;let a=0;l>0&&(a+=t[s]-l);const u=l>0?s+1:s;for(let p=u;p<t.length;p+=1)a+=t[p];const d=t.length-u;return l>0?d>0&&(a+=1+(d-1)):d>1&&(a+=d-1),a<=o}function NS(e,t,n,r=2){const s=e.map(u=>ES(n,u)),l=Array.from({length:n},()=>[]);let o=0;function a(u){if(u===n)return o+=1,o;const d=s[u];for(let p=0;p<d.length;p+=1){const m=d[p];let g=!0;for(let _=0;_<n&&(l[_].push(m[_]),kS(l[_],t[_],n,u+1)||(g=!1),!!g);_+=1);if(g&&(a(u+1),o>=r))return o;for(let _=0;_<n;_+=1)l[_].pop()}return o}return a(0),o}function Xu(e){const{rows:t,cols:n}=nr(e),r=e.length;return NS(t,n,r,2)===1}function Ep(e,t){if(!Array.isArray(e)||!e.length)return!1;const n=new Set(["4","5","3,1","1,3","1,1,1"]),r=e.join(",");if(t<=5&&n.has(r))return!0;const s=e.reduce((a,u)=>a+u,0),l=Math.max(...e),o=Math.max(1,Math.ceil(t*.6));return l>=o||s>=o}function al(e){const t=e.length||0;if(!t)return!1;const{rows:n,cols:r}=nr(e);return n.some(s=>Ep(s,t))||r.some(s=>Ep(s,t))}function CS(e,t,n,r){if(!t||!t.length)return e;let s=e;if(r()<.6){const l=t[Math.floor(r()*t.length)],o=fy(l,n,r);if(o){const a=SS(e,o);Gr(a)!==Gr(e)&&(s=a)}}if(r()<.35){const l=wS(s,r,2);Gr(l)!==Gr(s)&&(s=l)}return s}function kp(e,t,n,r={}){var R;const s=pS[e]||null,l=s&&((R=_p[s])!=null&&R.length)?_p[s]:ls,o=s==="hard"||s==="ultra",a=o?hS[s]:null,u=Qd(r.seed??Math.random()*4294967295),d=Hc(u),p=o,m=r.requireUniqueSolution??(s!=="practice"&&s!=="easy"&&t<=5),g=r.enforceAnchorHints||!1;if(!o){const I=l.slice(0,Math.min(n*2,l.length)).map(ne=>({grid:Ht(ne.grid),glyphMeta:ne.glyphMeta?{...ne.glyphMeta}:null})).filter(ne=>g?al(ne.grid):!0);let Y=0;const z=t*t*6;for(;I.length<n&&Y<z;){const ne=I.length+Y,we=fp(t,ne);Y+=1,!(g&&!al(we))&&(m&&!Xu(we)||I.push({grid:we,glyphMeta:null}))}const ee=I.slice(0,n).map(ne=>Yu(ne)),ve=I.slice(0,n).map(ne=>Ht(ne.grid));return{seed:u,heroPuzzles:ee,enemyPuzzles:ve}}const _=l.slice().sort((I,Y)=>{var ve,ne;const z=((ve=I==null?void 0:I.glyphMeta)==null?void 0:ve.collectionIndex)??Number.MAX_SAFE_INTEGER,ee=((ne=Y==null?void 0:Y.glyphMeta)==null?void 0:ne.collectionIndex)??Number.MAX_SAFE_INTEGER;return z-ee}),w=_.slice(0,Math.min(n,_.length)),E=[],D=new Set,x=l.length>n,y={allowTransforms:p,overlays:a,requireUniqueSolution:m,difficulty:s};for(let I=0;I<w.length&&E.length<n;I+=1){const Y=w[I],z=Uc(Y,t,d,y);if(!z||g&&!al(z))continue;const ee=Gr(z);D.has(ee)||x&&Gc(e,ee)||(D.add(ee),Oi(e,ee),E.push({grid:Ht(z),glyphMeta:Y.glyphMeta?{...Y.glyphMeta}:null}))}if(E.length<n)for(let I=w.length;I<_.length&&E.length<n;I+=1){const Y=_[I];if(!Y)continue;const z=Uc(Y,t,d,y);if(!z||g&&!al(z))continue;const ee=Gr(z);D.has(ee)||x&&Gc(e,ee)||(D.add(ee),Oi(e,ee),E.push({grid:Ht(z),glyphMeta:Y.glyphMeta?{...Y.glyphMeta}:null}))}if(E.length<n&&jS(l,n-E.length,d).forEach(Y=>{const z=Uc(Y,t,d,y);if(!z||g&&!al(z))return;const ee=Gr(z);D.has(ee)||x&&Gc(e,ee)||(D.add(ee),Oi(e,ee),E.push({grid:Ht(z),glyphMeta:Y.glyphMeta?{...Y.glyphMeta}:null}))}),E.length<n){let I=0;const Y=t*t;for(;E.length<n&&I<Y;){const z=fp(t,I);if(I+=1,m&&!Xu(z)||g&&!al(z))continue;const ee=Gr(z);D.has(ee)||(D.add(ee),Oi(e,ee),E.push({grid:Ht(z),glyphMeta:null}))}}const S=Hc(wp(u,2654435769)),k=Hc(wp(u,1103515245)),L=Qu(E,S).map(I=>Yu(I)),U=Qu(E,k).map(I=>Ht(I.grid));return{seed:u,heroPuzzles:L,enemyPuzzles:U}}function jS(e,t,n=Math.random){if(!Array.isArray(e)||!e.length||t<=0)return[];const r=typeof n=="function"?n:Math.random,s=Qu(e,()=>r());return s.slice(0,Math.min(t,s.length)).map(o=>Yu(o))}const dn={layout:"fixed",bounds:{minX:0,maxX:1536,minY:0,maxY:1024},nodes:{start:{x:150,y:940,type:"start",label:"Start"},"elf-practice":{x:400,y:850,type:"elf",label:""},"elf-easy":{x:1050,y:760,type:"elf",label:""},"elf-middle":{x:320,y:320,type:"elf",label:""},"elf-hard":{x:760,y:360,type:"elf",label:""},"elf-ultra":{x:1160,y:300,type:"elf",label:""},"elf-true-ending":{x:1110,y:60,type:"end",label:""}},edges:[{from:"start",to:"elf-practice"},{from:"elf-practice",to:"elf-easy"},{from:"elf-easy",to:"elf-middle"},{from:"elf-middle",to:"elf-hard"},{from:"elf-hard",to:"elf-ultra"},{from:"elf-ultra",to:"elf-true-ending"}],parents:{"elf-practice":"start","elf-easy":"elf-practice","elf-middle":"elf-easy","elf-hard":"elf-middle","elf-ultra":"elf-hard","elf-true-ending":"elf-ultra"}},Ue={"elf-practice":{name:"",size:5,difficulty:"practice",images:{normal:ie("assets/img/character/enemies/practice/riene_normal.png"),angry:ie("assets/img/character/enemies/practice/riene_angry.png"),fullbody:ie("assets/img/character/enemies/practice/riene_fullbody.png")}},"elf-easy":{name:"",size:5,difficulty:"easy",images:{normal:ie("assets/img/character/enemies/easy/efina_normal.png"),angry:ie("assets/img/character/enemies/easy/efina_angry.png"),fullbody:ie("assets/img/character/enemies/easy/efina_fullbody.png")}},"elf-middle":{name:"",size:5,difficulty:"middle",images:{normal:ie("assets/img/character/enemies/normal/cerys_normal.png"),angry:ie("assets/img/character/enemies/normal/cerys_angry.png"),fullbody:ie("assets/img/character/enemies/normal/cerys_fullbody.png")}},"elf-hard":{name:"",size:10,difficulty:"hard",images:{normal:ie("assets/img/character/enemies/hard/floria_normal.png"),angry:ie("assets/img/character/enemies/hard/floria_angry.png"),fullbody:ie("assets/img/character/enemies/hard/floria_fullbody.png")}},"elf-ultra":{name:"",size:10,difficulty:"ultra",images:{normal:ie("assets/img/character/enemies/ultra/altina_normal.png"),angry:ie("assets/img/character/enemies/ultra/altina_angry.png"),fullbody:ie("assets/img/character/enemies/ultra/altina_fullbody.png")}}};class MS{constructor(){this.audio=null,this.currentKey=null,this.currentUrl=null,this.pendingPlay=!1,this.defaultVolume=.6,this._fadeAbort=null,this._fadeFrame=null}_ensure(){if(!this.audio){const t=new Audio;t.loop=!0,t.preload="auto",t.crossOrigin="anonymous",t.volume=this.defaultVolume,this.audio=t}}_cancelFade(){this._fadeAbort&&(this._fadeAbort(),this._fadeAbort=null),this._fadeFrame&&(cancelAnimationFrame(this._fadeFrame),this._fadeFrame=null)}_animateVolume(t,n){if(!this.audio)return Promise.resolve();if(this._cancelFade(),!n||n<=0)return this.audio.volume=t,Promise.resolve();const r=this.audio.volume,s=t-r,l=performance.now();return new Promise(o=>{const a=u=>{const d=u-l,p=Math.min(1,d/n);this.audio.volume=r+s*p,p<1?this._fadeFrame=requestAnimationFrame(a):(this._fadeAbort=null,this._fadeFrame=null,o())};this._fadeAbort=()=>{this._fadeFrame&&(cancelAnimationFrame(this._fadeFrame),this._fadeFrame=null);const u=o;this._fadeAbort=null,u()},this._fadeFrame=requestAnimationFrame(a)})}async crossFadeTo(t,n=null,{fadeOutMs:r=0,fadeInMs:s=0,targetVolume:l}={}){if(!t){await this.fadeOutAndStop(r);return}if(this._ensure(),!this.audio)return;const o=l??this.defaultVolume;if(this.currentKey===n&&this.currentUrl===t&&!this.audio.paused){await this._animateVolume(o,s);return}await this._animateVolume(0,r),this.audio.volume=0,this.audio.src=t,this.currentKey=n,this.currentUrl=t;try{await this.audio.play(),this.pendingPlay=!1}catch{this.pendingPlay=!0}await this._animateVolume(o,s)}async play(t,n=null){if(!t)return this.stop();this._ensure();try{const r=this.currentKey===n&&this.currentUrl===t;if(r||(this.audio.src=t,this.currentKey=n,this.currentUrl=t),r&&!this.audio.paused){this.pendingPlay=!1;return}this.pendingPlay=!0,await this.audio.play(),this.pendingPlay=!1}catch{this.pendingPlay=!0}}async resume(){if(this.audio&&this.pendingPlay)try{await this.audio.play(),this.pendingPlay=!1}catch{}}stop(){if(this.audio){try{this.audio.pause()}catch{}this.pendingPlay=!1,this._cancelFade()}}setRate(t=1){if(this.audio)try{this.audio.playbackRate=Math.max(.5,Math.min(2,Number(t)||1))}catch{}}setVolume(t=.6){this.audio&&(this.audio.volume=Math.max(0,Math.min(1,Number(t)||.6)))}async fadeOutAndStop(t=0){if(!this.audio){this.stop();return}await this._animateVolume(0,t),this.stop(),this._ensure(),this.audio&&(this.audio.volume=this.defaultVolume),this.currentKey=null,this.currentUrl=null}}const De=new MS,st={prologue:ie("assets/bgm/indie-game-pix-opening.wav"),opening:ie("assets/bgm/indie-game-pix-opening.wav"),route:ie("assets/bgm/20230505_AzureSea.wav"),conversation:ie("assets/bgm/20230505_AzureSea.wav"),picross:ie("./assets/bgm/indie-game-pix-battle5.wav"),tutorial:ie("assets/bgm/indie-game-pix-bgm-tutorial.wav"),ending:ie("assets/bgm/indie-game-pix-ending.wav")},TS="/indie-game-pix/assets/practice-DlGvmj-w.wav",bS="/indie-game-pix/assets/opening-XRMv3DhO.wav",RS="/indie-game-pix/assets/FlyHighly-c4bf4Y16.wav",AS="/indie-game-pix/assets/indie-game-fanfare-BL3HAuhS.wav",LS="/indie-game-pix/assets/indie-game-pix-battle-0HQfFomq.wav",PS="/indie-game-pix/assets/indie-game-pix-battle-0HQfFomq.wav",IS="/indie-game-pix/assets/indie-game-pix-battle5-_fPe8QLB.wav",OS="/indie-game-pix/assets/indie-game-pix-bgm-tutorial-Bhk7yLJS.wav",DS="/indie-game-pix/assets/indie-game-pix-ending-C8Ygm0o-.wav",zS="/indie-game-pix/assets/opening-XRMv3DhO.wav",$S="/indie-game-pix/assets/indie-game-pix-gamestart-B1lVZ3b2.wav",FS="/indie-game-pix/assets/indie-game-pix-opening-gMQnQVTk.wav",BS="/indie-game-pix/assets/indie-game-pix-ending-C8Ygm0o-.wav",US="/indie-game-pix/assets/FlyHighly-c4bf4Y16.wav",HS="/indie-game-pix/assets/opening-XRMv3DhO.wav",GS="/indie-game-pix/assets/practice-DlGvmj-w.wav",VS="/indie-game-pix/assets/ending-i911NN3d.png",YS="/indie-game-pix/assets/map-3xqh6zjm.png",WS="/indie-game-pix/assets/tutorial_bg-B12Dhlte.png",QS="/indie-game-pix/assets/win_bg-BCOw2gEs.png",XS="/indie-game-pix/assets/00011-3639403992-3_fXC2-7.png",KS="/indie-game-pix/assets/efina_angry-DCtQxLXO.png",qS="/indie-game-pix/assets/efina_fullbody-0HiAfoe5.png",JS="/indie-game-pix/assets/efina_normal-Cf1r1QZ7.png",ZS="/indie-game-pix/assets/floria_angry-DZ2NaUq9.png",e_="/indie-game-pix/assets/floria_fullbody-dskpHl7w.png",t_="/indie-game-pix/assets/floria_fullbody_bak-Drlmeb7G.png",n_="/indie-game-pix/assets/floria_normal-CQHzFuKO.png",r_="/indie-game-pix/assets/cerys_angry-Cg1C1NKJ.png",s_="/indie-game-pix/assets/cerys_fullbody-DGymgGSB.png",l_="/indie-game-pix/assets/cerys_normal-es4LTCB2.png",o_="/indie-game-pix/assets/cerys_angry-Cg1C1NKJ.png",i_="/indie-game-pix/assets/cerys_fullbody-DGymgGSB.png",a_="/indie-game-pix/assets/cerys_normal-es4LTCB2.png",c_="/indie-game-pix/assets/riene_angry-BPjdUGqo.png",u_="/indie-game-pix/assets/riene_fullbody-Dp4RU5fS.png",d_="/indie-game-pix/assets/riene_normal-CS5lXAhC.png",f_="/indie-game-pix/assets/altina_angry--qAlNAac.png",m_="/indie-game-pix/assets/altina_fullbody-CH-iXEg1.png",p_="/indie-game-pix/assets/altina_normal-B-I9xXPC.png",h_="/indie-game-pix/assets/00083-826608146-BRrilP01.png",g_="/indie-game-pix/assets/hero_angry-5q2To5Lx.png",y_="/indie-game-pix/assets/hero_angry_bak-DK_tzeQ7.png",v_="/indie-game-pix/assets/hero_fullbody-xSDHasrq.png",x_="/indie-game-pix/assets/hero_lose-BFujf_Pj.png",S_="/indie-game-pix/assets/hero_normal-Cxxiu-W2.png",__="/indie-game-pix/assets/hero_smile-Dg723KLX.png",w_="/indie-game-pix/assets/hero_normal-Cxxiu-W2.png",E_="/indie-game-pix/assets/hero_fullbody-vRMvlD_v.png",k_="/indie-game-pix/assets/fiene_smile-wiMzcm7l.png",N_="/indie-game-pix/assets/427d0171b7564afcbbfd91ddd0b1fe81-BIhLX8X2.png",C_="/indie-game-pix/assets/4c24eae13a4d4b84a44c104bc6d43cc6-D9MNpHxc.png",j_="/indie-game-pix/assets/758ee2e455d64c92a5ad93e1472fd8ee-Cqvb4Rp2.png",M_="/indie-game-pix/assets/8811799cefab432182694dba53085c19-BbCNeTAQ.png",T_="/indie-game-pix/assets/9dcf041a9c504d0688c051ed29f2c9b7-CB1RJ4Bf.png",b_="/indie-game-pix/assets/title_bak-CcL0gdoJ.png",R_="/indie-game-pix/assets/d095e3a03cd04e78bb723de3575116d6-Dv7u6ZOP.png",A_="/indie-game-pix/assets/e0a4d03262f64c5fa7ea4b471cda8416-D-Idegu9.png",L_="/indie-game-pix/assets/title_bak-CcL0gdoJ.png",P_="/indie-game-pix/assets/chisel_tap-a7YOrcBS.wav",I_="/indie-game-pix/assets/coin_rush-BQ7amOFS.wav",O_="/indie-game-pix/assets/coin_rush-BQ7amOFS.wav",D_="/indie-game-pix/assets/fanfare_melodic-CniXJ2Nn.wav",z_="/indie-game-pix/assets/foot_wood-y9gi_jB-.wav",$_="/indie-game-pix/assets/indie-game-pix-enemy-encount-DyHHFAdG.wav",F_="/indie-game-pix/assets/indie-game-pix-stage-clear-lFLA1JdZ.wav",B_="/indie-game-pix/assets/picross_click_soft-XtOibi3y.wav",U_="/indie-game-pix/assets/score_chiptune-svpWyK4k.wav",H_="/indie-game-pix/assets/ui_cancel-BF6yFo98.wav",G_="/indie-game-pix/assets/ui_confirm--z-0ZaaT.wav",V_=Object.assign({"../../public/assets/bgm/20230108_StepUp.wav":TS,"../../public/assets/bgm/20230505_AzureSea.wav":bS,"../../public/assets/bgm/FlyHighly.wav":RS,"../../public/assets/bgm/indie-game-fanfare.wav":AS,"../../public/assets/bgm/indie-game-pix-battle-bak.wav":LS,"../../public/assets/bgm/indie-game-pix-battle.wav":PS,"../../public/assets/bgm/indie-game-pix-battle5.wav":IS,"../../public/assets/bgm/indie-game-pix-bgm-tutorial.wav":OS,"../../public/assets/bgm/indie-game-pix-ending.wav":DS,"../../public/assets/bgm/indie-game-pix-gamestart-bak.wav":zS,"../../public/assets/bgm/indie-game-pix-gamestart.wav":$S,"../../public/assets/bgm/indie-game-pix-opening.wav":FS,"../../public/assets/bgm/indie-game-pix-prologue.wav":BS,"../../public/assets/bgm/lastbattle.wav":US,"../../public/assets/bgm/opening.wav":HS,"../../public/assets/bgm/practice.wav":GS,"../../public/assets/img/background/ending.png":VS,"../../public/assets/img/background/map.png":YS,"../../public/assets/img/background/tutorial_bg.png":WS,"../../public/assets/img/background/win_bg.png":QS,"../../public/assets/img/character/enemies/00011-3639403992.png":XS,"../../public/assets/img/character/enemies/easy/efina_angry.png":KS,"../../public/assets/img/character/enemies/easy/efina_fullbody.png":qS,"../../public/assets/img/character/enemies/easy/efina_normal.png":JS,"../../public/assets/img/character/enemies/hard/floria_angry.png":ZS,"../../public/assets/img/character/enemies/hard/floria_fullbody.png":e_,"../../public/assets/img/character/enemies/hard/floria_fullbody_bak.png":t_,"../../public/assets/img/character/enemies/hard/floria_normal.png":n_,"../../public/assets/img/character/enemies/middle/cerys_angry.png":r_,"../../public/assets/img/character/enemies/middle/cerys_fullbody.png":s_,"../../public/assets/img/character/enemies/middle/cerys_normal.png":l_,"../../public/assets/img/character/enemies/normal/cerys_angry.png":o_,"../../public/assets/img/character/enemies/normal/cerys_fullbody.png":i_,"../../public/assets/img/character/enemies/normal/cerys_normal.png":a_,"../../public/assets/img/character/enemies/practice/riene_angry.png":c_,"../../public/assets/img/character/enemies/practice/riene_fullbody.png":u_,"../../public/assets/img/character/enemies/practice/riene_normal.png":d_,"../../public/assets/img/character/enemies/ultra/altina_angry.png":f_,"../../public/assets/img/character/enemies/ultra/altina_fullbody.png":m_,"../../public/assets/img/character/enemies/ultra/altina_normal.png":p_,"../../public/assets/img/character/hero/00083-826608146.png":h_,"../../public/assets/img/character/hero/hero_angry.png":g_,"../../public/assets/img/character/hero/hero_angry_bak.png":y_,"../../public/assets/img/character/hero/hero_fullbody.png":v_,"../../public/assets/img/character/hero/hero_lose.png":x_,"../../public/assets/img/character/hero/hero_normal.png":S_,"../../public/assets/img/character/hero/hero_smile.png":__,"../../public/assets/img/character/hero/hero_smile_bak.png":w_,"../../public/assets/img/character/hero_fullbody.png":E_,"../../public/assets/img/character/tutorial/fiene_smile.png":k_,"../../public/assets/img/garbages/427d0171b7564afcbbfd91ddd0b1fe81.png":N_,"../../public/assets/img/garbages/4c24eae13a4d4b84a44c104bc6d43cc6.png":C_,"../../public/assets/img/garbages/758ee2e455d64c92a5ad93e1472fd8ee.png":j_,"../../public/assets/img/garbages/8811799cefab432182694dba53085c19.png":M_,"../../public/assets/img/garbages/9dcf041a9c504d0688c051ed29f2c9b7.png":T_,"../../public/assets/img/garbages/a7402dea93a442e9925eca90d14d363e.png":b_,"../../public/assets/img/garbages/d095e3a03cd04e78bb723de3575116d6.png":R_,"../../public/assets/img/garbages/e0a4d03262f64c5fa7ea4b471cda8416.png":A_,"../../public/assets/img/garbages/title_bak.png":L_,"../../public/assets/img/title.png":iy,"../../public/assets/se/chisel_tap.wav":P_,"../../public/assets/se/coin_rush.wav":I_,"../../public/assets/se/collection_unlock.wav":O_,"../../public/assets/se/fanfare_melodic.wav":D_,"../../public/assets/se/foot_wood.wav":z_,"../../public/assets/se/indie-game-pix-enemy-encount.wav":$_,"../../public/assets/se/indie-game-pix-stage-clear.wav":F_,"../../public/assets/se/picross_click_soft.wav":B_,"../../public/assets/se/score_chiptune.wav":U_,"../../public/assets/se/ui_cancel.wav":H_,"../../public/assets/se/ui_confirm.wav":G_}),Y_=[ie("assets/bgm/indie-game-fanfare.wav"),ie("assets/se/collection_unlock.wav")],W_="elfpix-assets-v1",Q_=4,X_=()=>{const e=[...Object.values(V_).map(wa),...Y_.map(wa)].filter(Boolean);return Array.from(new Set(e)).filter(t=>!/^(?:data:|blob:)/.test(t))},K_=async(e,t,n)=>{const r=e.slice(),s=Math.min(t,r.length);await Promise.all(Array.from({length:s},()=>n(r)))};async function q_({cacheName:e=W_,concurrency:t=Q_}={}){if(typeof window>"u"||!("caches"in window))return;const n=X_();if(!n.length)return;const r=await caches.open(e);await K_(n,t,async s=>{for(;s.length;){const l=s.pop();if(l)try{if(await r.match(l))continue;const a=await fetch(l);if(!a.ok)continue;await r.put(l,a)}catch{}}})}const po=30*60,Np={"elf-practice":1e3,"elf-easy":5e3,"elf-middle":1e4,"elf-hard":15e3,"elf-ultra":2e4},J_=100,Cp=[{label:"100%",value:1},{label:"150%",value:1.5},{label:"200%",value:2}],my=Object.keys(dn.nodes),Z_=my.filter(e=>{var t;return((t=dn.nodes[e])==null?void 0:t.type)==="elf"});var Up,Hp;const ew=[{id:"elf-true-ending",label:((Up=dn.nodes["elf-true-ending"])==null?void 0:Up.label)||"True Ending"},{id:"elf-bad-ending",label:((Hp=dn.nodes["elf-bad-ending"])==null?void 0:Hp.label)||"Bad Ending"}],jp={width:320,height:520},Mp=2,tw={"elf-practice":2,"elf-easy":4,"elf-middle":6,"elf-hard":2,"elf-ultra":4},Tp=new Set(["elf-bad-ending","elf-true-ending"]),nw="elf-ending",rw="elf-true-ending",bp=4,en={normal:ie("assets/img/character/hero/hero_normal.png"),angry:ie("assets/img/character/hero/hero_angry.png"),smile:ie("assets/img/character/hero/hero_smile.png"),fullbody:ie("assets/img/character/hero/hero_fullbody.png")},sw=ie("assets/img/title.png"),Rp=ie("assets/img/character/hero/hero_fullbody.png"),lw=ie("assets/img/background/ending.png"),Ap=ie("assets/img/background/map.png"),qn={A:0,B:1,X:2,Y:3,SELECT:8,START:9,UP:12,DOWN:13,LEFT:14,RIGHT:15},ow=180,iw=2200,aw=2100,cl={practice:"radiant",easy:"tide",middle:"quake",hard:"venom",ultra:"inferno"},tr=(e,t,n="ltr")=>{const r=n==="rtl",o=`<circle cx='${r?1080:320}' cy='220' r='180' fill='${e}' fill-opacity='0.35'/><circle cx='${r?320:1080}' cy='640' r='220' fill='${t}' fill-opacity='0.28'/>`,a=`<path d='M160 520 Q420 360 720 440 T1280 360' stroke='${e}' stroke-width='48' stroke-opacity='0.32' fill='none' stroke-linecap='round'/><path d='M160 600 Q420 740 720 660 T1280 740' stroke='${t}' stroke-width='38' stroke-opacity='0.28' fill='none' stroke-linecap='round'/>`,u=r?`<g transform='translate(1400 0) scale(-1 1)'>${a}</g>`:a,d=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 900'><defs><linearGradient id='g' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='${e}' stop-opacity='0.95'/><stop offset='100%' stop-color='${t}' stop-opacity='0.75'/></linearGradient></defs><rect width='1400' height='900' fill='url(%23g)'/>${o}${u}</svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(d)}`},cw={radiant:tr("#3fe7ff","#19e5c2","ltr"),tide:tr("#4cc4ff","#6f8dff","ltr"),quake:tr("#cda37a","#8c6239","ltr"),venom:tr("#7d5cff","#e75378","ltr"),inferno:tr("#ff9c3f","#ff3f6c","ltr")},uw={radiant:tr("#3fe7ff","#19e5c2","rtl"),tide:tr("#4cc4ff","#6f8dff","rtl"),quake:tr("#cda37a","#8c6239","rtl"),venom:tr("#7d5cff","#e75378","rtl"),inferno:tr("#ff9c3f","#ff3f6c","rtl")},Lp=(e,t,n)=>Math.min(n,Math.max(t,e)),dw=e=>{const t=(e??"").trim();return t.length?t:Ut};function fw(){try{const e=JSON.parse(localStorage.getItem("picrossGlyphCollection")??"{}"),t=Array.isArray(e.indices)?e.indices:[],n=e.solved&&typeof e.solved=="object"?e.solved:{},r=new Set(t.map(l=>Number(l)).filter(l=>Number.isFinite(l)&&l>=0)),s=new Map;return Object.entries(n).forEach(([l,o])=>{const a=Number(l);if(!Number.isFinite(a)||!Array.isArray(o))return;const u=o.map(d=>Array.isArray(d)?d.map(p=>!!p):[]);s.set(a,u)}),{collectionSet:r,solvedMap:s}}catch{return{collectionSet:new Set,solvedMap:new Map}}}function Pp(e,t){try{const n=Array.from(e??[]),r={};t instanceof Map&&t.forEach((s,l)=>{r[l]=Array.isArray(s)?s.map(o=>Array.isArray(o)?o.map(a=>!!a):[]):[]}),localStorage.setItem("picrossGlyphCollection",JSON.stringify({indices:n,solved:r}))}catch{}}const mw={"elf-hard":{intervalRange:[5e3,9e3],successRate:.8,targetCompletionRatio:1,errorRate:.25,spellChance:.45,spellMinDelay:1500,spellMaxDelay:2500}},Na="routeStoryLog",pw=["opening","prologue","gamestart"],py=[{id:"opening",subtitle:"  ",paragraphs:[""],portraits:()=>[{side:"left",src:en.smile,alt:""}]},{id:"prologue",subtitle:"  ",paragraphs:["","elfpix","","","","","elfpix",""],portraits:()=>[{side:"left",src:en.normal,alt:""}]},{id:"gamestart",subtitle:"  ",paragraphs:({heroName:e})=>["","",`${e||Ut}`,"","elfpix",""],portraits:({heroName:e})=>[{side:"left",src:en.fullbody,alt:e||Ut}]},{id:"practice",nodes:["elf-practice"],subtitle:"  ",paragraphs:[" elfpix ","","","elfpix"],portraits:({heroName:e})=>{var t,n,r;return[{side:"left",src:en.normal,alt:e||Ut},{side:"right",src:((n=(t=Ue["elf-practice"])==null?void 0:t.images)==null?void 0:n.normal)||null,alt:(r=Ue["elf-practice"])==null?void 0:r.name}]}},{id:"easy",nodes:["elf-easy"],subtitle:"  ",paragraphs:[" elfpix ",""," elfpix",""],portraits:({heroName:e})=>{var t,n,r;return[{side:"left",src:en.normal,alt:e||Ut},{side:"right",src:((n=(t=Ue["elf-easy"])==null?void 0:t.images)==null?void 0:n.normal)||null,alt:(r=Ue["elf-easy"])==null?void 0:r.name}]}},{id:"middle",nodes:["elf-middle"],subtitle:"  ",paragraphs:["elfpix","","","elfpix  "],portraits:({heroName:e})=>{var t,n,r;return[{side:"left",src:en.normal,alt:e||Ut},{side:"right",src:((n=(t=Ue["elf-middle"])==null?void 0:t.images)==null?void 0:n.normal)||null,alt:(r=Ue["elf-middle"])==null?void 0:r.name}]}},{id:"hard",nodes:["elf-hard"],subtitle:"  ",paragraphs:["","elfpix","",""],portraits:({heroName:e})=>{var t,n,r,s,l;return[{side:"left",src:en.angry,alt:e||Ut},{side:"right",src:((n=(t=Ue["elf-hard"])==null?void 0:t.images)==null?void 0:n.angry)||((s=(r=Ue["elf-hard"])==null?void 0:r.images)==null?void 0:s.normal)||null,alt:(l=Ue["elf-hard"])==null?void 0:l.name}]}},{id:"ultra",nodes:["elf-ultra"],subtitle:"  ",paragraphs:[" elfpix ","","","elfpix"],portraits:({heroName:e})=>{var t,n,r,s,l;return[{side:"left",src:en.angry,alt:e||Ut},{side:"right",src:((n=(t=Ue["elf-ultra"])==null?void 0:t.images)==null?void 0:n.angry)||((s=(r=Ue["elf-ultra"])==null?void 0:r.images)==null?void 0:s.normal)||null,alt:(l=Ue["elf-ultra"])==null?void 0:l.name}]}}],Vc=new Map(py.map(e=>[e.id,e])),hw=900,Ip=1200,gw=1100,yw=650,Ku=[{id:"stage1",threshold:10},{id:"stage2",threshold:15},{id:"stage3",threshold:20},{id:"stage4",threshold:25},{id:"overdrive",threshold:30}],vw=new Set(["stage1","stage2","stage3"]),xw=30,ho=15,Op=.1,Sw=[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"11",speech:""},{id:"stage3",name:"",description:"22",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],Dp={"elf-practice":[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],"elf-easy":[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],"elf-middle":[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],"elf-hard":[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],"elf-ultra":[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}],default:[{id:"stage1",name:"",description:"1",speech:""},{id:"stage2",name:"",description:"1",speech:""},{id:"stage3",name:"",description:"2",speech:""},{id:"stage4",name:"",description:"",speech:""},{id:"overdrive",name:"",description:"",speech:""}]},hy={intervalRange:[1200,1400],successRate:.9,errorRate:.08,targetCompletionRatio:1,spellChance:.5,spellMinDelay:1500,spellMaxDelay:2500},_w={practice:{intervalRange:[1200,1600],successRate:.88,errorRate:.12,spellChance:.35},easy:{intervalRange:[1e3,1400],successRate:.9,errorRate:.1,spellChance:.35,spellMinDelay:1500,spellMaxDelay:2500},middle:{intervalRange:[4e3,9e3],successRate:.82,errorRate:.16,spellChance:.4,spellMinDelay:1800,spellMaxDelay:2600},hard:{intervalRange:[600,2e3],successRate:.9,errorRate:.15,spellChance:.45,spellMinDelay:1400,spellMaxDelay:2200},ultra:{intervalRange:[1200,2200],successRate:.9,errorRate:.08,spellChance:.6,spellMinDelay:1200,spellMaxDelay:2e3}};function qu(e){return e<=5?"easy":e<=10?"middle":e<=15?"high":e<=20?"hard":"ultra"}function Jt(e){return e===nw?rw:e}function zp(e){const t=Jt(e),n=Ue[t],r=(n==null?void 0:n.difficulty)||qu((n==null?void 0:n.size)||0)||qu(0),s=_w[r]||{},l=mw[t]||{};return{...hy,...s,...l}}function Pt(e,t){var d,p,m,g;if(!Array.isArray(t)||!t.length)return[];const n=t.length,r=nr(t),s=r.rows||[],l=r.cols||[],o=s.map((_,w)=>{var E;return(E=t[w])==null?void 0:E.reduce((D,x,y)=>{var S;return D+(((S=e==null?void 0:e[w])==null?void 0:S[y])===1?0:1)},0)}),a=l.map((_,w)=>t.reduce((E,D,x)=>{var y;return E+(((y=e==null?void 0:e[x])==null?void 0:y[w])===1?0:1)},0)),u=[];for(let _=0;_<n;_+=1)for(let w=0;w<n;w+=1){if(!((d=t[_])!=null&&d[w])||((p=e==null?void 0:e[_])==null?void 0:p[w])===1)continue;const E=(s[_]||[]).reduce((k,L)=>k+L,0),D=(l[w]||[]).reduce((k,L)=>k+L,0),x=o[_]||0,y=a[w]||0,S=E+D+(x<=2?3:0)+(y<=2?3:0)+(((m=s[_])==null?void 0:m.length)>1?.5:0)+(((g=l[w])==null?void 0:g.length)>1?.5:0);u.push({r:_,c:w,weight:S})}return u.sort((_,w)=>w.weight-_.weight).map(({r:_,c:w})=>({r:_,c:w}))}function ul(e){if(!e)return Mp;const t=Jt(e);return tw[t]??Mp}function ww(){try{const e=localStorage.getItem("routeNode")||"start",t=Jt(e);return t!==e&&localStorage.setItem("routeNode",t),t}catch{return"start"}}function Ew(){try{const e=JSON.parse(localStorage.getItem("clearedNodes")||"[]"),t=Array.isArray(e)?e:[],n=t.map(r=>Jt(r));return Array.isArray(e)&&n.length===t.length&&n.some((r,s)=>r!==t[s])&&localStorage.setItem("clearedNodes",JSON.stringify(n)),new Set(n)}catch{return new Set}}function kw(){try{const e=JSON.parse(localStorage.getItem(Na)||"null");if(!Array.isArray(e))return null;const t=e.filter(n=>typeof n=="string"&&n.trim());return t.length?(t.length!==e.length&&localStorage.setItem(Na,JSON.stringify(t)),t):null}catch{return null}}function $p(){try{const e=localStorage.getItem("score");if(!e)return 0;const t=parseInt(e,10);return Number.isFinite(t)&&t>=0?t:0}catch{return 0}}function qt(e){return e.map(t=>t.slice())}function Yc(e){return Array.from({length:e},(t,n)=>Array.from({length:e},(r,s)=>n===s||n+s===e-1)).map(t=>t.map(n=>!!n))}function Wc(e,t=0){const n=()=>{const u=Math.sin(t++)*1e4;return u-Math.floor(u)},r=.35+n()*.25,s=Array.from({length:e},()=>Array.from({length:e},()=>n()<r)),l=Math.max(1,Math.ceil(e*.6)),o=t%e,a=t*3%e;for(let u=0;u<l;u+=1){const d=(a+u)%e;s[o][d]=!0}for(let u=0;u<l;u+=1){const d=(o+u)%e;s[d][a]=!0}return s.map(u=>u.slice())}function Nw(e){if(!Array.isArray(e)||!e.length)return!1;const t=e.length,n=nr(e),r=s=>{if(!Array.isArray(s)||!s.length)return!1;const l=s.join(",");if(t<=5&&(l==="4"||l==="5"||l==="3,1"||l==="1,3"||l==="1,1,1"))return!0;const o=s.reduce((d,p)=>d+p,0),a=Math.max(...s),u=Math.max(1,Math.ceil(t*.6));return a>=u||o>=u};return n.rows.some(s=>r(s))||n.cols.some(s=>r(s))}function qi(e){const t=e.slice();for(let n=t.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Fp(e,t=[]){const n=new Set(t);return Ku.forEach(({id:r,threshold:s})=>{e>=s&&n.add(r)}),Ku.filter(({id:r})=>n.has(r)).map(({id:r})=>r)}function Ju(e,t){return e==="hero"?Sw:Dp[t]||Dp.default}function Cw(e,t,n){return Ju(e,t).find(s=>s.id===n)||null}function Di(e){const t=Ku.find(n=>n.id===e);return t?t.threshold:1/0}function Jn(e,t){const n=Math.max(0,e);if(!n)return[];const r=Math.min(t,n),s=new Set;for(;s.size<r;)s.add(Math.floor(Math.random()*n));return Array.from(s)}function jw(e,t){const n={rows:[],cols:[],slash:!1,backslash:!1};switch(e){case"stage1":n.rows=Jn(t,1);break;case"stage2":n.rows=Jn(t,1),n.cols=Jn(t,1);break;case"stage3":n.rows=Jn(t,Math.min(2,t)),n.cols=Jn(t,Math.min(2,t));break;case"stage4":n.rows=Jn(t,Math.min(2,t)),n.cols=Jn(t,Math.min(2,t)),n.slash=!0;break;case"overdrive":n.rows=Jn(t,Math.min(2,t)),n.cols=Jn(t,Math.min(2,t)),n.slash=!0,n.backslash=!0;break;default:n.rows=Jn(t,1);break}return n}function zi(e,t){var r;let n=0;for(let s=0;s<t.length;s+=1)for(let l=0;l<t[s].length;l+=1)t[s][l]&&((r=e[s])==null?void 0:r[l])===1&&(n+=1);return n}function Mw(e,t){if(!Array.isArray(e)||!e.length)return[];const n=e.length,r=[];for(let d=0;d<e.length;d+=1)for(let p=0;p<e[d].length;p+=1)e[d][p]&&r.push({r:d,c:p});const s=r.length;if(!s)return Rn(n);const l=Math.max(0,Math.min(1,t)),o=Math.max(0,Math.floor(s*l)),a=qi(r).slice(0,o),u=Rn(n);return a.forEach(({r:d,c:p})=>{u[d][p]=1}),u}function Tw(e){return Array.isArray(e)?e.map(t=>Array.isArray(t)?t.map(n=>n?1:0).join(""):"").join("|"):""}function Qc(){return new Promise(e=>setTimeout(e,0))}function bw(e,t,n){const r=[];if(!Array.isArray(t)||!t.length){const l=Array.from({length:e},()=>!1);return n.every((a,u)=>a!==1)&&r.push(l),r}const s=(l,o,a)=>{if(l>=t.length){const d=e-o;if(d<0)return;const p=Array.from({length:d},()=>!1),m=a.concat(p);m.every((_,w)=>{const E=n[w];return E===1?_:E===-1?!_:!0})&&r.push(m);return}const u=t[l];for(let d=o;d<=e-u;d+=1){const p=Array.from({length:d-o},()=>!1),m=Array.from({length:u},()=>!0),g=a.concat(p,m),_=d+u+1;_>e+1||s(l+1,_,g.concat(l===t.length-1?[]:[!1]))}};return s(0,0,[]),r}function Bp(e,t,n){const r=bw(e,t,n);if(!r.length)return{fills:[],crosses:[]};const s=[],l=[];for(let o=0;o<e;o+=1){let a=!0,u=!0;for(let d=0;d<r.length&&(r[d][o]?u=!1:a=!1,!(!a&&!u));d+=1);a&&n[o]!==1?s.push(o):u&&n[o]!==-1&&l.push(o)}return{fills:s,crosses:l}}function Rw(e,t){var u,d;if(!Array.isArray(t)||!t.length)return{changed:!1,next:e,filled:[]};const n=t.length,r=nr(t),s=e.map(p=>p.slice()),l=[];for(let p=0;p<n;p+=1){const m=s[p]||[],{fills:g,crosses:_}=Bp(n,((u=r.rows)==null?void 0:u[p])||[],m);g.forEach(w=>l.push({r:p,c:w,type:"fill",source:"row"})),_.forEach(w=>l.push({r:p,c:w,type:"cross",source:"row"}))}for(let p=0;p<n;p+=1){const m=s.map(w=>w[p]??0),{fills:g,crosses:_}=Bp(n,((d=r.cols)==null?void 0:d[p])||[],m);g.forEach(w=>l.push({r:w,c:p,type:"fill",source:"col"})),_.forEach(w=>l.push({r:w,c:p,type:"cross",source:"col"}))}const a=l.sort((p,m)=>{const g=_=>_.type==="fill"?_.source==="row"?4:3:_.source==="row"?2:1;return g(m)-g(p)}).find(({r:p,c:m,type:g})=>g==="fill"?s[p][m]!==1:s[p][m]===0);return a?a.type==="fill"?(s[a.r][a.c]=1,{changed:!0,next:s,filled:[{r:a.r,c:a.c}]}):(s[a.r][a.c]=-1,{changed:!0,next:s,filled:[]}):{changed:!1,next:s,filled:[]}}function Xc(e,t){var l,o,a,u;let n=!1;const r=t.length,s=e.map(d=>d.slice());for(let d=0;d<r;d+=1){const p=t[d]||[],m=s[d]||[];if(p.every((_,w)=>!_||m[w]===1||m[w]===2))for(let _=0;_<r;_+=1)!p[_]&&m[_]===0&&(s[d][_]=-1,n=!0)}for(let d=0;d<r;d+=1){let p=!0;for(let m=0;m<r;m+=1){const g=(l=t[m])==null?void 0:l[d],_=(o=s[m])==null?void 0:o[d];if(g&&_!==1&&_!==2){p=!1;break}}if(p)for(let m=0;m<r;m+=1)!((a=t[m])!=null&&a[d])&&((u=s[m])==null?void 0:u[d])===0&&(s[m][d]=-1,n=!0)}return{changed:n,next:s}}function Aw(e,t){var n,r;for(let s=0;s<t.length;s+=1)for(let l=0;l<t.length;l+=1){const o=!!((n=t[s])!=null&&n[l]),a=(r=e==null?void 0:e[s])==null?void 0:r[l];if(a===1&&!o||a===-1&&o)return!0}return!1}function Kc(e,t){var o,a;if(!Array.isArray(t)||!t.length)return{next:e,corrections:0,filledAdd:0,filledDeduct:0};let n=0,r=0,s=0;const l=e.map(u=>u.slice());for(let u=0;u<t.length;u+=1)for(let d=0;d<t.length;d+=1){const p=(o=l==null?void 0:l[u])==null?void 0:o[d],m=!!((a=t[u])!=null&&a[d]);if(p===2){m?(l[u][d]=1,n+=1,r+=1):(l[u][d]=0,n+=1);continue}p===1&&!m?(l[u][d]=0,n+=1,s+=1):p===-1&&m&&(l[u][d]=0,n+=1)}return{next:l,corrections:n,filledAdd:r,filledDeduct:s}}function qc(e,t){const n=Array.isArray(t)?t.length:0;if(!n)return e;if(!Array.isArray(e)||!e.length)return Rn(n);const r=e.map(s=>!Array.isArray(s)||s.length!==n?Array.from({length:n},()=>0):s.slice(0,n));for(;r.length<n;)r.push(Array.from({length:n},()=>0));return r}function Lw(e){const t=(e||"").toLowerCase();return t.includes("ultra")?cl.ultra:t.includes("hard")?cl.hard:t.includes("middle")||t.includes("normal")?cl.middle:t.includes("easy")?cl.easy:(t.includes("practice"),cl.practice)}function Dr(){return{count:0,show:!1,label:0,pulse:0,readyStages:[]}}function Pw(){var Uf,Hf,Gf;const[e,t]=f.useState("prologue"),[n,r]=f.useState("easy"),[s,l]=f.useState([]),[o,a]=f.useState([]),[u,d]=f.useState(null),[p,m]=f.useState(po),[g,_]=f.useState(0),[w,E]=f.useState("mouse"),[D,x]=f.useState(!1),[y,S]=f.useState(0),[k,L]=f.useState({row:0,col:0}),[U,R]=f.useState(!1),[I,Y]=f.useState("before"),[z,ee]=f.useState(()=>{try{return localStorage.getItem("soundOn")==="1"}catch{return!1}}),[ve,ne]=f.useState(()=>{try{const c=parseFloat(localStorage.getItem("fontScale")||"1.5");return Number.isFinite(c)&&Cp.some(h=>h.value===c)?c:1.5}catch{return 1.5}}),[we,Ye]=f.useState(()=>$p()),[Z,H]=f.useState(()=>$p()),[M,O]=f.useState(!1),[G,W]=f.useState(0),[q,Ne]=f.useState(0),[re,Ee]=f.useState(!1),[Ce,ot]=f.useState(!1),[on,Mt]=f.useState(!1),[P,$]=f.useState({x:0,y:0}),V=f.useRef(null),ue=f.useRef(!1),Te=f.useRef({x:0,y:0}),[Ae,nt]=f.useState(!1),dt=f.useMemo(()=>my.map(c=>{var h;return{id:c,label:((h=dn.nodes[c])==null?void 0:h.label)||c}}),[]),Ge=f.useMemo(()=>Z_.map(c=>{var h,v;return{id:c,label:((h=dn.nodes[c])==null?void 0:h.label)||c,name:((v=Ue[c])==null?void 0:v.name)||null}}),[]),ht=f.useCallback(()=>{if(typeof window>"u")return;const{innerWidth:c,innerHeight:h}=window,v=Te.current||{},N=jp.width,b=jp.height,C=Math.max(16,c-N-16),A=Math.max(16,h-b-16),B=c/2,X=h/2,J=Math.min(Math.max(v.x??B,16),C),se=Math.min(Math.max(v.y??X,16),A);$({x:J,y:se}),Mt(!0),ue.current=!0},[]),pe=f.useCallback(()=>{Mt(!1),ue.current=!1},[]);f.useEffect(()=>{if(typeof window>"u")return;const c=h=>{Te.current={x:h.clientX,y:h.clientY}};return window.addEventListener("pointermove",c),()=>window.removeEventListener("pointermove",c)},[]),f.useEffect(()=>{if(typeof window>"u")return;const c=h=>{h.defaultPrevented||(h.key==="Control"&&!h.repeat&&!h.altKey&&!h.metaKey&&!h.shiftKey?(h.preventDefault(),ue.current?pe():ht()):h.key==="Escape"&&ue.current&&(h.preventDefault(),pe()))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[pe,ht]),f.useEffect(()=>{try{Ce?localStorage.setItem("debugMode","1"):localStorage.removeItem("debugMode")}catch{}},[Ce]),f.useEffect(()=>{try{Ae?localStorage.setItem("debugRevealMap","1"):localStorage.removeItem("debugRevealMap")}catch{}},[Ae]),f.useEffect(()=>{if(!on)return;const c=V.current;if(!c)return;const h=c.querySelector("button, [tabindex]");h&&typeof h.focus=="function"&&h.focus({preventScroll:!0})},[on]);const lr=f.useCallback(c=>{var C,A;if(!["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Home","End"].includes(c.key))return;const h=V.current;if(!h)return;const v=Array.from(h.querySelectorAll("button"));if(!v.length)return;const N=v.indexOf(document.activeElement);if(N===-1){(C=v[0])==null||C.focus(),c.preventDefault();return}c.preventDefault();let b=N;c.key==="ArrowDown"||c.key==="ArrowRight"?b=(N+1)%v.length:c.key==="ArrowUp"||c.key==="ArrowLeft"?b=(N-1+v.length)%v.length:c.key==="Home"?b=0:c.key==="End"&&(b=v.length-1),(A=v[b])==null||A.focus()},[]),$t=f.useCallback(c=>{c.target===c.currentTarget&&pe()},[pe]),os=f.useCallback(()=>{ot(c=>{const h=!c;try{localStorage.setItem("debugMode",h?"1":"0")}catch{}return h})},[]),vn=f.useCallback(()=>{nt(c=>{const h=!c;try{localStorage.setItem("debugRevealMap",h?"1":"0")}catch{}return h})},[]),[$e,Ul]=f.useState(()=>{try{const c=localStorage.getItem("heroName");if(c&&c.trim())return c}catch{}return Ut}),xn=f.useCallback(c=>{const h=dw(c);Ul(h);try{localStorage.setItem("heroName",h)}catch{}},[]),Dn=f.useRef(!1),an=f.useRef(!1),Se=f.useRef(!1),Tt=f.useRef(fw()),Fe=f.useRef(new Map),[We,bt]=f.useState(()=>ww()),[$s,zn]=f.useState(""),[Ie,it]=f.useState(null),[fe,Sn]=f.useState(null),[jr,or]=f.useState(()=>Ew()),[Hl,_t]=f.useState(null),[Xt,Fs]=f.useState([]),[_n,is]=f.useState([]),[Ha,as]=f.useState(0),[Mr,Tr]=f.useState(0),[$n,ir]=f.useState(0),[Bs,Ze]=f.useState([]),me=f.useRef([]),[Ga,cn]=f.useState(null),[gy,qo]=f.useState({hero:null,enemy:null}),[Va,Ya]=f.useState(!1),[he,Gl]=f.useState(null),[yy,Vl]=f.useState("none"),[vy,cs]=f.useState(null),[Fn,Xd]=f.useState(()=>{try{return localStorage.getItem("routeStoryVisible")!=="0"}catch{return!0}}),[ar,Kd]=f.useState(()=>kw()||[]),[xy,Jo]=f.useState(()=>new Set),[qd,Jd]=f.useState(()=>Tt.current.collectionSet),[Wa,Zd]=f.useState(()=>Tt.current.solvedMap),[Sy,us]=f.useState([]),[ef,_y]=f.useState(!1),[wy,Ey]=f.useState([]),[ky,Ny]=f.useState([]),[Cy,jy]=f.useState([]),[My,Ty]=f.useState([]),[by,Qa]=f.useState([]),[Ry,Xa]=f.useState([]),[Bn,Un]=f.useState(!1),[Ay,wn]=f.useState([]),[br,Zo]=f.useState(()=>({hero:Dr(),enemy:Dr()})),[ds,Ka]=f.useState({hero:!1,enemy:!1}),[Rr,tf]=f.useState(null),[fs,Yl]=f.useState([]),[Wl,ei]=f.useState([]),[Hn,qa]=f.useState([]),[Ly,Ja]=f.useState({rows:[],cols:[]}),[Py,nf]=f.useState(0),[Us,Ql]=f.useState(!1),[ti,Xl]=f.useState(null),Hs=f.useRef(ds),rf=f.useRef(br),Gs=f.useRef([]),Za=f.useRef(null),sf=f.useRef(new Set),Kl=o.length,lf=f.useMemo(()=>nr(o),[o]),Vs=f.useCallback(c=>{Zo(h=>{const v=Dr();return h[c].count===0&&!h[c].show&&!(h[c].readyStages&&h[c].readyStages.length)?h:{...h,[c]:v}})},[]),at=f.useCallback(()=>{Zo({hero:Dr(),enemy:Dr()})},[]),cr=f.useCallback(c=>{Zo(h=>{const v=h[c],N=v.count+1,b=N>=2,C=Fp(N,v.readyStages),A=C.length>v.readyStages.length,B={count:N,show:b,label:N,pulse:b?v.pulse+1:v.pulse,readyStages:C};return A&&!b&&(B.show=!0),{...h,[c]:B}})},[]),of=f.useCallback((c,h)=>{Zo(v=>{const N=v[c]||Dr(),b=Math.max(0,h),C=b>=2,A=Fp(b,N.readyStages);return{...v,[c]:{count:b,show:C||A.length>0,label:b,pulse:C?N.pulse+1:N.pulse,readyStages:A}}})},[]),af=f.useCallback(c=>{const v=Ju(c,fe).map(b=>Di(b.id)).filter(Number.isFinite),N=v.length?Math.max(...v):0;of(c,N)},[fe,of]),ec=f.useCallback((c,h=1200)=>{Hs.current={...Hs.current,[c]:!0},Ka(v=>v[c]?v:{...v,[c]:!0}),ps.current[c]&&clearTimeout(ps.current[c]),ps.current[c]=setTimeout(()=>{Ka(v=>{if(!v[c])return v;const N={...v,[c]:!1};return Hs.current=N,N}),ps.current[c]=null},h)},[]),cf=f.useCallback(c=>{wn(h=>{const v=`${c}-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,N=[...h,{id:v,variant:c}];return setTimeout(()=>{wn(b=>b.filter(C=>C.id!==v))},1e3),N})},[]),uf=f.useCallback(()=>{En.current&&(clearTimeout(En.current),En.current=null),Ya(!0),En.current=setTimeout(()=>{Ya(!1),En.current=null},iw)},[]),ni=f.useCallback(c=>{var be,ge,le;Ar.current&&(clearTimeout(Ar.current),Ar.current=null),cn(c),uf();const h=c==null?void 0:c.caster,v=typeof(c==null?void 0:c.speech)=="string"?c.speech.trim():"",N=(c==null?void 0:c.image)||(h==="hero"?en.fullbody:((ge=(be=Ue[fe])==null?void 0:be.images)==null?void 0:ge.angry)||en.angry),b=((le=Ue[fe])==null?void 0:le.difficulty)||n,C=Lw(b),A=cw[C]||null,B=uw[C]||A,X=(c==null?void 0:c.effectImage)||(h==="enemy"?B:A)||null,J=Array.isArray(c==null?void 0:c.impactCells)?c.impactCells:[],se=(c==null?void 0:c.boardSize)||10,ce=[],Le=new Set;J.forEach(({r:te,c:Pe})=>{for(let gt=-1;gt<=1;gt+=1)for(let Lt=-1;Lt<=1;Lt+=1){const oe=te+gt,K=Pe+Lt;if(oe<0||oe>=se||K<0||K>=se)continue;const ke=`${oe}-${K}`;Le.has(ke)||(Le.add(ke),ce.push({r:oe,c:K}))}}),Gl({caster:h,target:(c==null?void 0:c.target)||(h==="hero"?"enemy":"hero"),theme:C,image:N,name:(c==null?void 0:c.name)||"Spell",description:(c==null?void 0:c.description)||"",speech:v||"",effectImage:X,impact:J,impactHalo:ce,boardSize:se,showBoard:!1,attachToBoard:(c==null?void 0:c.attachToBoard)??(c==null?void 0:c.target)==="enemy"}),Gn.current&&clearTimeout(Gn.current),Gn.current=setTimeout(()=>{Gl(null),Gn.current=null},aw),h&&v&&(ms.current[h]&&clearTimeout(ms.current[h]),qo(te=>({...te,[h]:v})),ms.current[h]=setTimeout(()=>{qo(te=>({...te,[h]:null})),ms.current[h]=null},Ip)),Ar.current=setTimeout(()=>{cn(null),Ar.current=null},Ip),rt.current.delay&&clearTimeout(rt.current.delay),rt.current.hide&&clearTimeout(rt.current.hide),rt.current.delay=setTimeout(()=>{Gl(te=>te&&{...te,showBoard:!0}),rt.current.delay=null,rt.current.hide=setTimeout(()=>{Gl(te=>te&&{...te,showBoard:!1}),rt.current.hide=null},yw)},gw)},[fe,n,uf]),df=f.useCallback((c,h)=>{var Le,be,ge;if(!fe||!h)return;const v=c==="hero"?"enemy":"hero",N=Cw(c,fe,h),b=v==="enemy"?Rt.current:o,C=(b==null?void 0:b.length)||0;if(!C)return;const A=jw(h,C),B=new Set,X=[];let J=null;const se=(le,te)=>{if(le<0||le>=C||te<0||te>=C)return;const Pe=`${le}-${te}`;B.has(Pe)||(B.add(Pe),X.push({r:le,c:te,key:Pe}))};if((A.rows||[]).forEach(le=>{for(let te=0;te<C;te+=1)se(le,te)}),(A.cols||[]).forEach(le=>{for(let te=0;te<C;te+=1)se(te,le)}),A.slash)for(let le=0;le<C;le+=1)se(le,C-1-le);if(A.backslash)for(let le=0;le<C;le+=1)se(le,le);if(!X.length)return;if(v==="enemy"){const le=Rt.current||[],te=[];if(Ze(K=>{if(!K.length)return K;const ke=K.map(ft=>ft.slice());return X.forEach(({r:ft,c:Kt,key:Yn})=>{var Bt,Wn;(Bt=le==null?void 0:le[ft])!=null&&Bt[Kt]&&((Wn=ke[ft])==null?void 0:Wn[Kt])!==0&&(ke[ft][Kt]===1&&te.push({r:ft,c:Kt}),ke[ft][Kt]=0)}),J=ke,ke}),J){me.current=J;const K=((Le=Rt.current)==null?void 0:Le.reduce((ft,Kt)=>ft+Kt.filter(Boolean).length,0))||0,ke=zi(J,Rt.current||[]);xe.current={filled:ke,total:K}}te.length&&(xe.current.filled=Math.max(0,xe.current.filled-te.length));const Pe=et.current,gt=Pe.list.slice(Pe.index),Lt=[...te,...gt],oe=new Map;if(Lt.forEach(({r:K,c:ke})=>{const ft=`${K}-${ke}`;oe.set(ft,{r:K,c:ke})}),et.current={list:Array.from(oe.values()),index:0},X.length){const K=X.map(({key:ke})=>ke);Xa(K),ur.current.enemyFaded&&clearTimeout(ur.current.enemyFaded),ur.current.enemyFaded=setTimeout(()=>{Xa([]),ur.current.enemyFaded=null},1200)}ec("enemy")}else{const le=new Set;l(te=>{if(!te.length)return te;const Pe=te.map(gt=>gt.slice());return X.forEach(({r:gt,c:Lt,key:oe})=>{var K;((K=Pe[gt])==null?void 0:K[Lt])!==0&&(Pe[gt][Lt]=0),le.add(oe)}),Pe}),X.forEach(({r:te,c:Pe})=>{eo.current.delete(`${te}:${Pe}`)}),le.size&&(Qa(Array.from(le)),ur.current.faded&&clearTimeout(ur.current.faded),ur.current.faded=setTimeout(()=>{Qa([]),ur.current.faded=null},1200)),ec("hero")}const ce=c==="hero"?{image:en.angry}:{image:(ge=(be=Ue[fe])==null?void 0:be.images)==null?void 0:ge.angry};ni({caster:c,spellId:h,name:(N==null?void 0:N.name)||"Spell",description:(N==null?void 0:N.description)||"",image:ce.image,speech:N==null?void 0:N.speech,impactCells:X.map(({r:le,c:te})=>({r:le,c:te})),boardSize:C,target:v}),de.playSpellAttack(c==="hero"?"hero":"enemy"),cf(c==="hero"?"hero":"enemy")},[de,fe,cf,ec,ni,o]),ri=f.useCallback((c,h)=>{h&&(df(c,h),Vs(c))},[df,Vs]),Iy=f.useCallback(c=>{var v;!c||!((v=(br.hero||Dr()).readyStages)!=null&&v.includes(c))||ds.enemy||ri("hero",c)},[ds.enemy,br.hero,ri]),ql=f.useMemo(()=>({src:en.normal,alt:$e!=null&&$e.trim()?$e:""}),[$e]),Jl=f.useMemo(()=>{var h;if(!fe)return null;const c=Ue[fe];return(h=c==null?void 0:c.images)!=null&&h.normal?{src:c.images.normal,alt:c.name||""}:null},[fe]),un=f.useCallback(()=>{typeof de.stopClearFanfare=="function"&&de.stopClearFanfare()},[]),Zl=f.useRef(we),tc=f.useRef(Z),si=f.useRef(null),Ys=f.useRef(G),nc=f.useRef(q),li=f.useRef(null),eo=f.useRef(new Set),Ft=f.useRef(null),ur=f.useRef({hidden:null,locked:null,faded:null,enemyFaded:null}),Ar=f.useRef(null),En=f.useRef(null),Gn=f.useRef(null),rt=f.useRef({delay:null,hide:null}),ms=f.useRef({hero:null,enemy:null}),oi=f.useRef(null),rc=f.useRef({}),Oy=f.useRef({}),ff=f.useRef({row:0,col:0}),mf=f.useRef(0),dr=f.useRef({}),xe=f.useRef({filled:0,total:0}),sc=f.useRef(0),ps=f.useRef({hero:null,enemy:null}),kn=f.useRef(null),Ws=f.useRef(!1),et=f.useRef({list:[],index:0}),Lr=f.useRef(!1),Qs=f.useRef(!1),Nn=f.useRef([]),Cn=f.useRef(new Set),wt=f.useRef(0),Vn=f.useRef(0),hs=f.useRef(0),Xs=f.useRef(0),Rt=f.useRef([]),[Dy,gs]=f.useState(0),[pf,ii]=f.useState({rows:[],cols:[]});f.useEffect(()=>{ff.current=k},[k]),f.useEffect(()=>{if(e==="picross"&&Kl>0){const c=Math.floor(Kl/2);L({row:c,col:c})}},[e,Kl]),f.useEffect(()=>{const c=()=>{mf.current=0,w!=="mouse"&&E("mouse")};return window.addEventListener("mousemove",c),window.addEventListener("mousedown",c),window.addEventListener("touchstart",c,{passive:!0}),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mousedown",c),window.removeEventListener("touchstart",c)}},[w]);const je=f.useCallback(()=>{Ft.current&&(clearTimeout(Ft.current),Ft.current=null)},[]),At=f.useCallback(()=>{const c=ur.current;c.hidden&&(clearTimeout(c.hidden),c.hidden=null),c.locked&&(clearTimeout(c.locked),c.locked=null),c.faded&&(clearTimeout(c.faded),c.faded=null),c.enemyFaded&&(clearTimeout(c.enemyFaded),c.enemyFaded=null),Object.keys(ps.current).forEach(v=>{const N=ps.current[v];N&&(clearTimeout(N),ps.current[v]=null)}),Ka({hero:!1,enemy:!1}),Hs.current={hero:!1,enemy:!1},Ws.current=!1,kn.current&&(clearTimeout(kn.current),kn.current=null),Ey([]),Ny([]),jy([]),Ty([]),Qa([]),Xa([]),qo({hero:null,enemy:null}),Ya(!1),Gl(null),cn(null);const h=ms.current;Object.keys(h).forEach(v=>{h[v]&&(clearTimeout(h[v]),h[v]=null)}),Ar.current&&(clearTimeout(Ar.current),Ar.current=null),En.current&&(clearTimeout(En.current),En.current=null),Gn.current&&(clearTimeout(Gn.current),Gn.current=null),rt.current.delay&&(clearTimeout(rt.current.delay),rt.current.delay=null),rt.current.hide&&(clearTimeout(rt.current.hide),rt.current.hide=null)},[]);function hf(){un(),je(),At(),fr(),or(new Set),_t(null),Fs([]),is([]),as(0),Rt.current=[],gs(v=>v+1),Tr(0),ir(0),cn(null),Ze([]),cs(null),Fe.current=new Map,us([]),ot(!1),nt(!1);const c=new Set,h=new Map;Jd(c),Zd(h),Pp(c,h)}f.useEffect(()=>{if(e!=="picross"||Bn||Va)return;const c=setInterval(()=>{m(h=>{const v=Math.max(0,h-1);return v===0&&(clearInterval(c),kf()),v})},1e3);return()=>clearInterval(c)},[e,Bn,Va,kf]),f.useEffect(()=>{try{localStorage.setItem("soundOn",z?"1":"0")}catch{}},[z]),f.useEffect(()=>{Zl.current=we},[we]),f.useEffect(()=>{tc.current=Z},[Z]),f.useEffect(()=>{Ys.current=G},[G]),f.useEffect(()=>{nc.current=q},[q]),f.useEffect(()=>{try{we<=0?localStorage.removeItem("score"):localStorage.setItem("score",String(we))}catch{}},[we]),f.useEffect(()=>{typeof document<"u"&&document.documentElement.style.setProperty("--font-scale",String(ve));try{localStorage.setItem("fontScale",String(ve))}catch{}},[ve]),f.useEffect(()=>{if(typeof window>"u")return;let c=!1;const h=()=>{c||q_().catch(()=>{})};if("requestIdleCallback"in window){const N=window.requestIdleCallback(h,{timeout:2e3});return()=>{c=!0,"cancelIdleCallback"in window&&window.cancelIdleCallback(N)}}const v=setTimeout(h,0);return()=>{c=!0,clearTimeout(v)}},[]);const Pr=f.useCallback(c=>{li.current&&(clearInterval(li.current),li.current=null),typeof de.stopScoreCount=="function"&&de.stopScoreCount(),Ee(!1),typeof c=="number"&&Ne(c)},[]),ys=f.useCallback(c=>{si.current&&(clearInterval(si.current),si.current=null),typeof de.stopScoreCount=="function"&&de.stopScoreCount(),O(!1),typeof c=="number"&&H(c)},[]),fr=f.useCallback(()=>{ys(0),Zl.current=0,Ye(0),H(0),Pr(0),Ys.current=0,W(0),Ne(0)},[Pr,ys]),ai=f.useCallback(c=>{const h=Math.max(0,Math.floor(c||0));if(h<=0)return{applied:0,durationMs:0};ys(tc.current);const v=Zl.current+h;Zl.current=v,Ye(v),O(!0),typeof de.startScoreCount=="function"&&de.startScoreCount();const N=tc.current;H(N);const b=Math.min(2400,Math.max(900,h*4)),C=50,A=Math.max(1,Math.round(b/C)),B=A*C;let X=0;return si.current=setInterval(()=>{X+=1;const J=Math.min(1,X/A),se=1-Math.pow(1-J,3),ce=Math.round(N+(v-N)*se);H(ce),X>=A&&ys(v)},C),{applied:h,durationMs:B}},[ys]),gf=f.useCallback(c=>{const h=Math.max(0,Math.floor(c||0));if(h<=0)return{applied:0,durationMs:0};Pr(nc.current);const v=Ys.current+h;Ys.current=v,W(v),Ee(!0),typeof de.startScoreCount=="function"&&de.startScoreCount();const N=nc.current;Ne(N);const b=Math.min(2400,Math.max(900,h*4)),C=50,A=Math.max(1,Math.round(b/C)),B=A*C;let X=0;return li.current=setInterval(()=>{X+=1;const J=Math.min(1,X/A),se=1-Math.pow(1-J,3),ce=Math.round(N+(v-N)*se);Ne(ce),X>=A&&Pr(v)},C),{applied:h,durationMs:B}},[Pr]),yf=f.useCallback((c,h)=>{const v=Np[c]??0,b=Math.max(0,Math.floor(h||0))+v,{durationMs:C}=ai(b);return{earned:b,durationMs:C}},[ai]),vf=f.useCallback((c,h)=>{const v=Np[c]??0,b=Math.max(0,Math.floor(h||0))+v,{durationMs:C}=gf(b);return{earned:b,durationMs:C}},[gf]),xf=f.useCallback((c,h)=>{const v=`${c}:${h}`;eo.current.has(v)||(eo.current.add(v),ai(J_))},[ai]);f.useEffect(()=>()=>ys(Zl.current),[ys]),f.useEffect(()=>()=>Pr(Ys.current),[Pr]),f.useEffect(()=>un,[un]);const jn=f.useRef(null);f.useEffect(()=>{if(!z){try{De.stop()}catch{}jn.current=null;return}let c=st.route;switch(e){case"prologue":c=st.prologue||st.opening||c;break;case"opening":c=st.opening||c;break;case"gamestart":case"name":c=st.opening||c;break;case"conversation":c=st.conversation||c;break;case"picross":c=st.picross||c;break;case"tutorial":c=st.tutorial||c;break;case"picross-clear":c=null;break;case"ending":c=st.ending||c;break;case"gameover":c=st.route||c;break;default:c=st.route||c}const h=jn.current;let v=!1;return(async()=>{try{if(!c){h===st.picross?await De.fadeOutAndStop(300):h===st.ending?await De.fadeOutAndStop(400):h===st.tutorial?await De.fadeOutAndStop(350):De.stop(),v||(jn.current=null);return}if(c===h){De.play(c,c),v||(jn.current=c);return}if(c===st.picross){await De.crossFadeTo(c,c,{fadeOutMs:h?350:0,fadeInMs:350}),v||(jn.current=c);return}if(c===st.tutorial){await De.crossFadeTo(c,c,{fadeOutMs:h?350:0,fadeInMs:350}),v||(jn.current=c);return}if(c===st.ending){await De.crossFadeTo(c,c,{fadeOutMs:h?400:0,fadeInMs:400}),v||(jn.current=c);return}if(h===st.picross){await De.crossFadeTo(c,c,{fadeOutMs:300,fadeInMs:350}),v||(jn.current=c);return}if(h===st.tutorial){await De.crossFadeTo(c,c,{fadeOutMs:350,fadeInMs:350}),v||(jn.current=c);return}if(h===st.ending){await De.crossFadeTo(c,c,{fadeOutMs:400,fadeInMs:350}),v||(jn.current=c);return}De.play(c,c),v||(jn.current=c)}catch{}})(),()=>{v=!0}},[e,z]),f.useEffect(()=>{z&&De.setRate(1)},[e,z]),f.useEffect(()=>{if(e==="prologue"){if(z){Se.current=!0;return}Se.current||(Se.current=!0,(async()=>{try{await de.enable()}catch{}try{await De.resume()}catch{}})(),ee(!0))}},[e,z]),f.useEffect(()=>(e==="picross-clear"&&z&&de.playStageClear(),()=>{var c;(c=de.stopClearFanfare)==null||c.call(de)}),[e,z]),f.useEffect(()=>{const c=async()=>{if(!an.current){an.current=!0;try{await de.enable()}catch{}try{await De.resume()}catch{}}};return window.addEventListener("pointerdown",c),window.addEventListener("keydown",c),()=>{window.removeEventListener("pointerdown",c),window.removeEventListener("keydown",c)}},[]),f.useEffect(()=>{Dn.current=!1},[p,e]),f.useEffect(()=>()=>{const c=ms.current;Object.keys(c).forEach(h=>{c[h]&&(clearTimeout(c[h]),c[h]=null)})},[]),f.useEffect(()=>()=>{En.current&&(clearTimeout(En.current),En.current=null),Gn.current&&(clearTimeout(Gn.current),Gn.current=null),rt.current.delay&&(clearTimeout(rt.current.delay),rt.current.delay=null),rt.current.hide&&(clearTimeout(rt.current.hide),rt.current.hide=null)},[]);function vs(c){var Pe,gt,Lt,oe;const h=Jt(c),v=Ue[h];if(!v)return;const N=v.size;je(),At(),cn(null),Lr.current=!1,Qs.current=!1,Nn.current=[],Cn.current=new Set,wt.current=0,wn([]),at(),Fe.current=new Map,us([]);const b=ul(h),C=kp(h,N,b,{enforceAnchorHints:h==="elf-middle",requireUniqueSolution:h==="elf-middle"});(gt=(Pe=import.meta)==null?void 0:Pe.env)!=null&&gt.DEV&&(C==null?void 0:C.seed)!==void 0&&console.debug("[picross] generated puzzles",{node:h,seed:C.seed});const A=(Lt=C==null?void 0:C.heroPuzzles)!=null&&Lt.length?C.heroPuzzles:Array.from({length:b},()=>{const K=Yc(N);return{grid:qt(K),glyphMeta:null}}),B=A.map(K=>({grid:qt(K.grid),glyphMeta:K.glyphMeta?{...K.glyphMeta}:null})),J=((oe=C==null?void 0:C.enemyPuzzles)!=null&&oe.length?C.enemyPuzzles.map(K=>({grid:qt(K)})):qi(A).map(K=>({grid:qt(K.grid)}))).map(K=>qt(K.grid)),ce=(B[0]||{grid:qt(Yc(N))}).grid,Le=J[0]||qt(Yc(N)),be=ce.length;r(v.difficulty||qu(N)),Fs(B),is(J),as(0);const ge=ce.map(K=>K.slice());a(ge),l(Rn(be)),eo.current=new Set,Pr(0),Ys.current=0,W(0),Ne(0),Ee(!1);const le=ge.reduce((K,ke)=>K+ke.filter(Boolean).length,0);sc.current=le,dr.current={lastCorrect:null,crossStreak:0,blockChain:{type:null,index:null,length:1},noMistakeStart:Date.now(),noMistakeTriggered:!1};const te=Le.map(K=>K.slice());Rt.current=te,ii(nr(te)),xe.current={filled:0,total:te.reduce((K,ke)=>K+ke.filter(Boolean).length,0)},et.current={list:[],index:0},Ze(Rn(te.length)),gs(K=>K+1),Tr(0),ir(0),Nn.current=[],Cn.current=new Set,wt.current=0,Vn.current=0,_t(null),d(Date.now()),m(po),Sn(h),Un(!1),t("picross"),Dn.current=!1,_(K=>K+1);try{De.resume()}catch{}}const ci=f.useCallback(c=>{if(!Xt.length)return;const h=Math.min(c,Xt.length-1),v=Xt[h];if(!(v!=null&&v.grid))return;const N=qt(v.grid),b=N.length;At(),Lr.current=!1,wn([]),at(),as(h),a(N),l(Rn(b)),eo.current=new Set;const C=N.reduce((A,B)=>A+B.filter(Boolean).length,0);sc.current=C,dr.current={lastCorrect:null,crossStreak:0,blockChain:{type:null,index:null,length:1},noMistakeStart:Date.now(),noMistakeTriggered:!1},d(Date.now()),m(po),_(A=>A+1),Dn.current=!1},[Xt,At,at]),Ks=f.useCallback(c=>{if(!_n.length)return;const h=Math.min(c,_n.length-1),v=_n[h];if(!v)return;const N=qt(v),b=N.length;je(),Rt.current=N,Qs.current=!1,ii(nr(N)),Nn.current=[],Cn.current=new Set,wt.current=0,Vn.current=0,hs.current=0,Xs.current=0,xe.current={filled:0,total:N.reduce((C,A)=>C+A.filter(Boolean).length,0)},et.current={list:[],index:0},Ze(Rn(b)),gs(C=>C+1),at()},[_n,at,je]);function lc(c){it(null),Sn(null),Un(!1);const h=Jt(We),v=Jt(c),N=v&&dn.nodes[v]?v:h;zn(h),bt(N),localStorage.setItem("routeNode",N),Tp.has(N)?_t(N):_t(null),t("ending")}const zy=c=>{var b,C;pe();const h=Jt(c),v=new Set(jr);if(h==="start")v.add("start");else{let A=h;for(;A&&A!=="start";)v.add(A),A=(b=dn.parents)==null?void 0:b[A];A==="start"&&v.add("start")}or(v);try{localStorage.setItem("clearedNodes",JSON.stringify(Array.from(v)))}catch{}const N=((C=dn.parents)==null?void 0:C[h])??"start";zn(N),bt(h);try{localStorage.setItem("routeNode",h)}catch{}je(),At(),at(),fr(),cn(null),wn([]),Fe.current=new Map,us([]),it(null),Sn(null),cs(null),Vl("none"),_t(null),Un(!1),t("route")},$y=c=>{pe();const h=Jt(c);Ue[h]&&(je(),At(),at(),cn(null),wn([]),Sn(null),cs(null),Vl("encounter"),it(h),Un(!1),t("conversation"))},Fy=c=>{pe(),vs(c)},By=c=>{var N,b;pe();const h=Jt(c);je(),At(),at(),fr(),cn(null),wn([]),Fe.current=new Map,us([]),Sn(null),it(null);const v=new Set(jr);if(h==="start")v.add("start");else{let C=h;for(;C&&C!=="start";)v.add(C),C=(N=dn.parents)==null?void 0:N[C];C==="start"&&v.add("start")}or(v);try{localStorage.setItem("clearedNodes",JSON.stringify(Array.from(v)))}catch{}cs({type:"route",node:h}),zn(((b=dn.parents)==null?void 0:b[h])??"start"),bt(h);try{localStorage.setItem("routeNode",h)}catch{}ir(0),Tr(0),Un(!1),t("picross-clear")},Uy=c=>{pe(),lc(c)},Sf=f.useCallback(c=>{pe(),cr(c)},[pe,cr]),_f=f.useCallback(c=>{pe(),af(c)},[pe,af]),wf=f.useCallback(c=>{pe();const h=c==="hero"?o:Rt.current;if(!Array.isArray(h)||!h.length)return;const v=Mw(h,.9);if(c==="hero"){l(v);return}Ze(v),me.current=v,xe.current.filled=zi(v,h),et.current={list:Pt(v,h),index:0},Cn.current=new Set,Nn.current=[],wt.current=0,Vn.current=0,hs.current=0,Xs.current=0},[pe,o]),Ef=f.useCallback(c=>{if(pe(),e!=="picross")return;const h=Xt.length||_n.length||ul(fe);if(!h)return;if(c==="hero"){const N=Math.min(Mr+1,h);if(N===Mr||(Tr(N),N>=h))return;ci(N);return}const v=Math.min($n+1,h);v!==$n&&(ir(v),!(v>=h)&&Ks(v))},[fe,pe,_n.length,$n,Ks,ci,Mr,Xt.length,e]);function Hy(){un(),fr(),it(null),Sn(null),zn(""),bt("start"),t("opening"),or(new Set),_t(null),localStorage.setItem("routeNode","start"),localStorage.removeItem("clearedNodes")}const ui=f.useCallback(()=>{var A;if(Lr.current)return;Lr.current=!0,je(),un(),at();const c=Xt[Ha],h=(A=c==null?void 0:c.glyphMeta)==null?void 0:A.collectionIndex;Number.isFinite(h)&&Fe.current.set(h,qt(o.length?o:s)),yf(fe,p);const v=Xt.length||_n.length||ul(fe),N=Ha+1,b=Mr+1,C=b>=v;Tr(b),C?Nf(!0):setTimeout(()=>{ci(N)},0)},[yf,fe,un,Nf,Ha,ci,Mr,Xt.length,_n.length,p,at,je]),qs=f.useCallback(c=>{if(Lr.current||e!=="picross"||!o.length)return;const h=c||s;h!=null&&h.length&&hr(h,o)&&ui()},[ui,s,e,o]),oc=f.useCallback((c,h)=>{e==="picross"&&o.length&&L(v=>{const N=o.length-1,b=Lp(v.row+h,0,N),C=Lp(v.col+c,0,N);return b===v.row&&C===v.col?v:{row:b,col:C}})},[e,o.length]);function kf(){if(!Lr.current){if(Ce){ui();return}hr(s,o)?ui():(un(),je(),At(),fr(),t("gameover"))}}function Nf(c=!1){if(un(),je(),At(),at(),cn(null),Fs([]),is([]),as(0),Rt.current=[],gs(A=>A+1),a([]),Ze([]),Un(!1),Lr.current=!1,wn([]),!c){Fe.current=new Map,us([]);return}const h=Array.from(Fe.current.entries()).filter(([A])=>Number.isFinite(A));h.sort((A,B)=>A[0]-B[0]);let v=null;Jd(A=>{const B=new Set(A);return h.forEach(([X])=>{B.add(X)}),v=B,B});let N=null;Zd(A=>{const B=new Map(A);return h.forEach(([X,J])=>{B.set(X,qt(J))}),N=B,B}),Pp(v??qd,N??Wa);const b=h.map(([A])=>{const B=Sp.find(X=>X.collectionIndex===A);return B?{...B,solvedGrid:(N??Wa).get(A)||null}:null}).filter(Boolean);us(b),Fe.current=new Map;let C=null;if(Ie){const A=Jt(Ie);or(X=>{const J=new Set(X);return J.add(A),localStorage.setItem("clearedNodes",JSON.stringify(Array.from(J))),J}),Tp.has(A)?(C={type:"ending",node:A},_t(A)):(C={type:"route",node:A},_t(null)),zn(We),bt(A),localStorage.setItem("routeNode",A),it(null)}C||_t(null),Tr(0),ir(0),Sn(null),cs(C||{type:"route",node:We}),t("picross-clear")}function Gy(){var h;(h=de.stopClearFanfare)==null||h.call(de);const c=vy;if(cs(null),!c){_t(null),t("route");return}if(c.type==="ending"){lc(c.node);return}_t(null),t("route")}const xs=f.useCallback(()=>{var B;const c=me.current,h=Rt.current;if(!Array.isArray(h)||!h.length||!hr(c||[],h)||Qs.current)return;Qs.current=!0;const v=_n.length||Xt.length||ul(fe),N=$n+1,b=fe?Ue[fe]:null,C=(b==null?void 0:b.name)||"";je(),at();const A=N>=v;if(vf(fe,p),A){ir(N),ni({caster:"enemy",name:"Victory",description:`${C} `,image:(B=b==null?void 0:b.images)==null?void 0:B.angry}),un(),At(),fr(),cn(null),wn([]),Fs([]),is([]),as(0),Rt.current=[],gs(X=>X+1),Lr.current=!1,Un(!1),Fe.current=new Map,us([]),t("enemy-victory");return}else ir(N),setTimeout(()=>{Ks(N)},0)},[vf,fe,un,At,$n,_n.length,Ks,p,at,fr,cn,is,Un,wn,ni,je]),Cf=f.useCallback((c,h)=>{const v=dr.current;v.crossStreak=0,v.lastCorrect={r:c,c:h},v.blockChain={type:null,index:null,length:1},cr("hero")},[cr]),jf=f.useCallback(()=>{const c=dr.current;c.lastCorrect=null,c.crossStreak=0,c.blockChain={type:null,index:null,length:1},c.noMistakeStart=Date.now(),c.noMistakeTriggered=!1,Vs("hero")},[Vs]),Mf=f.useCallback((c,h,v)=>{var A,B;const N=dr.current;N.lastCorrect=null,N.blockChain={type:null,index:null,length:1};const b=(A=v==null?void 0:v[c])==null?void 0:A[h],C=((B=o==null?void 0:o[c])==null?void 0:B[h])??!1;b===-1&&!C?cr("hero"):b===-1&&C&&Vs("hero")},[cr,Vs,o]),ic=f.useCallback((c,h,v)=>{xf(c,h),Cf(c,h,v)},[xf,Cf]),Js=f.useCallback((c,h,v,N)=>{jf(c,h,v,N)},[jf]),Vy=f.useCallback((c,h,v)=>{Mf(c,h,v)},[Mf]),to=f.useCallback(c=>{if(e!=="picross"||!o.length)return;const{row:h,col:v}=ff.current;if(!(h==null||v==null||h<0||v<0||h>=o.length||v>=o.length)){if(c==="clear"){l(N=>{var B,X;const b=(B=N[h])==null?void 0:B[v];if(b==null||b===0)return N;const C=N.map(J=>J.slice());return C[h][v]=0,(((X=o[h])==null?void 0:X[v])??!1)&&b===1&&Js(h,v,{type:"unfill"},C),qs(C),C});return}l(N=>{var X,J,se;const b=(X=N[h])==null?void 0:X[v];if(b==null)return N;const C=cy(N,h,v,c),A=(J=C[h])==null?void 0:J[v],B=((se=o[h])==null?void 0:se[v])??!1;return c==="fill"?(b!==1&&A===1&&(B?ic(h,v,C):Js(h,v,{type:"fill"},C)),b===1&&A!==1&&B&&Js(h,v,{type:"unfill"},C),de.playFill()):c==="cross"?(A===-1&&B&&Js(h,v,{type:"cross"},C),de.playMark()):c==="maybe"&&de.playMark(),qs(C),C})}},[ic,Js,qs,e,o.length,o]),Tf=f.useCallback(()=>{if(e!=="picross"||!o.length)return;const c=Rn(o.length);l(c),at(),qs(c)},[qs,at,e,o.length]),di=f.useCallback(()=>{Un(c=>{const h=!c;return h?(je(),at()):(dr.current.noMistakeStart=Date.now(),dr.current.noMistakeTriggered=!1),h})},[at,je]);f.useEffect(()=>{Bn&&je()},[Bn,je]);const Zs=f.useCallback(()=>{un(),je(),At(),fr(),Fs([]),is([]),as(0),Rt.current=[],Qs.current=!1,Nn.current=[],Cn.current=new Set,wt.current=0,Vn.current=0,hs.current=0,Xs.current=0,ii({rows:[],cols:[]}),gs(c=>c+1),it(null),Sn(null),Tr(0),ir(0),Un(!1),wn([]),cs(null),m(po),z?(async()=>{try{await De.resume()}catch{}})():((async()=>{try{await de.enable()}catch{}try{await De.resume()}catch{}})(),ee(!0)),t("opening")},[un,At,fr,ee,z,je]),Yy=f.useCallback(()=>{Zs()},[Zs]);f.useEffect(()=>{_(c=>c+1)},[e]),f.useEffect(()=>{rf.current=br},[br]),f.useEffect(()=>{Hs.current=ds},[ds]),f.useEffect(()=>{me.current=Bs},[Bs]);const bf=((Uf=br.enemy)==null?void 0:Uf.readyStages)||[];(Hf=br.enemy)!=null&&Hf.count,f.useEffect(()=>{try{localStorage.setItem("routeStoryVisible",Fn?"1":"0")}catch{}},[Fn]);const Rf=f.useRef(e);f.useEffect(()=>{const c=Rf.current;Rf.current=e,c==="route"&&e!=="route"&&Jo(new Set)},[e]);const Af=f.useRef(Fn);f.useEffect(()=>{const c=Af.current;Af.current=Fn,c&&!Fn&&Jo(new Set)},[Fn]),f.useEffect(()=>{try{localStorage.setItem(Na,JSON.stringify(ar))}catch{}},[ar]);const Lf=f.useRef(null),Pf=f.useMemo(()=>{const c=new Set;if((jr||new Set).forEach(v=>c.add(Jt(v))),!c.size)return[];const h=[];return py.forEach(v=>{var N;(N=v==null?void 0:v.nodes)!=null&&N.length&&v.nodes.some(b=>c.has(b))&&h.push(v.id)}),h},[jr]);f.useEffect(()=>{if(e!=="route")return;const h=[...pw.filter(A=>Vc.has(A)),...Pf.filter(A=>Vc.has(A))],v=ar||[],N=new Set(v),b=h.filter(A=>!N.has(A));h.length===ar.length&&h.every((A,B)=>A===ar[B])||Kd(h),b.length&&Jo(A=>{const B=new Set(A);return b.forEach(X=>B.add(X)),B})},[jr,Pf,ar,e]),f.useEffect(()=>{if(e!=="route"||!Fn)return;const c=Lf.current;if(!c)return;let h=null,v=null;return h=requestAnimationFrame(()=>{c.scrollTop=c.scrollHeight,v=requestAnimationFrame(()=>{c.scrollTop=c.scrollHeight})}),()=>{h&&cancelAnimationFrame(h),v&&cancelAnimationFrame(v)}},[ar.length,e,Fn]);const If=f.useMemo(()=>{const c={heroName:$e};return ar.map(h=>{const v=Vc.get(h);if(!v)return null;const N=typeof v.paragraphs=="function"?v.paragraphs(c):v.paragraphs,b=typeof v.portraits=="function"?v.portraits(c):v.portraits,C=Array.isArray(b)?b.filter(Boolean):[];return{...v,paragraphs:Array.isArray(N)?N:[],portraits:C.filter(A=>A==null?void 0:A.src)}}).filter(Boolean)},[$e,ar]);f.useEffect(()=>{e!=="picross"&&at()},[e,at]),f.useEffect(()=>{if(e!=="picross")return;const c=bf.filter(B=>vw.has(B));if(!c.length)return;const v=c.slice().sort((B,X)=>Di(X)-Di(B))[0];if(!v||Ws.current)return;const N=fe?zp(fe):hy,b=N.spellMaxDelay??2500,C=N.spellMinDelay??1500,A=Math.max(C,Math.min(b,C+Math.random()*(b-C)));return Ws.current=!0,kn.current&&clearTimeout(kn.current),kn.current=setTimeout(()=>{var X;if(!(((X=rf.current.enemy)==null?void 0:X.readyStages)||[]).includes(v)){Ws.current=!1,kn.current=null;return}ri("enemy",v),Ws.current=!1,kn.current=null},A),()=>{kn.current&&(clearTimeout(kn.current),kn.current=null),Ws.current=!1}},[fe,bf,e,ri]);const Of=f.useRef(e);f.useEffect(()=>{Of.current==="picross"&&e!=="picross"&&(je(),At(),cn(null),Ze([]),Fs([]),is([]),as(0),Rt.current=[],ii({rows:[],cols:[]}),gs(h=>h+1),Tr(0),ir(0)),Of.current=e},[e,je,At]),f.useEffect(()=>{if(e!=="picross"||!fe)return;const c=Rt.current;if(!c.length)return;const h=zp(fe),v=[];c.forEach((J,se)=>J.forEach((ce,Le)=>{ce&&v.push({r:se,c:Le})}));const N=Pt(me.current,c),b=N.length?N:v;et.current={list:b,index:0},xe.current={filled:0,total:v.length},c.length>0&&Ze(Rn(c.length)),je();const C=()=>{if(h.intervalRange&&Array.isArray(h.intervalRange)){const[J,se]=h.intervalRange;return Math.max(120,J+Math.random()*Math.max(0,se-J))}return Math.max(120,h.interval||1e3)},A=()=>({grid:me.current.map(J=>J.slice()),filled:xe.current.filled,order:{...et.current},blacklist:new Set(Cn.current)}),B=()=>{var Vf,Yf;if(!c.length){if(Xs.current+=1,Xs.current>=2){je(),Ks($n),Xs.current=0;return}Ft.current=setTimeout(B,C());return}if(Hs.current.enemy){Ft.current=setTimeout(B,C());return}const se=Xt.length||ul(fe);if($n>=se){je();return}if(me.current&&me.current.some(Oe=>Oe&&Oe.some(Qe=>Qe!==0))){const Oe=qc(me.current,c);me.current=Oe;const{changed:Qe,next:Et,filled:mr}=Rw(Oe,c);if(Qe){Ze(Et),xe.current.filled+=mr.length,me.current=Et,mr.length&&cr("enemy"),et.current={list:Pt(Et,c),index:0};const Qn=Xc(Et,c);Qn.changed&&(Ze(Qn.next),me.current=Qn.next,et.current={list:Pt(Qn.next,c),index:0});const yt=Kc(me.current,c);if(yt.corrections>0){const Ir=yt.next;Ze(Ir),me.current=Ir,xe.current.filled=Math.max(0,xe.current.filled-yt.filledDeduct+yt.filledAdd),et.current={list:Pt(Ir,c),index:0},Vn.current+=1}else Vn.current=0;wt.current=0;const Xn=h.targetCompletionRatio||1;if((xe.current.total>0?xe.current.filled/xe.current.total:1)>=Xn&&hr(me.current,c)){je(),xs();return}Ft.current=setTimeout(B,C());return}}const Le=Xc(me.current,c);if(Le.changed){Ze(Le.next),me.current=Le.next,et.current={list:Pt(Le.next,c),index:0};const Oe=Kc(me.current,c);if(Oe.corrections>0){const mr=Oe.next;Ze(mr),me.current=mr,xe.current.filled=Math.max(0,xe.current.filled-Oe.filledDeduct+Oe.filledAdd),et.current={list:Pt(mr,c),index:0},Vn.current+=1}else Vn.current=0;wt.current=0;const Qe=h.targetCompletionRatio||1;if((xe.current.total>0?xe.current.filled/xe.current.total:1)>=Qe&&hr(me.current,c)){je(),xs();return}Ft.current=setTimeout(B,C());return}let be=et.current;if((!be.list.length||be.index>=be.list.length)&&(be={list:Pt(me.current,c).filter(({r:Qe,c:Et})=>!Cn.current.has(`${Qe},${Et}`)),index:0},et.current=be,!be.list.length)){const Qe=h.targetCompletionRatio||1;(xe.current.total>0?xe.current.filled/xe.current.total:1)>=Qe&&hr(me.current,c)?(je(),xs()):Ft.current=setTimeout(B,C());return}const ge=be.list.filter(({r:Oe,c:Qe})=>!Cn.current.has(`${Oe},${Qe}`)),le=me.current.some(Oe=>Oe==null?void 0:Oe.some(Qe=>Qe===2));if(!ge.length||le){wt.current+=1;const Oe=Kc(me.current,c);if(Oe.corrections>0){const Qe=Oe.next,Et=qc(Qe,c);Ze(Et),me.current=Et,xe.current.filled=Math.max(0,xe.current.filled-Oe.filledDeduct+Oe.filledAdd),et.current={list:Pt(Et,c),index:0},Vn.current+=1,wt.current=0,Ft.current=setTimeout(B,C());return}if(wt.current>=3||le){Cn.current.clear();const Qe=qc(me.current.map(yt=>yt.map(Xn=>Xn===2?0:Xn)),c);Ze(Qe),me.current=Qe;const Et=Pt(Qe,c);et.current={list:Et,index:0},Nn.current=[],wt.current=0,Vn.current=0;const Qn=qi(c.flatMap((yt,Xn)=>yt.map((Ss,Ir)=>({r:Xn,c:Ir,cell:Ss})).filter(({cell:Ss})=>Ss))).filter(({r:yt,c:Xn})=>{var Ss,Ir;return((Ir=(Ss=me.current)==null?void 0:Ss[yt])==null?void 0:Ir[Xn])!==1})[0];if(Qn){const yt=me.current.map(Xn=>Xn.slice());yt[Qn.r][Qn.c]=1,Ze(yt),me.current=yt,xe.current.filled+=1,et.current={list:Pt(yt,c),index:0}}}Ft.current=setTimeout(B,C());return}const te=ge[be.index%ge.length];be.index+=1;const Pe=wt.current>=3,gt=Pe?1:h.successRate??1,Lt=Pe?0:h.errorRate||0;if(Math.random()>gt){wt.current+=1,Ft.current=setTimeout(B,C());return}const{r:oe,c:K}=te;let ke=!1;const ft=A();Nn.current.push(ft),Nn.current.length>4&&Nn.current.shift();const Kt=!!((Vf=c[oe])!=null&&Vf[K]),Yn=Math.random()<Lt;let Bt=1;Kt?Bt=Yn?2:1:Bt=Yn?1:-1;const Wn=me.current.length>0?me.current.map(Oe=>Oe.slice()):Rn(c.length);if(((Yf=Wn[oe])==null?void 0:Yf[K])!==1&&(Wn[oe][K]=Bt,ke=!0),!ke){Nn.current.pop(),wt.current+=1,Ft.current=setTimeout(B,C());return}if(Ze(Wn),me.current=Wn,Aw(Wn,c)||Kt&&Bt!==1){const Oe=`${oe},${K}`;Cn.current.add(Oe),Bt===1&&xe.current.filled>0&&(xe.current.filled-=1);const Qe=me.current.map((Et,mr)=>Et.map((Qn,yt)=>mr===oe&&yt===K?0:Qn));Ze(Qe),me.current=Qe,et.current={list:Pt(Qe,c),index:0},wt.current+=1,Ft.current=setTimeout(B,C());return}ke&&Kt&&(Bt===1||Bt===2)&&(cr("enemy"),Bt===1&&(xe.current.filled+=1),wt.current=0);const pi=Xc(me.current,c);pi.changed&&(Ze(pi.next),me.current=pi.next,et.current={list:Pt(pi.next,c),index:0});const r0=h.targetCompletionRatio||1;if((xe.current.total>0?xe.current.filled/xe.current.total:1)>=r0&&hr(me.current,c)){je(),xs();return}Nn.current=[],Ft.current=setTimeout(B,C())};return(()=>{const J=xe.current.filled;if(B(),xe.current.filled>J?hs.current=0:hs.current+=1,hs.current>=5&&e==="picross"){Cn.current.clear();const ce=me.current.map(ge=>ge.map(le=>le===2?0:le));Ze(ce),me.current=ce;const be=qi(c.flatMap((ge,le)=>ge.map((te,Pe)=>({r:le,c:Pe,cell:te})).filter(({cell:te})=>te))).filter(({r:ge,c:le})=>{var te,Pe;return((Pe=(te=me.current)==null?void 0:te[ge])==null?void 0:Pe[le])!==1})[0];if(be){const ge=me.current.map(le=>le.slice());ge[be.r][be.c]=1,Ze(ge),me.current=ge,xe.current.filled+=1,et.current={list:Pt(ge,c),index:0}}else et.current={list:Pt(me.current,c),index:0};hs.current=0}})(),()=>je()},[e,fe,Dy,Mr,$n,Xt.length,je,xs,cr,Ks]),f.useEffect(()=>{if(e!=="picross"||Qs.current)return;const c=Rt.current;if(!c.length)return;const h=Bs;if(h.length&&hr(h,c)){xs();return}},[fe,Bs,xs,e]),f.useEffect(()=>{!Bn&&e==="picross"&&(dr.current.noMistakeStart=Date.now(),dr.current.noMistakeTriggered=!1)},[Bn,e]),f.useEffect(()=>{if(e==="picross")return;qo({hero:null,enemy:null});const c=ms.current;Object.keys(c).forEach(h=>{c[h]&&(clearTimeout(c[h]),c[h]=null)})},[e]),f.useEffect(()=>{e!=="gamestart"&&(R(!1),Y("before"))},[e]);const Wy=f.useCallback(c=>{Y(c)},[]);f.useEffect(()=>{e==="opening"&&S(0)},[e]);const Df=f.useMemo(()=>{if(e!=="conversation"||!Ie)return null;const c=Ue[Ie];return c!=null&&c.images&&(c.images.fullbody||c.images.normal)||null},[Ie,e]),zf=f.useMemo(()=>{if(e!=="picross"||!fe)return null;const c=Ue[fe];return c!=null&&c.images&&(c.images.fullbody||c.images.normal)||null},[fe,e]),ac=f.useCallback(async()=>{try{await De.resume()}catch{}t("gamestart")},[]),cc=f.useCallback(async()=>{if(hf(),xn(Ut),localStorage.removeItem("routeNode"),localStorage.removeItem("clearedNodes"),localStorage.removeItem(Na),Kd([]),Jo(new Set),bt("start"),zn(""),it(null),Sn(null),!z)try{await de.enable()}catch{}ee(!0);try{await De.resume()}catch{}t("gamestart")},[hf,z,xn]),Qy=f.useCallback(async()=>{try{await De.resume()}catch{}t("endless-select")},[]),uc=f.useCallback(async()=>{let c=!0;if(ef&&(c=window.confirm("")),!!c){try{await De.resume()}catch{}t("tutorial")}},[ef]),fi=f.useCallback(()=>{tf(null),Yl([]),ei([]),qa([]),Ja({rows:[],cols:[]}),nf(0),Gs.current=[],Za.current=null,sf.current=new Set,Xl(null),Ql(!1)},[]),el=f.useCallback(async(c,h=ho)=>{var J;const v=c<=5?"elf-easy":"elf-hard",N=sf.current||new Set,b=[],C=Math.max(h*15,60);let A=0;const B=(se,ce=null)=>{const Le=Tw(se);return N.has(Le)?!1:(N.add(Le),b.push({grid:qt(se),glyphMeta:ce}),!0)};for(;b.length<h&&A<C;){A+=1;const se=Math.max(5,Math.min(20,(h-b.length)*3)),ce=kp(v,c,se,{requireUniqueSolution:!0,enforceAnchorHints:!0});if(((J=ce==null?void 0:ce.heroPuzzles)!=null&&J.length?ce.heroPuzzles:[]).forEach(ge=>{b.length>=h||Nw(ge.grid)&&B(ge.grid,ge.glyphMeta)}),A%2===0&&await Qc(),b.length>=h)break;const be=Wc(c,A+Date.now());B(be,null)}let X=0;for(;b.length<h&&X<C;){const se=Wc(c,X+Date.now());X+=1,B(se,null),X%3===0&&await Qc()}for(;b.length<h;){const se=Wc(c,X+Date.now());X+=1,b.push({grid:se,glyphMeta:null}),X%3===0&&await Qc()}return b},[]),$f=f.useCallback(async c=>{fi(),tf(c),Ql(!0),t("endless");try{if(!z){try{await de.enable()}catch{}ee(!0)}await De.resume()}catch{}try{const h=await el(c,xw);Yl(h),Xl(null)}catch(h){console.error(h),Xl("")}finally{Ql(!1)}},[el,fi,z]),Ff=f.useCallback(()=>{Yl(c=>{const h=c.slice(1);return h.length<Math.max(5,Math.ceil(ho*Op)+1)&&setTimeout(()=>{(async()=>{const v=await el(Rr||5,ho);Yl(N=>[...N,...v])})()},0),h})},[Rr,el]),Xy=f.useCallback(c=>{var h;(h=Gs.current)!=null&&h.length&&hr(c,Gs.current)&&(nf(v=>v+1),Ff())},[Ff]),Ky=f.useCallback(()=>{window.confirm("")&&(fi(),t("opening"))},[fi]);f.useEffect(()=>{Gs.current=Hn},[Hn]),f.useEffect(()=>{if(e!=="endless")return;const c=fs[0]||null;if(c===Za.current)return;if(Za.current=c,!c){qa([]),Gs.current=[],ei([]),Ja({rows:[],cols:[]});return}const h=qt(c.grid);Gs.current=h,qa(h),ei(Rn(h.length)),Ja(nr(h))},[fs,e]),f.useEffect(()=>{if(e!=="endless"||Us||!Rr)return;const c=fs.length;if(ti&&c>0)return;const h=Math.max(2,Math.ceil(ho*Op));if(c>h)return;let v=!1;return(async()=>{Ql(!0);try{const N=await el(Rr,ho);if(v)return;Yl(b=>[...b,...N]),Xl(null)}catch{v||Xl("")}finally{v||Ql(!1)}})(),()=>{v=!0}},[ti,fs.length,Us,Rr,el,e]),f.useEffect(()=>{let c;const h=()=>{const N=(typeof navigator<"u"&&navigator.getGamepads?Array.from(navigator.getGamepads()).filter(Boolean):[]).find(oe=>oe&&oe.connected);if(!N){D&&(x(!1),rc.current={}),c=requestAnimationFrame(h);return}D||x(!0);const b=performance.now(),C=rc.current,A={},B=Oy.current,X=()=>{mf.current=b},J=(oe,K,ke=!1)=>{var Bt;const ft=!!((Bt=N.buttons[oe])!=null&&Bt.pressed),Kt=(C==null?void 0:C[oe])||!1;let Yn=!1;if(ft){if(!Kt)Yn=K(),Yn&&ke&&(B[oe]=b);else if(ke){const Wn=B[oe]||0;b-Wn>=ow&&(Yn=K(),Yn&&(B[oe]=b))}}else B[oe]=0;return Yn&&X(),A[oe]=ft,Yn},se=oe=>e==="opening"?(S(K=>{const ke=bp;return(K+ke+oe)%ke}),!0):e==="picross"?(oc(oe,0),!0):!1,ce=oe=>e==="opening"?(S(K=>{const ke=bp;return(K+ke+oe)%ke}),!0):e==="picross"?(oc(0,oe),!0):!1,Le=()=>{var oe,K;return e==="opening"?(y===0?uc():y===1?cc():ac(),!0):e==="conversation"?((K=(oe=oi.current)==null?void 0:oe.advance)==null||K.call(oe),!0):e==="gameover"||e==="enemy-victory"?(fe&&vs(fe),!0):e==="picross"?(to("fill"),!0):!1},be=()=>{var oe,K;return e==="conversation"?((K=(oe=oi.current)==null?void 0:oe.skip)==null||K.call(oe),!0):e==="gameover"||e==="enemy-victory"?(Zs(),!0):e==="picross"?(to("cross"),!0):!1},ge=()=>e==="picross"?(to("maybe"),!0):!1,le=()=>e==="picross"?(to("clear"),!0):!1,te=()=>{var oe,K;return e==="conversation"?((K=(oe=oi.current)==null?void 0:oe.start)==null||K.call(oe),!0):e==="picross"?(di(),!0):!1},Pe=()=>e==="picross"?(Tf(),!0):!1,gt=J(qn.LEFT,()=>se(-1),!0)||J(qn.RIGHT,()=>se(1),!0)||J(qn.UP,()=>ce(-1),!0)||J(qn.DOWN,()=>ce(1),!0),Lt=J(qn.A,Le)||J(qn.B,be)||J(qn.Y,ge)||J(qn.X,le)||J(qn.START,te)||J(qn.SELECT,Pe);(gt||Lt)&&w!=="gamepad"&&E("gamepad"),rc.current=A,c=requestAnimationFrame(h)};return c=requestAnimationFrame(h),()=>cancelAnimationFrame(c)},[D,uc,ac,cc,to,Tf,w,fe,vs,oc,y,Zs,e,E,di]);const mi=Xt.length||_n.length||ul(fe),qy=Math.max(Mr,$n),Jy=Math.min(qy+1,mi),dc=sc.current||1,Zy=zi(s,o)/dc,e0=f.useMemo(()=>{const c=xe.current.total||dc,h=xe.current.filled||0;return c<=0?0:Math.min(1,h/c)},[Bs,dc]),fc=Hn!=null&&Hn.length?Hn.reduce((c,h)=>c+h.filter(v=>!!v).length,0):0,t0=fc&&(Wl!=null&&Wl.length)?zi(Wl,Hn):0,n0=fc?t0/fc:0,Bf=c=>{const h=Ga&&Ga.caster===c?Ga:null,v=br[c]||Dr(),N=Ju(c,fe),b=new Set(v.readyStages||[]),C=v.count>0?`Combo x${v.count}`:"Combo x0",A=gy[c],B=typeof A=="string"?A.trim():"",X=B.length>0,J=N.map(se=>{const ce=Di(se.id),Le=b.has(se.id),be=v.count>=ce,ge=["combo-stage",se.id];be&&ge.push("reached"),Le&&ge.push("ready"),c==="enemy"&&Le&&ge.push("pending");const le=i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"combo-stage-label",children:se.name}),i.jsx("span",{className:"combo-stage-threshold",children:ce})]});if(c==="hero"){const te=!Le||ds.enemy;return i.jsx("button",{type:"button",className:ge.join(" "),disabled:te,onClick:()=>Iy(se.id),title:`${se.name}${ce}`,children:le},se.id)}return i.jsx("span",{className:ge.join(" "),title:`${se.name}${ce}`,children:le},se.id)});return i.jsxs("div",{className:`spell-slot ${c}${h?" active":""}${X?" speaking":""}`,children:[i.jsx("div",{className:"spell-slot-body",children:X?i.jsx("span",{className:"spell-slot-message-text",children:B}):h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"spell-slot-name",children:h.name}),i.jsx("div",{className:"spell-slot-desc",children:h.description})]}):i.jsx("span",{className:"spell-slot-placeholder",children:c==="hero"?"":""})}),i.jsxs("div",{className:"combo-panel",children:[i.jsx("div",{className:"combo-summary",children:C}),i.jsx("div",{className:"combo-stages",children:J})]})]})};return i.jsxs("div",{className:`app${e==="route"?" app-route":""}`,children:[e==="picross"&&he&&i.jsxs("div",{className:`spell-cinematic-overlay ${he.theme}`,children:[i.jsx("div",{className:"spell-cinematic-backdrop"}),i.jsxs("div",{className:"spell-cinematic-content",children:[he.effectImage?i.jsx("div",{className:`spell-cinematic-effect ${he.caster||"hero"}`,"aria-hidden":"true",children:i.jsx("img",{src:he.effectImage,alt:`${he.name} effect`})}):null,i.jsx("div",{className:`spell-cinematic-actor ${he.caster||"hero"}`,children:he.image?i.jsx("img",{src:he.image,alt:`${he.name} caster`}):i.jsx("span",{className:"spell-cinematic-placeholder",children:"Spell"})}),i.jsxs("div",{className:"spell-cinematic-text",children:[i.jsx("div",{className:"spell-cinematic-name",children:he.name}),i.jsx("div",{className:"spell-cinematic-desc",children:he.description}),he.speech?i.jsx("div",{className:"spell-cinematic-speech",children:he.speech}):null]})]}),i.jsxs("div",{className:`spell-cinematic-aurora ${he.theme}`,"aria-hidden":"true",children:[i.jsx("span",{className:"aurora-core"}),i.jsx("span",{className:"aurora-ring"}),i.jsx("span",{className:"aurora-spark"})]}),!he.attachToBoard&&i.jsxs("div",{className:`spell-board-impact ${he.target||"enemy"} ${he.showBoard?"visible":""}`,"aria-hidden":"true",children:[i.jsx("div",{className:"spell-board-grid",style:{gridTemplateColumns:`repeat(${he.boardSize||10}, 1fr)`},children:Array.from({length:(he.boardSize||10)**2}).map((c,h)=>{var J,se;const v=he.boardSize||10,N=Math.floor(h/v),b=h%v,C=`${N}-${b}`,A=(J=he.impact)==null?void 0:J.some(ce=>ce.r===N&&ce.c===b),B=!A&&((se=he.impactHalo)==null?void 0:se.some(ce=>ce.r===N&&ce.c===b)),X=A?"impact":B?"impact-near":"";return i.jsx("span",{className:`spell-board-cell ${X}`},C)})}),i.jsx("div",{className:`spell-board-flare ${he.theme}`})]})]}),e!=="prologue"&&i.jsx(ix,{seed:g,fixedUrl:e==="conversation"&&Df?Df:e==="picross"&&zf?zf:e==="opening"||e==="endless-select"?sw:e==="endless"?Ap:e==="gamestart"?I==="before"||I==="after"||U?Rp:null:e==="ending"?lw:e==="route"?Ap:e==="name"?Rp:null}),e!=="prologue"&&i.jsxs("header",{className:"app-header",children:[i.jsx("div",{className:"brand-stack",children:i.jsxs("div",{className:"brand",children:[i.jsx("span",{className:"logo",children:""}),i.jsx("span",{className:"title",children:"elfpix"})]})}),i.jsxs("nav",{className:"top-actions",children:[i.jsx("div",{className:"font-scale-group",role:"group","aria-label":"",children:Cp.map(c=>i.jsx("button",{type:"button",className:`ghost ${ve===c.value?"active":""}`,"aria-pressed":ve===c.value,onClick:()=>ne(h=>h===c.value?h:c.value),children:c.label},c.value))}),i.jsx("button",{className:`ghost pause ${Bn?"on":"off"}`,onClick:di,disabled:e!=="picross",children:Bn?"Resume":"Pause/Quit"}),i.jsxs("button",{className:`ghost bgm ${z?"on":"off"}`,onClick:async()=>{if(z){try{await de.disable()}catch{}try{De.stop()}catch{}ee(!1)}else{try{await de.enable()}catch{}try{await De.resume()}catch{}ee(!0)}},children:["BGM: ",z?"On":"Off"]}),i.jsx(Ex,{value:Z,animating:M})]})]}),e==="prologue"&&i.jsx(I1,{onNext:()=>t("opening")}),e==="opening"&&i.jsx(A1,{onStart:ac,onNewGame:cc,onTutorial:uc,onEndless:Qy,focusedIndex:y,usingGamepad:w==="gamepad"}),e==="endless-select"&&i.jsx("section",{className:"screen endless-select",children:i.jsxs("div",{className:"panel",children:[i.jsx("p",{className:"eyebrow",children:"Endless Mode"}),i.jsx("h2",{className:"headline",children:""}),i.jsx("p",{className:"subtle",children:"HERO "}),i.jsxs("div",{className:"endless-options",children:[i.jsx("button",{className:"primary",onClick:()=>$f(5),disabled:Us,children:"55 "}),i.jsx("button",{className:"ghost",onClick:()=>$f(10),disabled:Us,children:"1010 "})]}),i.jsx("div",{className:"endless-select-actions",children:i.jsx("button",{className:"ghost",onClick:()=>t("opening"),children:""})})]})}),e==="endless"&&i.jsx("section",{className:"screen endless-mode",children:i.jsxs("div",{className:"panel",children:[i.jsxs("div",{className:"endless-head",children:[i.jsxs("div",{children:[i.jsx("p",{className:"eyebrow",children:"Endless Mode"}),i.jsx("h2",{className:"headline",children:Rr?`${Rr}${Rr}`:""})]}),i.jsxs("div",{className:"endless-meta",children:[i.jsxs("span",{className:"status-chip",children:[": ",Py]}),i.jsxs("span",{className:"status-chip",children:[": ",Math.max(0,fs.length)]})]}),i.jsx("div",{className:"endless-actions",children:i.jsx("button",{className:"primary",onClick:Ky,children:"Quit"})})]}),ti?i.jsx("div",{className:"callout warn",children:ti}):null,Us&&!fs.length?i.jsx("div",{className:"endless-loading",children:""}):Hn.length?i.jsxs("div",{className:"endless-board",children:[i.jsx(cp,{size:Hn.length,grid:Wl,setGrid:ei,hintData:Ly,solution:Hn,onGridChange:Xy}),i.jsx("div",{className:"panel-progress hero endless-progress",children:i.jsx("div",{className:"progress-track",children:i.jsx("div",{className:"progress-fill",style:{width:`${Math.min(1,n0)*100}%`}})})})]}):i.jsx("div",{className:"endless-loading",children:""}),Us&&fs.length?i.jsx("div",{className:"endless-loading subtle",children:""}):null]})}),e==="tutorial"&&i.jsx(Lx,{onExit:()=>t("opening"),onComplete:()=>{_y(!0),t("opening")}}),e==="gamestart"&&i.jsx(D1,{heroName:$e,onSetName:xn,onDone:()=>t("route"),onNameEntryVisible:R,onPhaseChange:Wy}),e==="name"&&i.jsx(ry,{initial:$e,onConfirm:c=>{xn(c),t("route")},onCancel:()=>t("gamestart")}),e==="route"&&i.jsxs("div",{className:`route-layout ${Fn?"":"story-hidden"}`,children:[i.jsx("div",{className:"route-main",children:i.jsx(ex,{graph:dn,current:We,last:$s,cleared:jr,debugMode:Ce,showAllNodes:Ae,onMoveStart:async()=>{if(z)try{await de.playFootstep()}catch{}},onArrive:async c=>{const h=Jt(c);if(Ue[h]){if(z)try{await de.playEnemyEncounter()}catch{}it(h),Vl("encounter"),setTimeout(()=>{t("conversation")},hw)}else lc(h)}})}),Fn?i.jsxs("aside",{className:"route-story-panel",children:[i.jsxs("div",{className:"route-story-header",children:[i.jsx("div",{className:"route-story-title",children:""}),i.jsx("button",{type:"button",className:"route-story-toggle",onClick:()=>Xd(!1),children:""})]}),i.jsx("div",{className:"route-story-list",ref:Lf,children:If.map((c,h)=>{var b;const v=h===If.length-1,N=xy.has(c.id);return i.jsxs("div",{className:`route-story-item${v?" latest":""}${N?" animate":""}`,children:[c.subtitle?i.jsx("div",{className:"route-story-subtitle",children:c.subtitle}):null,(b=c.portraits)!=null&&b.length?i.jsx("div",{className:"route-story-portraits",children:c.portraits.map((C,A)=>i.jsx("div",{className:`route-story-portrait${C.side?` ${C.side}`:""}`,children:i.jsx("img",{src:C.src,alt:C.alt||"",loading:"lazy",decoding:"async"})},`${c.id}-portrait-${A}`))}):null,i.jsx("div",{className:"route-story-body",children:(()=>{let B=0;return c.paragraphs.map((X,J)=>{const se=X===""?"":X,ce=Array.from(se),Le=B;return B+=ce.length+16,i.jsx("p",{className:"route-story-paragraph",children:ce.map((be,ge)=>{const le=(Le+ge)*28;return i.jsx("span",{className:"story-char",style:{animationDelay:`${le}ms`},children:be},`${c.id}-c-${J}-${ge}`)})},`${c.id}-p-${J}`)})})()})]},c.id)})})]}):i.jsx("button",{type:"button",className:"route-story-bookmark",onClick:()=>Xd(!0),children:""})]}),e==="conversation"&&Ie&&i.jsx(lx,{heroName:$e||"",enemyName:((Gf=Ue[Ie])==null?void 0:Gf.name)||"",difficultyId:Ie,transition:yy,onDone:()=>{Vl("none"),vs(Ie)},onSkip:()=>{Vl("none"),vs(Ie)},onRegisterGamepad:c=>{oi.current=c}}),e==="picross"&&i.jsxs("div",{className:"game-screen",children:[i.jsxs("div",{className:"game-topbar",children:[i.jsxs("div",{className:"top-left",children:[i.jsx(px,{total:po,remaining:p}),i.jsxs("div",{className:"puzzle-progress",children:["Puzzle ",Jy," / ",mi]})]}),i.jsx("div",{className:"top-right hud-actions"})]}),i.jsxs("div",{className:"game-center",children:[i.jsxs("div",{className:"battle-panels",children:[i.jsxs("div",{className:"player-panel",children:[i.jsx("div",{className:"panel-avatar hero",children:ql!=null&&ql.src?i.jsx("img",{src:ql.src,alt:ql.alt}):i.jsx("span",{className:"panel-avatar-placeholder",children:""})}),i.jsxs("div",{className:"panel-spell hero",children:[i.jsx("div",{className:"spell-slot-wrapper",children:Bf("hero")}),i.jsxs("div",{className:"score-meter hero",children:[i.jsx("span",{className:"score-label",children:"Score"}),i.jsx("span",{className:"score-value",children:Number(Z||0).toLocaleString()})]})]}),i.jsxs("div",{className:"panel-score hero",children:[i.jsx("span",{className:"panel-score-label",children:""}),i.jsx("span",{className:"panel-score-value",children:Mr}),i.jsxs("span",{className:"panel-score-sub",children:["/ ",mi]})]}),i.jsx("div",{className:"panel-board hero",children:i.jsx("div",{className:"board-frame hero",children:i.jsx(cp,{size:Kl,grid:s,setGrid:l,hintData:lf,clues:lf,solution:o,onCorrectFill:ic,onMistake:Js,onCross:Vy,hiddenRowClues:wy,hiddenColClues:ky,lockedRowClues:Cy,lockedColClues:My,fadedCells:by,disabled:Bn||Va||ds.hero,onGridChange:qs,highlightCell:w==="gamepad"&&e==="picross"?k:null})})}),i.jsx("div",{className:"panel-progress hero",children:i.jsx("div",{className:"progress-track",children:i.jsx("div",{className:"progress-fill",style:{width:`${Math.min(1,Zy)*100}%`}})})})]}),i.jsxs("div",{className:"enemy-panel",children:[i.jsx("div",{className:"panel-avatar enemy",children:Jl!=null&&Jl.src?i.jsx("img",{src:Jl.src,alt:Jl.alt}):i.jsx("span",{className:"panel-avatar-placeholder",children:""})}),i.jsxs("div",{className:"panel-spell enemy",children:[i.jsx("div",{className:"spell-slot-wrapper",children:Bf("enemy")}),i.jsxs("div",{className:"score-meter enemy",children:[i.jsx("span",{className:"score-label",children:"Enemy Score"}),i.jsx("span",{className:"score-value",children:Number(q||0).toLocaleString()})]})]}),i.jsxs("div",{className:"panel-score enemy",children:[i.jsx("span",{className:"panel-score-label",children:""}),i.jsx("span",{className:"panel-score-value",children:$n}),i.jsxs("span",{className:"panel-score-sub",children:["/ ",mi]})]}),i.jsx("div",{className:"panel-board enemy",children:i.jsxs("div",{className:"board-frame enemy",children:[(he==null?void 0:he.attachToBoard)&&(he==null?void 0:he.target)==="enemy"&&he.showBoard&&i.jsxs("div",{className:`spell-board-impact onboard ${he.theme}`,children:[i.jsx("div",{className:"spell-board-grid",style:{gridTemplateColumns:`repeat(${he.boardSize||10}, 1fr)`},children:Array.from({length:(he.boardSize||10)**2}).map((c,h)=>{var J,se;const v=he.boardSize||10,N=Math.floor(h/v),b=h%v,C=`${N}-${b}`,A=(J=he.impact)==null?void 0:J.some(ce=>ce.r===N&&ce.c===b),B=!A&&((se=he.impactHalo)==null?void 0:se.some(ce=>ce.r===N&&ce.c===b)),X=A?"impact":B?"impact-near":"";return i.jsx("span",{className:`spell-board-cell ${X}`},C)})}),i.jsx("div",{className:`spell-board-flare ${he.theme}`})]}),i.jsx(mx,{size:Kl,grid:Bs,hintData:pf,clues:pf,fadedCells:Ry})]})}),i.jsx("div",{className:"panel-progress enemy",children:i.jsx("div",{className:"progress-track enemy",children:i.jsx("div",{className:"progress-fill",style:{width:`${Math.min(1,e0)*100}%`}})})})]})]}),i.jsx("div",{className:"spell-projectiles",children:Ay.map(c=>i.jsx("span",{className:`spell-projectile ${c.variant}`},c.id))}),Bn&&i.jsx("div",{className:"pause-overlay",children:i.jsxs("div",{className:"pause-box",children:[i.jsx("div",{className:"pause-title",children:"Paused"}),i.jsxs("div",{className:"pause-actions",children:[i.jsx("button",{className:"primary",type:"button",onClick:di,children:"Resume"}),i.jsx("button",{className:"ghost",type:"button",onClick:Yy,children:"Quit"})]})]})})]})]}),e==="picross-clear"&&i.jsx(hx,{heroName:$e||"",heroImage:en.smile,boardEntries:Sp,unlockedIndices:Array.from(qd),solvedGrids:Wa,newlyUnlockedEntries:Sy,onContinue:Gy}),e==="enemy-victory"&&i.jsx(wx,{heroName:$e||"",onContinue:()=>{fe&&vs(fe)},onQuit:Zs}),e==="gameover"&&i.jsx(Sx,{onContinue:()=>{fe&&vs(fe)},onQuit:Zs}),e==="ending"&&i.jsx(xx,{heroName:$e||"",endingNode:Hl,onDone:Hy}),on&&i.jsx("div",{className:"debug-menu-overlay",onMouseDown:$t,role:"presentation",children:i.jsxs("div",{className:"debug-menu",style:{top:`${P.y}px`,left:`${P.x}px`},ref:V,role:"menu","aria-label":"",tabIndex:-1,onKeyDown:lr,onMouseDown:c=>c.stopPropagation(),children:[i.jsxs("div",{className:"debug-menu-header",children:[i.jsx("span",{className:"debug-menu-heading",children:"Debug Menu"}),i.jsx("button",{type:"button",className:"debug-menu-close",onClick:pe,"aria-label":"",children:""})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsxs("button",{type:"button",role:"menuitemcheckbox","aria-checked":Ce,onClick:os,className:"debug-menu-button",children:[": ",Ce?"On":"Off"]}),i.jsxs("button",{type:"button",role:"menuitemcheckbox","aria-checked":Ae,onClick:vn,className:"debug-menu-button",children:[": ",Ae?"On":"Off"]})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsx("div",{className:"debug-menu-grid",children:dt.map(c=>i.jsx("button",{type:"button",role:"menuitem",onClick:()=>zy(c.id),className:"debug-menu-button",children:c.label},`debug-route-${c.id}`))})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsx("div",{className:"debug-menu-grid",children:Ge.map(c=>i.jsx("button",{type:"button",role:"menuitem",onClick:()=>$y(c.id),className:"debug-menu-button",children:c.name?`${c.name} (${c.label})`:c.label},`debug-conversation-${c.id}`))})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsx("div",{className:"debug-menu-grid",children:Ge.map(c=>i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Fy(c.id),className:"debug-menu-button",children:c.name?`${c.name} (${c.label})`:c.label},`debug-picross-${c.id}`))})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsx("div",{className:"debug-menu-grid",children:Ge.map(c=>i.jsx("button",{type:"button",role:"menuitem",onClick:()=>By(c.id),className:"debug-menu-button",children:c.name?`${c.name} (${c.label})`:c.label},`debug-victory-${c.id}`))})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:""}),i.jsx("div",{className:"debug-menu-grid",children:ew.map(c=>i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Uy(c.id),className:"debug-menu-button",children:c.label},`debug-ending-${c.id}`))})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:"ENEMY"}),i.jsxs("div",{className:"debug-menu-grid",children:[i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Sf("enemy"),className:"debug-menu-button",children:"ENEMY +1"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>_f("enemy"),className:"debug-menu-button",children:"ENEMY MAX"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>wf("enemy"),className:"debug-menu-button",children:"ENEMY 90%"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Ef("enemy"),className:"debug-menu-button",children:"ENEMY"})]})]}),i.jsxs("div",{className:"debug-menu-section",children:[i.jsx("p",{className:"debug-menu-title",children:"HERO"}),i.jsxs("div",{className:"debug-menu-grid",children:[i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Sf("hero"),className:"debug-menu-button",children:"HERO +1"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>_f("hero"),className:"debug-menu-button",children:"HERO MAX"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>wf("hero"),className:"debug-menu-button",children:"HERO 90%"}),i.jsx("button",{type:"button",role:"menuitem",onClick:()=>Ef("hero"),className:"debug-menu-button",children:"HERO"})]})]})]})})]})}const Iw=ny(document.getElementById("root"));Iw.render(i.jsx(Pw,{}));export{ie as a};
