@import"https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@500;700&display=swap";:root{--bg: #050912;--surface-gradient: linear-gradient(140deg, #050912 0%, #0e1931 100%);--surface-panel: rgba(10, 20, 45, .85);--surface-card: rgba(6, 12, 26, .78);--surface-overlay: rgba(3, 8, 20, .8);--surface-border: rgba(63, 231, 255, .35);--surface-border-strong: rgba(140, 109, 242, .55);--accent-primary: #19e5c2;--accent-primary-strong: #3fe7ff;--accent-secondary: #5a56e0;--accent-secondary-strong: #8c6df2;--accent-warn: #f27f60;--accent-danger: #e75378;--text: #e6f4ff;--muted: #8aa5c6;--outline-focus: #9ef6ff;--glow-soft: rgba(25, 229, 194, .35);--glow-strong: rgba(63, 231, 255, .35);--panel: var(--surface-panel);--brand: var(--accent-secondary);--brand-2: var(--accent-primary-strong);--accent: var(--accent-primary);--ok: #27dfb4;--bad: #f16c88;--cell: 32px;--font-scale: 1.5}*{box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}html,body,#root{height:100%}body{margin:0;color:var(--text);font-size:calc(16px * var(--font-scale));background:radial-gradient(1300px 900px at 80% -20%,rgba(52,109,181,.32) 0%,transparent 65%),radial-gradient(1100px 760px at -12% 120%,rgba(23,135,140,.3) 0%,transparent 55%),var(--surface-gradient);font-family:"M PLUS Rounded 1c",Hiragino Maru Gothic ProN,"Rounded Mplus 1c",Yu Gothic UI,Quicksand,ui-rounded,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans JP,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif}.app{position:relative;z-index:0;min-height:100vh;display:flex;flex-direction:column}.bg-image{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;background-size:contain;background-position:center;background-repeat:no-repeat;opacity:.55;filter:saturate(1.05) contrast(1.08) brightness(.85)}.bg-image:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(1200px 800px at 80% -20%,rgba(92,78,181,.38) 0%,transparent 60%),radial-gradient(1000px 700px at -12% 120%,rgba(29,137,152,.38) 0%,transparent 50%)}.app-header{display:flex;justify-content:space-between;align-items:flex-start;padding:clamp(12px,2vw,20px) clamp(16px,3vw,28px);margin:0 clamp(12px,3vw,32px);border-radius:20px;background:linear-gradient(125deg,#060d1eeb,#101e40c7);border:1px solid var(--surface-border);box-shadow:0 24px 48px #02060e99;-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px)}.brand{display:flex;align-items:center;gap:10px}.brand-stack{display:flex;flex-direction:column;gap:6px}.logo{color:var(--brand-2);font-size:calc(24px * var(--font-scale));filter:drop-shadow(0 0 8px #22d3ee80)}.title{font-weight:800;letter-spacing:.5px}.top-actions{display:flex;align-items:center;gap:10px}.conversation-stage{display:flex;justify-content:space-between;align-items:flex-start;gap:clamp(20px,5vw,64px);padding:clamp(12px,4vw,48px) clamp(16px,6vw,72px) 0;width:100%}.conversation-slot{flex:1 1 0;display:flex;flex-direction:column;align-items:center;gap:8px}.conversation-slot.hero{align-items:flex-start}.conversation-slot.enemy{align-items:flex-end}.portrait-frame{position:relative;background:linear-gradient(135deg,#060e20eb,#18264ad9);border:2px solid var(--surface-border-strong);border-radius:12px;padding:4px;display:grid;place-items:center;overflow:hidden;flex-shrink:0;box-shadow:0 20px 44px #02050ca6;transition:box-shadow .32s ease,border-color .32s ease}.portrait-frame.enemy{background:linear-gradient(145deg,#220718eb,#451234d1);border-color:#e75378a6}.portrait-image{width:100%;height:100%;object-fit:cover;object-position:center;display:block;transition:opacity .26s ease,transform .36s cubic-bezier(.34,1.56,.64,1),filter .36s ease}.portrait-label{min-width:120px;text-align:center;font-size:calc(16px * var(--font-scale));letter-spacing:.04em;transition:opacity .24s ease,transform .24s ease}.portrait-placeholder{background:var(--accent-danger);border-radius:12px;padding:12px 16px;font-weight:800;color:#fff}.tutorial-screen{padding:clamp(16px,4vw,48px) clamp(20px,5vw,64px);display:flex;justify-content:center;align-items:stretch;min-height:calc(100vh - 120px);position:relative;isolation:isolate}.tutorial-screen:before{content:"";position:fixed;top:0;right:0;bottom:0;left:0;background:url(../assets/img/background/tutorial_bg.png) center / cover no-repeat;z-index:-2}.tutorial-screen:after{content:"";position:fixed;top:0;right:0;bottom:0;left:0;background:linear-gradient(180deg,#0f172ae0,#1e293bd1);z-index:-1}.tutorial-layout{max-width:1280px;display:grid;grid-template-columns:minmax(260px,320px) minmax(480px,1fr);gap:clamp(24px,4vw,48px);width:100%}.tutorial-hero-card{background:radial-gradient(circle at 35% 10%,rgba(63,231,255,.18),transparent 45%),var(--surface-panel);border-radius:24px;padding:clamp(20px,4vw,32px);color:var(--text);display:flex;flex-direction:column;gap:clamp(12px,2vw,18px);box-shadow:0 22px 48px #0308148c;border:1px solid var(--surface-border)}.tutorial-step-badge{align-self:flex-start;background:#3fe7ff29;border:1px solid rgba(63,231,255,.32);border-radius:999px;padding:4px 14px;font-weight:600;letter-spacing:.06em}.tutorial-title{font-size:clamp(1.4rem,2.6vw,1.9rem);font-weight:700;letter-spacing:.05em;margin:0}.tutorial-hero-image{width:100%;max-width:240px;object-fit:contain;align-self:center;filter:drop-shadow(0 10px 22px rgba(15,23,42,.55))}.tutorial-description{margin:0;line-height:1.6;font-size:clamp(.95rem,1.6vw,1rem)}.tutorial-content{display:flex;flex-direction:column;gap:clamp(24px,4vw,40px)}.tutorial-board{--cell: clamp(44px, 6vw, 56px);display:grid;grid-template-columns:calc(var(--cell) * 3) repeat(5,var(--cell));grid-template-rows:calc(var(--cell) * 3) repeat(5,var(--cell));gap:4px;background:#e2e8f033;padding:clamp(12px,2vw,18px);border-radius:20px;box-shadow:inset 0 0 0 1px #94a3b859}.tutorial-corner{grid-column:1;grid-row:1}.tutorial-top{grid-column:2 / span 5;grid-row:1;display:grid;grid-template-columns:repeat(5,var(--cell));gap:2px;align-content:end}.tutorial-left{grid-column:1;grid-row:2 / span 5;display:grid;grid-template-rows:repeat(5,var(--cell));gap:2px;justify-content:end}.tutorial-hint{color:#a5b4fc;font-size:calc((var(--cell) * .56));display:grid}.tutorial-hint span{display:flex;align-items:center;justify-content:center;width:var(--cell);height:var(--cell);border-radius:8px}.tutorial-hint.row-clue{grid-auto-flow:column;grid-auto-columns:var(--cell);justify-content:end;align-items:center;padding-right:6px;text-align:right}.tutorial-hint.col-clue{grid-auto-rows:var(--cell);justify-items:center;align-content:end;padding-bottom:6px;text-align:center}.tutorial-highlight span{background:#3fe7ff2e;box-shadow:0 0 0 2px #19e5c273;color:var(--text)}.tutorial-grid{grid-column:2 / span 5;grid-row:2 / span 5;display:grid;grid-template-columns:repeat(5,var(--cell));grid-template-rows:repeat(5,var(--cell));gap:2px;background:linear-gradient(135deg,#182044d1,#241444c2);padding:8px;border-radius:12px;border:1px solid rgba(76,81,191,.4);box-shadow:inset 0 0 24px #20286052}.tutorial-cell{width:var(--cell);height:var(--cell);border-radius:12px;border:1px solid rgba(148,163,184,.75);-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#ffffffd9;display:grid;place-items:center;font-size:clamp(1rem,2vw,1.4rem);font-weight:700;color:#0f172a;transition:background .18s ease,box-shadow .18s ease,transform .22s ease}.tutorial-cell.filled{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#eff6ff;box-shadow:inset 0 0 0 2px #1e40af73}.tutorial-cell.cross{background:#fee2e2e6;color:#be123c}.tutorial-cell.maybe{background:#fef3c7e6;color:#b45309}.tutorial-cell:focus-visible{outline:none;box-shadow:0 0 0 3px #60a5fabf}.tutorial-dialog{background:var(--surface-panel);border:1px solid var(--surface-border);border-radius:24px;padding:clamp(18px,3vw,28px);color:var(--text);display:flex;flex-direction:column;gap:clamp(16px,3vw,24px);box-shadow:0 30px 60px #030814a6;-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px)}.tutorial-options-column{display:flex;flex-direction:column;gap:12px}.tutorial-options-column .primary,.tutorial-options-column .ghost{width:100%;justify-content:center}.tutorial-dialog-body{line-height:1.7;font-size:clamp(.95rem,1.5vw,1.05rem)}.tutorial-dialog-body ul{margin:0;padding-left:1.2rem;display:grid;gap:.45rem}.tutorial-celebrate{margin-top:.6rem;font-weight:700;color:#fde68a}.tutorial-combo-header{display:flex;align-items:center;gap:12px;justify-content:flex-end}.tutorial-progress{font-weight:700;letter-spacing:.04em;color:#bae6fd}.tutorial-illustration{margin-top:1rem;padding:1rem;border-radius:16px;border:1px dashed rgba(148,163,184,.5);background:#1d4ed82e;text-align:center;font-family:IBM Plex Mono,Fira Code,monospace;color:#e0f2fe}.tutorial-diagram{margin-top:1rem;border-radius:18px;padding:16px;background:#0d948826;border:1px solid rgba(45,212,191,.35);color:#ecfeff;font-size:.95rem}.tutorial-diagram .diagram-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.diagram-board{display:grid;grid-template-columns:repeat(5,14px);grid-template-rows:repeat(5,14px);gap:2px;padding:10px;border-radius:14px;background:#0f172a99;position:relative}.diagram-board-label{position:absolute;bottom:6px;right:10px;font-size:.68rem;opacity:.8}.diagram-cell{width:14px;height:14px;border-radius:3px;background:#ffffff26;border:1px solid rgba(148,163,184,.4)}.diagram-cell.filled{background:#3b82f6cc;border-color:#60a5facc}.diagram-cell.cross{background:#f87171cc;border-color:#fecacacc}.diagram-cell.maybe{background:#fbbf24cc;border-color:#fde68acc}.diagram-cell.miss{background:#ef4444cc;border-color:#f87171cc;box-shadow:0 0 6px #f87171b3}.diagram-cell.highlight{background:#38bdf8e6;border-color:#bfdbfee6;box-shadow:0 0 8px #38bdf8cc}.diagram-board.is-jam .diagram-cell{filter:saturate(.6)}.diagram-board-beam{position:absolute;top:2px;right:2px;bottom:2px;left:2px;border-radius:12px;background:linear-gradient(90deg,#f8fafc00,#f8fafccc,#f8fafc00);animation:diagramBeam 1.2s linear infinite;pointer-events:none}@keyframes diagramBeam{0%{opacity:0;transform:translate(-30%)}50%{opacity:1}to{opacity:0;transform:translate(30%)}}.diagram-token{border-radius:999px;padding:6px 12px;font-weight:700;display:inline-flex;align-items:center;justify-content:center;min-width:48px}.diagram-token.filled{background:#3b82f640;border:1px solid rgba(191,219,254,.5)}.diagram-token.cross{background:#f8717140;border:1px solid rgba(254,202,202,.5)}.diagram-token.maybe{background:#fbbf2440;border:1px solid rgba(253,230,138,.5)}.diagram-token.miss{background:#dc262633;border:1px solid rgba(248,113,113,.7);color:#fecaca}.diagram-arrow{opacity:.8}.diagram-counter{padding:6px 16px;border-radius:999px;border:1px solid rgba(191,219,254,.6);background:#0f172a66;font-weight:600}.diagram-counter.reset{background:#0f766e66}.diagram-column{display:flex;flex-direction:column;gap:4px;align-items:center}.diagram-column.muted{opacity:.7}.diagram-spell-button{border-radius:999px;padding:8px 20px;border:1px solid rgba(251,191,36,.6);background:#fbbf2426;color:#fef3c7;font-weight:700;letter-spacing:.05em}.diagram-speech{margin-top:8px;padding:6px 12px;border-radius:14px;background:#f8fafc1a;border:1px solid rgba(255,255,255,.2)}.diagram-spell-beam{margin-top:10px;font-weight:700;text-transform:uppercase;letter-spacing:.08em}.diagram-jammer{display:flex;flex-direction:column;gap:8px}.diagram-bar{display:flex;align-items:center;gap:8px}.diagram-bar-track{flex:1;height:8px;border-radius:999px;background:#0f172a8c;overflow:hidden}.diagram-bar-fill{height:100%;background:linear-gradient(90deg,#4ade80,#22d3ee)}.diagram-bar-label{font-weight:600;min-width:40px}.diagram-usage .diagram-row{justify-content:center}.diagram-strategy{display:flex;gap:12px;justify-content:center}.diagram-card{flex:1;min-width:140px;background:#3b82f62e;border:1px solid rgba(147,197,253,.4);border-radius:16px;padding:12px;text-align:center}.diagram-card strong{display:block;margin-bottom:6px;letter-spacing:.06em}.tutorial-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.tutorial-actions-right{display:flex;gap:12px;margin-left:auto}.tutorial-actions .ghost,.tutorial-actions .primary{min-width:120px}@media (max-width: 1024px){.tutorial-layout{grid-template-columns:1fr}.tutorial-hero-card{flex-direction:row;align-items:center;gap:20px}.tutorial-hero-image{max-width:180px}}@media (max-width: 768px){.tutorial-board{--cell: clamp(36px, 12vw, 48px)}.tutorial-actions{flex-direction:column;align-items:stretch}.tutorial-actions-right{margin-left:0;width:100%;justify-content:space-between}}@media (max-width: 960px){.conversation-stage{gap:clamp(16px,4vw,48px);padding:clamp(12px,3vw,32px) 24px 0}.conversation-slot{flex:1 1 50%}}@media (max-width: 640px){.conversation-stage{flex-direction:column;align-items:center;padding:16px 20px 0}.conversation-slot,.conversation-slot.hero,.conversation-slot.enemy{align-items:center}}.score-hud{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;min-height:36px;border-radius:10px;border:1px solid rgba(25,229,194,.45);background:#061a208c;color:var(--text);font-size:calc(14px * var(--font-scale));font-weight:600;letter-spacing:.04em;transition:transform .16s ease,box-shadow .16s ease,filter .16s ease}.score-hud.animating{transform:translateY(-1px) scale(1.01);box-shadow:0 12px 28px #19e5c252;filter:drop-shadow(0 0 10px rgba(63,231,255,.35))}.score-label{font-size:calc(12px * var(--font-scale));text-transform:uppercase;letter-spacing:.12em;color:#fde68a}.score-value{font-family:Share Tech Mono,Fira Mono,Menlo,monospace;font-size:calc(18px * var(--font-scale));font-weight:700;letter-spacing:1px;color:#fff7d6}.font-scale-group{display:inline-flex;align-items:center;gap:6px;padding:4px 6px;border-radius:999px;background:#0f12208c;box-shadow:0 0 12px #11182759;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.font-scale-group .ghost{min-width:58px;padding:6px 10px;font-weight:600;transition:color .16s ease,background .16s ease,border-color .16s ease,opacity .16s ease}.font-scale-group .ghost.active{background:#7c3aed38;border-color:#7c3aed99;color:var(--brand-2);opacity:1}.top-actions .ghost{opacity:.8}.screen{margin:0 auto;padding:12px 20px 40px;width:100%;flex:1}.headline{font-size:calc(28px * var(--font-scale));margin:16px 0 12px}.subheadline{font-size:calc(18px * var(--font-scale));margin:0;opacity:.9}.sub{color:var(--muted);margin-top:6px}.level-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:12px}.level-card{background:linear-gradient(140deg,#060c1ae6,#0f1c38d1);border:1px solid var(--surface-border);color:var(--text);padding:18px;text-align:left;border-radius:14px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,border-color .16s ease}.level-card:hover{transform:translateY(-2px);box-shadow:0 12px 32px #020612a6,inset 0 0 0 1px #3fe7ff61;border-color:#3fe7ff73}.badge{display:inline-block;font-weight:800;letter-spacing:1px}.badge-easy{color:var(--accent-primary-strong)}.badge-middle{color:var(--accent-secondary-strong)}.badge-high{color:var(--accent-danger)}.progress{margin-top:8px;color:var(--muted)}.toolbar{display:flex;align-items:center;gap:12px}.puzzle-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:14px;margin-top:16px}.puzzle-card{position:relative;background:linear-gradient(145deg,#070e1cd9,#161e3ad9);border:1px solid var(--surface-border);border-radius:12px;padding:16px;text-align:left;cursor:pointer;transition:transform .14s ease,box-shadow .14s ease,border-color .14s ease}.puzzle-card:hover{transform:translateY(-3px);border-color:#8c6df299;box-shadow:0 18px 32px #03081499}.puzzle-card .chip{position:absolute;top:8px;right:8px;background:#19e5c226;color:var(--accent-primary-strong);border:1px solid rgba(63,231,255,.25);border-radius:999px;padding:2px 8px;font-size:calc(12px * var(--font-scale))}.puzzle-card.cleared{outline:2px solid rgba(25,229,194,.45)}.index{font-weight:700;color:var(--muted)}.game-screen{display:grid;gap:16px;grid-template-rows:auto minmax(0,1fr);flex:1;min-height:0}.game-topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 0}.game-center{display:grid;grid-template-rows:minmax(0,1fr) auto;justify-items:center;align-items:center;align-content:center;padding-bottom:20px;position:relative;width:100%;height:100%}.hud{display:flex;align-items:center;justify-content:space-between;gap:12px;background:var(--surface-panel);border:1px solid var(--surface-border);border-radius:16px;padding:12px 16px;box-shadow:0 20px 48px #02050e8c;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px)}.hud-actions{display:flex;gap:8px}.timer .time{font-weight:800;letter-spacing:1px}.timer .bar{width:240px;height:8px;background:#9ef6ff29;border-radius:999px;overflow:hidden}.timer .fill{height:100%;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary-strong));box-shadow:0 0 18px #3fe7ff59}.puzzle-progress{margin-top:6px;font-size:.9rem;color:var(--muted);letter-spacing:.02em}.board-wrap{display:grid;gap:12px;position:relative}.board-frame{position:relative;display:flex;justify-content:center;width:auto}.board-frame>.board-wrap,.board-frame>.enemy-board{width:max-content;max-width:100%;width:-moz-fit-content;width:fit-content}.board-portrait{margin:0;position:absolute;top:18px;left:18px;transform:translate(-28%,-38%);padding:8px;border-radius:18px;border:1px solid rgba(129,140,248,.55);background:linear-gradient(135deg,#0c1329eb,#1e2952e0);box-shadow:0 18px 36px #080d238c;pointer-events:none;z-index:6;display:inline-flex}.board-portrait img{display:block;height:100px;width:auto;border-radius:12px;border:1px solid rgba(191,219,254,.55);box-shadow:0 14px 28px #0f172a8c}.board-portrait.enemy{border-color:#f8717194;background:linear-gradient(135deg,#201526eb,#3f141fe0);box-shadow:0 20px 40px #3f122485}@media (max-width: 960px){.board-portrait{transform:translate(0);top:12px;left:12px;background:linear-gradient(135deg,#0c1329e0,#1e2952d1)}}.board{display:grid;grid-template-columns:auto max-content;grid-template-rows:auto max-content;gap:0;align-items:start}.clues{display:contents}.clues .corner{grid-column:1;grid-row:1;width:100%;height:100%}.clues .top{grid-column:2;grid-row:1;display:grid;gap:2px}.clues .left{grid-column:1;grid-row:2;display:grid;gap:2px}.row-clue,.col-clue{color:#a5b4fc;opacity:.9;font-size:calc((var(--cell) * .56) * var(--font-scale));display:grid;place-items:center}.row-clue{grid-auto-flow:column;grid-auto-columns:var(--cell);justify-content:end;align-items:center;padding-right:6px;text-align:right}.col-clue{grid-auto-rows:var(--cell);justify-items:center;align-content:end;padding-bottom:6px;text-align:center}.clue-hidden{visibility:hidden}.clue-locked span{letter-spacing:.12em}.grid{grid-column:2;grid-row:2;display:grid;gap:2px;background:linear-gradient(135deg,#182044d1,#241444c2);padding:8px;border-radius:12px;border:1px solid rgba(76,81,191,.4);box-shadow:inset 0 0 24px #20286052}.cell{width:var(--cell);height:var(--cell);border-radius:8px;background:#0e153061;border:1px solid rgba(148,163,255,.88);box-shadow:0 0 0 1px #1f2f6f6b;cursor:pointer;position:relative;transition:background .12s ease,transform 60ms ease,opacity .12s ease,filter .12s ease}.cell:hover{transform:translateY(-1px);filter:saturate(1.1)}.cell.cursor{outline:3px solid #facc15;outline-offset:-3px;box-shadow:0 0 14px #facc1573,0 0 0 1px #1f2f6f8f}.cell.faded{opacity:.4}.cell.filled{background:conic-gradient(from 180deg at 50% 50%,#22d3ee66,#7c3aed66,#22d3ee66);border-color:#94a3ffeb;box-shadow:inset 0 0 10px #ffffff40,0 4px 20px #7c3aed33,0 0 0 1px #1f2f6f8f}.cell.x:after{content:"Ã—";position:absolute;top:0;right:0;bottom:0;left:0;line-height:var(--cell);font-family:system-ui,Segoe UI,sans-serif;color:#94a3b8;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:calc(18px * var(--font-scale));opacity:.7}.cell.maybe:after{content:"?";position:absolute;top:0;right:0;bottom:0;left:0;color:#f59e0b;display:grid;place-items:center;font-weight:800;font-size:calc(16px * var(--font-scale));opacity:.75}.board{opacity:.75}.battle-panels{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:24px;width:100%;align-items:stretch;align-self:center}@keyframes projectileHero{0%{transform:translate(-220%,-40%) scale(.35) rotate(-10deg);opacity:0}15%{opacity:1}70%{opacity:1}to{transform:translate(360%,-65%) scale(1.05) rotate(12deg);opacity:0}}@keyframes projectileEnemy{0%{transform:translate(220%,-40%) scale(.35) rotate(6deg);opacity:0}15%{opacity:1}70%{opacity:1}to{transform:translate(-360%,-60%) scale(1) rotate(-12deg);opacity:0}}.spell-projectiles{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;z-index:8}.spell-projectile{position:absolute;width:18px;height:18px;border-radius:50%;filter:drop-shadow(0 0 8px rgba(255,255,255,.65));opacity:0}.spell-projectile.hero{top:52%;left:24%;background:radial-gradient(circle at 35% 35%,#c4f1ff,#60a5fa 38%,#3b82f614 75%);box-shadow:0 0 24px #3b82f699;animation:projectileHero 1s ease-out forwards}.spell-projectile.enemy{top:48%;right:24%;background:radial-gradient(circle at 35% 35%,#fecaca,#f87171 40%,#dc26261a 78%);box-shadow:0 0 24px #f87171a6;animation:projectileEnemy 1s ease-out forwards}@media (max-width: 960px){.battle-panels{grid-template-columns:1fr}.player-panel,.enemy-panel{grid-template-columns:1fr;grid-template-areas:"avatar" "spell" "score" "board" "progress"}.panel-avatar,.panel-score{justify-self:center;text-align:center}.panel-avatar{justify-content:center}.panel-score{width:100%;min-height:auto;padding:12px;align-items:center;justify-content:center;gap:4px}.panel-spell{width:100%;flex-direction:column;align-items:flex-start;gap:8px}.score-meter{width:100%;flex-direction:row;align-items:center;justify-content:space-between;min-width:0;padding:10px 12px}.score-value{font-size:1.1rem}.combo-badge{right:16px;bottom:8px}.spell-projectile.hero{left:50%;top:34%;right:auto;animation:projectileHeroStack 1s ease-out forwards}.spell-projectile.enemy{left:50%;top:74%;right:auto;animation:projectileEnemyStack 1s ease-out forwards}}@media (max-width: 768px){.spell-slot{align-items:flex-start;flex-wrap:wrap;gap:8px}.combo-badge{position:static;display:flex;align-items:center;justify-content:center;width:100%;margin-top:4px;transform:scale(.94)}.combo-badge.visible{transform:scale(1)}}@keyframes projectileHeroStack{0%{transform:translate(-50%,-200%) scale(.35);opacity:0}15%{opacity:1}70%{opacity:1}to{transform:translate(-50%,200%) scale(1.05);opacity:0}}@keyframes projectileEnemyStack{0%{transform:translate(-50%,200%) scale(.35);opacity:0}15%{opacity:1}70%{opacity:1}to{transform:translate(-50%,-200%) scale(1.05);opacity:0}}.player-panel,.enemy-panel{display:grid;grid-template-columns:auto minmax(0,1fr) auto;grid-template-areas:"avatar spell score" "board board board" "progress progress progress";gap:12px 16px;align-items:start;grid-template-rows:auto auto minmax(0,1fr) auto;height:100%}.panel-avatar{grid-area:avatar;display:flex;align-items:center;position:relative}.panel-avatar img{width:72px;height:72px;object-fit:cover;border-radius:16px;border:2px solid rgba(148,163,255,.55);box-shadow:0 10px 18px #0f172a59;background:#0f172ad1}.panel-avatar-placeholder{display:inline-flex;width:72px;height:72px;border-radius:16px;align-items:center;justify-content:center;background:#111827b3;border:1px dashed rgba(148,163,255,.4);color:var(--muted);font-weight:600}.panel-avatar.hero img{border-color:#60a5faa6}.panel-avatar.enemy img{border-color:#f87171b3}.enemy-panel .panel-avatar-placeholder{border-color:#f8717166;color:#f87171a6}.panel-spell{grid-area:spell;display:flex;align-items:stretch;justify-content:space-between;gap:12px}.spell-slot{width:100%;min-height:96px;border-radius:14px;border:1px solid #2b2f55;background:#11163aad;padding:16px 18px 44px;display:flex;align-items:center;gap:12px;transition:border-color .2s ease,box-shadow .2s ease;position:relative}.spell-slot.hero{border-color:#60a5fa9e}.spell-slot.enemy{border-color:#f871719e}.spell-slot.active.hero{box-shadow:0 0 24px #3b82f640}.spell-slot.active.enemy{box-shadow:0 0 24px #f8717140}.spell-slot.speaking.hero{border-color:#60a5fabf;box-shadow:0 0 26px #3b82f647}.spell-slot.speaking.enemy{border-color:#f87171bf;box-shadow:0 0 26px #f8717147}.spell-slot-wrapper{flex:1 1 auto;display:flex;align-items:center}.score-meter{align-self:stretch;min-width:120px;padding:10px 14px;border-radius:12px;border:1px solid rgba(148,163,255,.45);background:#0f172aad;box-shadow:inset 0 0 24px #0f172a59;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;gap:4px}.score-meter.hero{border-color:#60a5faa6;background:linear-gradient(135deg,#1e3a8ad9,#3b82f659);color:#e0f2fe}.score-meter.enemy{border-color:#f8717199;background:linear-gradient(135deg,#7f1d1dd9,#fb71854d);color:#fee2e2}.score-label{font-size:.72rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;opacity:.85}.score-value{font-size:1.35rem;font-weight:700;line-height:1.1}.spell-slot.enemy img{border-color:#f8717180}.spell-slot-body{flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;gap:6px}.spell-slot-name{font-weight:700;font-family:"M PLUS Rounded 1c",Hiragino Maru Gothic Pro,"Rounded Mplus 1c",Yu Gothic,sans-serif;font-size:1.33rem;letter-spacing:.04em}.spell-slot-desc{font-family:"M PLUS Rounded 1c",Hiragino Maru Gothic Pro,"Rounded Mplus 1c",Yu Gothic,sans-serif;font-size:1.12rem;opacity:.85;line-height:1.35}.spell-slot-placeholder{font-family:"M PLUS Rounded 1c",Hiragino Maru Gothic Pro,"Rounded Mplus 1c",Yu Gothic,sans-serif;font-size:1.19rem;color:var(--muted);letter-spacing:.05em}.spell-slot-message-text{display:block;font-family:"M PLUS Rounded 1c",Hiragino Maru Gothic Pro,"Rounded Mplus 1c",Yu Gothic,sans-serif;font-size:1.8rem;line-height:1.35;font-weight:600;letter-spacing:.02em;word-break:break-word;color:#f8fafc}.spell-slot.speaking.hero .spell-slot-message-text{color:#e0f2fe}.spell-slot.speaking.enemy .spell-slot-message-text{color:#fee2e2}.combo-panel{margin-top:12px;display:flex;flex-direction:column;gap:6px}.spell-slot.hero .combo-summary{color:var(--accent-primary-strong)}.spell-slot.enemy .combo-summary{color:var(--accent-danger)}.combo-summary{font-size:.82rem;font-weight:700;letter-spacing:.04em;text-transform:uppercase}.combo-stages{display:flex;flex-wrap:wrap;gap:6px}.combo-stage{display:inline-flex;align-items:center;gap:6px;font-size:.72rem;border-radius:8px;padding:4px 10px;border:1px solid rgba(63,231,255,.28);background:#0712209e;color:var(--text);opacity:.45;transition:opacity .16s ease,transform .18s ease,border-color .18s ease;text-align:left}.spell-slot.hero .combo-stage.reached{opacity:.82;border-color:#3fe7ff99}.spell-slot.hero .combo-stage.ready{opacity:1;border-color:#3fe7fff2;background:linear-gradient(135deg,#19e5c252,#3fe7ff33);color:var(--text)}.spell-slot.enemy .combo-stage{border-color:#f27f6047;background:#300c1873;color:#ffe4e8}.spell-slot.enemy .combo-stage.reached{opacity:.78;border-color:#f27f6099}.spell-slot.enemy .combo-stage.ready{opacity:1;border-color:#e75378f2;background:linear-gradient(135deg,#f27f6052,#e7537833)}.combo-stage.pending{animation:comboPending 1s ease-in-out infinite}.spell-slot.hero .combo-stage:disabled{cursor:not-allowed;opacity:.35;border-color:#94a3ff2e}.combo-stage .combo-stage-label{font-weight:600;white-space:nowrap}.combo-stage .combo-stage-threshold{font-size:.64rem;opacity:.75}button.combo-stage{border:none;background:none;padding:0;cursor:pointer}button.combo-stage:focus-visible{outline:2px solid var(--outline-focus);outline-offset:2px}@keyframes comboPending{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.65}}@media (max-width: 768px){.combo-stages{flex-direction:column}}.spell-cinematic-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:300;pointer-events:auto;display:flex;align-items:center;justify-content:center;overflow:hidden;animation:spellOverlayFade 1.2s ease forwards}.spell-cinematic-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#040717d9;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.spell-cinematic-content{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;gap:clamp(24px,4vw,48px);padding:clamp(24px,5vw,64px);width:100%}.spell-cinematic-actor img{height:clamp(320px,90vh,900px);width:auto;object-fit:contain;filter:drop-shadow(0 28px 52px rgba(0,0,0,.55))}.spell-cinematic-actor.hero img{animation:spellActorLeft .28s ease-out forwards}.spell-cinematic-actor.enemy img{animation:spellActorRight .28s ease-out forwards}.spell-cinematic-placeholder{width:auto;height:clamp(320px,90vh,900px);border:2px dashed rgba(148,163,184,.4);border-radius:18px;display:flex;align-items:center;justify-content:center;color:#e2e8f0cc}.spell-cinematic-text{min-width:clamp(260px,30vw,420px);padding:clamp(16px,4vw,32px);border-radius:24px;background:#0f172abf;border:1px solid rgba(148,163,184,.35);box-shadow:0 30px 60px #03071299}.spell-cinematic-speech{margin-top:10px;padding:10px 14px;border-radius:16px;background:#0a1420d9;border:1px solid rgba(63,231,255,.35);color:var(--text);font-weight:700;letter-spacing:.04em;box-shadow:0 10px 26px #0308148c}.spell-cinematic-aurora .aurora-core{width:clamp(120px,20vw,220px);height:clamp(120px,20vw,220px);filter:blur(16px)}.spell-cinematic-aurora .aurora-spark{width:clamp(60px,12vw,140px);height:clamp(60px,12vw,140px);filter:blur(4px);opacity:.6}.spell-cinematic-overlay.radiant .spell-cinematic-backdrop{background:#0f172ad9}.spell-cinematic-overlay.radiant .spell-cinematic-aurora .aurora-core{background:radial-gradient(circle,#ffffffe6,#3b82f666)}.spell-cinematic-overlay.tide .spell-cinematic-backdrop{background:#02172ae0}.spell-cinematic-overlay.tide .spell-cinematic-aurora .aurora-core{background:radial-gradient(circle,#7dd3fce6,#0ea5e94d)}.spell-cinematic-overlay.quake .spell-cinematic-backdrop{background:#1f2937e6}.spell-cinematic-overlay.quake .spell-cinematic-aurora .aurora-core{background:radial-gradient(circle,#fdba74f2,#f59e0b59)}.spell-cinematic-overlay.venom .spell-cinematic-backdrop{background:#140f1ee6}.spell-cinematic-overlay.venom .spell-cinematic-aurora .aurora-core{background:radial-gradient(circle,#10b981e6,#164e6366)}.spell-cinematic-overlay.inferno .spell-cinematic-backdrop{background:#260612eb}.spell-cinematic-overlay.inferno .spell-cinematic-aurora .aurora-core{background:radial-gradient(circle,#f87171f2,#dc262666)}.spell-board-impact{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;pointer-events:none;padding:4vw;opacity:0;transform:scale(.9);transition:opacity .22s ease,transform .22s ease;background:radial-gradient(circle at center,#03081414,#03060cd1)}.spell-board-impact.onboard{position:absolute;top:6px;right:6px;bottom:6px;left:6px;padding:12px;border-radius:18px;z-index:6}.spell-board-impact.enemy{justify-content:flex-end}.spell-board-impact.hero{justify-content:flex-start}.spell-board-grid{width:clamp(220px,30vw,360px);height:clamp(220px,30vw,360px);display:grid;gap:2px;padding:24px;border-radius:24px;background:#0f172a99;border:1px solid rgba(148,163,184,.35);box-shadow:inset 0 0 30px #020617b3}.spell-board-cell{border-radius:4px;background:#ffffff14;border:1px solid rgba(148,163,184,.2);transition:transform .2s ease,background .2s ease,box-shadow .2s ease}.spell-board-cell.impact-near{background:#3fe7ff2e;border-color:#3fe7ff59;box-shadow:0 0 8px #3fe7ff59}.spell-board-cell.impact{background:#f87171cc;border-color:#f8fafccc;box-shadow:0 0 12px #f87171cc;transform:scale(1.2)}.spell-board-flare{position:absolute;width:clamp(240px,34vw,420px);height:clamp(240px,34vw,420px);border-radius:999px;opacity:0;filter:blur(24px);mix-blend-mode:screen;animation:none}@keyframes spellActorLeft{0%{transform:translate(-60px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes spellActorRight{0%{transform:translate(60px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes spellAuroraPulse{0%{transform:scale(.7);opacity:0}60%{opacity:1}to{transform:scale(1.3);opacity:0}}@keyframes spellImpactFlare{0%{transform:scale(.6);opacity:.4}50%{opacity:.6}to{transform:scale(1.4);opacity:0}}.panel-score{grid-area:score;justify-self:end;align-self:stretch;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;background:#0f172ac7;border:1px solid #2b2f55;border-radius:14px;padding:8px 14px;min-width:120px;min-height:76px;gap:2px}.panel-score.hero{border-color:#60a5fa8c;color:#cbd5ff}.panel-score.enemy{border-color:#f871718c;background:#311424c7;color:#fecaca}.panel-score-label{font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;opacity:.8}.panel-score-value{font-size:2rem;line-height:1;font-weight:800}.panel-score-sub{font-size:.85rem;opacity:.8}.panel-board{grid-area:board;display:flex;justify-content:center;align-items:center}.panel-progress{grid-area:progress;display:flex;align-items:center}.panel-progress .progress-track{width:100%}.progress-track{width:100%;height:8px;border-radius:999px;background:#0a1428e0;overflow:hidden;box-shadow:inset 0 0 0 1px var(--surface-border)}.progress-track.enemy{background:#221028e0}.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary-strong));transition:width .16s ease}.progress-track.enemy .progress-fill{background:linear-gradient(90deg,var(--accent-warn),var(--accent-danger))}.enemy-board{display:grid;grid-template-columns:auto max-content;grid-template-rows:auto max-content;gap:0;align-items:start;opacity:.75}.enemy-board .grid{padding:8px;background:linear-gradient(135deg,#401220d1,#2e0c17c7);border:1px solid rgba(127,29,29,.42);box-shadow:inset 0 0 22px #7f1d1d47}.enemy-board .cell{cursor:default;border-radius:6px;background:#28111b5c;border:1px solid rgba(248,113,113,.82);box-shadow:0 0 0 1px #7f1d1d75;transition:background .12s ease,opacity .12s ease,filter .12s ease}.enemy-board .cell:hover{filter:saturate(1.1)}.enemy-board .cell.filled,.enemy-board .cell{border-radius:6px}.enemy-board .cell.filled{background:linear-gradient(135deg,var(--accent-warn),var(--accent-danger));border-color:#e75378d9;box-shadow:inset 0 0 10px #e7537873,0 0 0 1px #7f1d1d94}.enemy-board .cell.blank{background:#180b1247;border-color:#7f1d1d59;box-shadow:inset 0 0 6px #0006}.enemy-board .cell.cursor{box-shadow:0 0 14px #f8717173,0 0 0 1px #7f1d1d94}.spell-cinematic-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:3200;pointer-events:auto;display:flex;align-items:center;justify-content:center;overflow:hidden;animation:spellOverlayFade 1s ease forwards}.spell-cinematic-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#040a16d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.spell-cinematic-content{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;gap:clamp(20px,4vw,48px);padding:clamp(20px,5vw,60px);width:100%}.spell-cinematic-actor{flex:1 1 auto;display:flex;align-items:flex-end;justify-content:flex-start;min-height:60vh}.spell-cinematic-actor.enemy{justify-content:flex-end}.spell-cinematic-actor img,.spell-cinematic-placeholder{height:clamp(320px,90vh,900px);width:auto;object-fit:contain;filter:drop-shadow(0 28px 52px rgba(0,0,0,.55))}.spell-cinematic-placeholder{border:2px dashed rgba(148,163,184,.4);border-radius:18px;display:flex;align-items:center;justify-content:center;color:#e2e8f0cc;padding:12px 18px}.spell-cinematic-text{min-width:clamp(260px,30vw,420px);padding:clamp(16px,4vw,32px);border-radius:24px;background:#0a1428cc;border:1px solid rgba(63,231,255,.35);box-shadow:0 30px 60px #030814a6}.spell-cinematic-name{font-size:clamp(1.6rem,3vw,2.1rem);letter-spacing:.08em;text-transform:uppercase;margin-bottom:.5rem;color:#fefce8}.spell-cinematic-desc{font-size:clamp(1rem,1.6vw,1.15rem);color:#e2e8f0;line-height:1.6}.spell-cinematic-speech{margin-top:10px;padding:10px 14px;border-radius:16px;background:#060e1cd1;border:1px solid rgba(63,231,255,.35);color:#e6f4ff;font-weight:700;letter-spacing:.04em;box-shadow:0 10px 26px #0308148c}.spell-cinematic-aurora{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;mix-blend-mode:screen;display:flex;align-items:center;justify-content:center;z-index:1}.spell-cinematic-aurora .aurora-core,.spell-cinematic-aurora .aurora-ring,.spell-cinematic-aurora .aurora-spark{position:absolute;border-radius:50%;animation:spellAuroraPulse 1.2s ease-out forwards}.spell-cinematic-aurora .aurora-core{width:clamp(120px,20vw,220px);height:clamp(120px,20vw,220px);filter:blur(16px);background:radial-gradient(circle,#ffffffe6,#3fe7ff52)}.spell-cinematic-aurora .aurora-ring{width:clamp(200px,32vw,420px);height:clamp(200px,32vw,420px);border:2px solid rgba(255,255,255,.35);opacity:.8}.spell-cinematic-aurora .aurora-spark{width:clamp(60px,12vw,140px);height:clamp(60px,12vw,140px);filter:blur(4px);opacity:.6;background:radial-gradient(circle,#3fe7ff66,#8c6df24d)}.spell-board-impact{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;pointer-events:none;padding:4vw;opacity:0;transform:scale(.9);transition:opacity .22s ease,transform .22s ease}.spell-board-impact.visible{opacity:1;transform:scale(1)}.spell-board-grid{width:clamp(220px,30vw,360px);height:clamp(220px,30vw,360px);display:grid;gap:2px;padding:24px;border-radius:24px;background:#060a16b8;border:1px solid rgba(63,231,255,.35);box-shadow:inset 0 0 30px #020617b3}.spell-board-cell{border-radius:4px;background:#ffffff14;border:1px solid rgba(148,163,184,.2)}.spell-board-cell.impact{background:#f87171d1;border-color:#f8fafce6;box-shadow:0 0 12px #f87171cc}.spell-board-flare{position:absolute;width:clamp(240px,34vw,420px);height:clamp(240px,34vw,420px);border-radius:999px;opacity:0;filter:blur(24px);mix-blend-mode:screen}.spell-board-impact.visible .spell-board-flare{opacity:.35;animation:spellImpactFlare 1.2s ease-out forwards}.spell-board-flare.radiant{background:radial-gradient(circle,#fafaffa6,#3b82f640)}.spell-board-flare.tide{background:radial-gradient(circle,#7dd3fc99,#0ea5e933)}.spell-board-flare.quake{background:radial-gradient(circle,#fdba7499,#f59e0b2e)}.spell-board-flare.venom{background:radial-gradient(circle,#10b98199,#164e6333)}.spell-board-flare.inferno{background:radial-gradient(circle,#f87171b3,#dc262640)}@keyframes spellOverlayFade{0%{opacity:0}to{opacity:1}}@keyframes spellAuroraPulse{0%{transform:scale(.6);opacity:0}25%{opacity:1}to{transform:scale(1.4);opacity:0}}@keyframes spellImpactFlare{0%{transform:scale(.8);opacity:.4}40%{transform:scale(1);opacity:.8}to{transform:scale(1.3);opacity:0}}.pause-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:var(--surface-overlay);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:7;pointer-events:all}.pause-box{background:var(--surface-panel);border:1px solid var(--surface-border);border-radius:16px;padding:28px 40px;text-align:center;color:var(--text);box-shadow:0 28px 54px #030814a6;min-width:240px}.pause-title{font-size:1.6rem;font-weight:700;letter-spacing:.04em;margin-bottom:18px}.pause-actions{display:flex;justify-content:center;gap:12px}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:var(--surface-overlay);display:grid;place-items:center}.modal{background:var(--surface-panel);border:1px solid var(--surface-border);padding:20px;border-radius:16px;max-width:420px;width:calc(100% - 32px);box-shadow:0 32px 60px #030814a6}.particle-overlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:visible}.particle-flare{position:absolute;width:26px;height:26px;margin-left:-13px;margin-top:-13px;background:radial-gradient(circle,rgba(255,255,255,.95) 0%,rgba(224,231,255,.35) 55%,transparent 80%);mix-blend-mode:screen;animation:particleFlare .22s ease-out forwards;pointer-events:none}.particle-burst{position:absolute;width:14px;height:14px;margin-left:-7px;margin-top:-7px;background:radial-gradient(circle,rgba(236,233,254,.95) 0%,rgba(94,234,212,.25) 50%,transparent 94%);animation:particleBurstFade .82s cubic-bezier(.18,.66,.35,1) forwards;box-shadow:0 0 18px #f4f4ffe6}.particle-burst:after{content:"";position:absolute;top:-12px;right:-12px;bottom:-12px;left:-12px;border-radius:999px;border:2px solid rgba(251,191,36,.45);opacity:.6;animation:particleRing .84s ease-out forwards}.particle-shockwave{position:absolute;width:14px;height:14px;margin-left:-7px;margin-top:-7px;border:2px solid rgba(244,244,255,.4);border-radius:999px;animation:particleShockwave .88s ease-out forwards;transform-origin:center;pointer-events:none}.particle-spark{position:absolute;width:6px;height:6px;margin-left:-3px;margin-top:-3px;background:radial-gradient(circle at 35% 35%,rgba(244,240,255,.95) 0%,rgba(129,140,248,.6) 55%,transparent 100%);box-shadow:0 0 6px #a78bfacc;border-radius:50%;animation:particleSpark .72s ease-out forwards;opacity:0}.particle-streak{position:absolute;width:2px;height:var(--streak-length, 60px);margin-left:-1px;margin-top:calc(var(--streak-length, 60px) * -.5);background:linear-gradient(180deg,#fffffff2,#c7d2fe1a);box-shadow:0 0 12px #a4c4ffa6;border-radius:12px;transform-origin:center center;animation:particleStreak .62s ease-out forwards;opacity:0}@keyframes particleBurstFade{0%{transform:scale(.35);opacity:0}18%{transform:scale(1);opacity:1}65%{transform:scale(1.25);opacity:.85}to{transform:scale(1.6);opacity:0}}@keyframes particleRing{0%{transform:scale(.55);opacity:.7}to{transform:scale(1.95);opacity:0}}@keyframes particleSpark{0%{transform:translate(0) scale(.4);opacity:0}20%{opacity:1}to{transform:translate(var(--dx, 0px),var(--dy, 0px)) scale(var(--spark-scale, 1));opacity:0}}@keyframes particleFlare{0%{transform:scale(.4);opacity:0}30%{transform:scale(1);opacity:1}to{transform:scale(1.35);opacity:0}}@keyframes particleShockwave{0%{transform:scale(.4);opacity:.75}70%{transform:scale(var(--shockwave-scale, 1.8));opacity:.2}to{transform:scale(var(--shockwave-scale-max, 2));opacity:0}}@keyframes particleStreak{0%{transform:rotate(var(--streak-rot, 0deg)) scaleY(.2);opacity:0}15%{opacity:1}to{transform:rotate(var(--streak-rot, 0deg)) translate(var(--dx, 0px),var(--dy, 0px)) scaleY(1);opacity:0}}.modal.clear{animation:fadeInScale .6s ease both}.result-title{margin:0 0 10px}.result-title.ok{color:var(--ok);animation:glow 1.2s ease both}.result-title.bad{color:var(--bad)}.actions{display:flex;gap:8px;justify-content:flex-end}button{color:var(--text);background:linear-gradient(140deg,#081424d9,#122242bf);border:1px solid var(--surface-border);border-radius:14px;padding:10px 16px;cursor:pointer;font-size:calc(16px * var(--font-scale));line-height:1.2;box-shadow:0 16px 32px #02060e8c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease,background .16s ease}button:hover{transform:translateY(-1px);border-color:#3fe7ff8c;box-shadow:0 20px 44px #040a18a6}button:active{transform:translateY(0);box-shadow:0 10px 26px #02050e99}button:focus-visible{outline:2px solid var(--outline-focus);outline-offset:3px}.ghost{background:transparent;border-color:#3fe7ff40;box-shadow:none}.primary{background:linear-gradient(130deg,var(--accent-primary),var(--accent-primary-strong));border:1px solid rgba(63,231,255,.7);box-shadow:0 20px 34px #19e5c259;color:#04121a}.bgm.on{background:linear-gradient(125deg,var(--accent-primary),#1ed2a2);color:#031a13;border-color:#19e5c2cc}.bgm.off{background:#07101cbf;color:var(--muted);border-color:#3fe7ff33}.pause.on{background:linear-gradient(130deg,var(--accent-secondary),var(--accent-secondary-strong));color:#fff;border-color:#8c6df2cc}.pause.off{background:#0c1426a6;color:#c8d7ff;border-color:#8c6df24d}.debug-menu-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:3200;background:transparent}.debug-menu{position:absolute;width:clamp(260px,28vw,320px);max-height:min(520px,72vh);padding:18px 20px;display:flex;flex-direction:column;gap:12px;border-radius:16px;background:#0f172af5;border:1px solid rgba(148,197,253,.4);box-shadow:0 24px 48px #0f172a8c;color:#e0f2fe;overflow-y:auto}.debug-menu:focus{outline:none}.debug-menu-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.debug-menu-heading{font-size:.95rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:#bfdbfeeb}.debug-menu-close{background:transparent;border:1px solid rgba(148,197,253,.45);color:#f8fafc;border-radius:8px;padding:4px 10px;line-height:1;font-size:.95rem;cursor:pointer;transition:background .2s ease,border-color .2s ease,color .2s ease}.debug-menu-close:hover,.debug-menu-close:focus-visible{background:#94c5fd40;border-color:#bfdbfecc;color:#fff}.debug-menu-section{display:flex;flex-direction:column;gap:8px}.debug-menu-title{margin:0;font-size:.82rem;letter-spacing:.06em;text-transform:uppercase;color:#bfdbfec7}.debug-menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px}.debug-menu-button{background:#1e40af47;border:1px solid rgba(148,197,253,.45);color:#f8fafc;border-radius:10px;padding:6px 10px;font-size:.82rem;cursor:pointer;transition:background .2s ease,border-color .2s ease,transform .2s ease;text-align:center}.debug-menu-button:hover,.debug-menu-button:focus-visible{background:#3b82f680;border-color:#bfdbfee6;transform:translateY(-1px)}.debug-menu-button:active{transform:translateY(0)}.debug-menu-button[aria-checked=true],.debug-menu-button[aria-checked=true]:hover{background:#16a34a8c;border-color:#86efacd9;color:#f0fdf4}.prologue{display:grid;place-items:center;min-height:100%}.prologue-window{width:min(760px,92%);min-height:240px;height:clamp(240px,52vh,315px);background:linear-gradient(140deg,#060c1af0,#121e3ae6);color:var(--text);border:1px solid var(--surface-border);border-radius:16px;padding:24px 28px;box-shadow:0 28px 52px #030814b3;display:flex;flex-direction:column;justify-content:center;gap:8px;overflow:hidden}.prologue-text{flex:1;display:flex;align-items:center;justify-content:center;text-align:center}.prologue-text p{width:100%;text-align:center}.prologue-actions{margin-top:auto;display:flex;justify-content:flex-end}.dialog{display:grid;place-items:center;min-height:60vh}.dialog-window{width:min(800px,90%);min-height:180px;background:linear-gradient(135deg,#060c1aeb,#121e3ae0);border:1px solid var(--surface-border);color:var(--text);border-radius:18px;padding:20px 24px;box-shadow:0 30px 60px #030814b3;display:flex;flex-direction:column;gap:10px;overflow:hidden}.dialog-content{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:stretch;padding:4px 8px}.dialog-speaker{font-weight:700;margin-bottom:10px;width:100%;text-align:left}.dialog-speaker span{display:inline-block;width:100%}.dialog-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:8px}.fade-text{opacity:0;transition:opacity .2s ease}.fade-text.in{opacity:var(--fade-target, 1)}.dialog-window .dialog-body{font-size:calc(18px * var(--font-scale));line-height:1.7;max-width:90%;text-align:left;margin:0 auto;white-space:pre-wrap}.name-entry{display:grid;place-items:center;min-height:calc(100vh - 160px);width:100%}.name-card{background:linear-gradient(135deg,#060c1af0,#121e3ae6);color:var(--text);border:1px solid var(--surface-border);border-radius:16px;padding:16px;width:min(1040px,96%)}.name-card .display{font-size:calc(24px * var(--font-scale));font-weight:800;letter-spacing:2px;text-align:center;margin-bottom:8px}.name-card .display .caret{color:#f59e0b}.name-card .name-body{display:grid;grid-template-columns:minmax(0,1fr) minmax(128px,.8fr);gap:12px}.kana-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px}.kana-column{display:grid;gap:6px}.name-card .row{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:6px}.name-actions{display:flex;flex-direction:column;gap:12px;align-items:stretch;height:100%}.name-actions-top{display:flex;flex-direction:column;gap:8px}.name-actions-bottom{margin-top:auto;display:flex;justify-content:flex-end;align-items:center;gap:12px;flex-wrap:wrap}.name-actions-bottom .kana{min-width:72px}.kana{padding:10px 12px;display:flex;justify-content:center;align-items:center;min-height:44px}.kana.blank{visibility:hidden;pointer-events:none}@media (max-width: 640px){.name-card .name-body{grid-template-columns:1fr}.name-actions{flex-direction:column;align-items:stretch}.name-actions-bottom{justify-content:center}}.screen.route{position:relative;--route-pad: clamp(24px, 6vw, 64px);min-height:calc(100vh - 140px);display:flex;align-items:center;justify-content:center;padding:var(--route-pad)}.route-canvas{background:linear-gradient(135deg,#060c1adb,#0c162cd1);border:1px solid var(--surface-border);border-radius:18px;position:relative;overflow:hidden;width:100%;height:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 30px 60px #030814a6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.route-svg{width:100%;height:clamp(900px,70vh,900px)}.route-canvas.encounter-zoom{animation:route-encounter-zoom .9s ease-in-out}.route-encounter-overlay{position:absolute;top:calc(var(--route-pad) * -1);right:calc(var(--route-pad) * -1);bottom:calc(var(--route-pad) * -1);left:calc(var(--route-pad) * -1);pointer-events:none;border-radius:clamp(16px,4vw,32px);z-index:24;overflow:hidden}.route-encounter-overlay .encounter-dimmer,.route-encounter-overlay .encounter-fracture,.route-encounter-overlay .encounter-shard{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0}.route-encounter-overlay .encounter-dimmer{background:radial-gradient(circle at center,#7c3aed59,#080518eb 60%)}.route-encounter-overlay .encounter-fracture{top:-18%;right:-18%;bottom:-18%;left:-18%;background:radial-gradient(circle at center,rgba(196,181,253,.34) 0%,transparent 55%),repeating-conic-gradient(from 0deg,rgba(124,58,237,.22) 0deg 9deg,transparent 9deg 18deg);mix-blend-mode:screen;filter:blur(2px)}.route-encounter-overlay .encounter-shard{top:-16%;right:-16%;bottom:-16%;left:-16%;background:linear-gradient(145deg,#ec489959,#818cf82e),radial-gradient(circle at 45% 45%,rgba(233,213,255,.62),transparent 65%);border-radius:24px;transform:translate(0) scale(1) rotate(var(--shard-rotate, 0deg));filter:drop-shadow(0 0 22px rgba(147,51,234,.46));mix-blend-mode:screen;--shard-tx: 0%;--shard-ty: 0%;--shard-delay: 0ms}.route-encounter-overlay.active .encounter-dimmer{animation:encounter-dimmer-fade .9s ease-in-out forwards}.route-encounter-overlay.active .encounter-fracture{animation:encounter-fracture .9s ease-out forwards}.route-encounter-overlay.active .encounter-shard{animation:encounter-shard .9s ease-in-out forwards;animation-delay:var(--shard-delay, 0ms)}@keyframes route-encounter-zoom{0%{transform:scale(1)}18%{transform:scale(1.14)}36%{transform:scale(1.04)}58%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes encounter-dimmer-fade{0%{opacity:0;transform:scale(.85)}18%{opacity:.82;transform:scale(1)}46%{opacity:.55;transform:scale(1.08)}to{opacity:0;transform:scale(1.18)}}@keyframes encounter-fracture{0%{opacity:0;transform:scale(.8) rotate(0)}18%{opacity:.92;transform:scale(1) rotate(0)}46%{opacity:.58;transform:scale(1.24) rotate(6deg)}to{opacity:0;transform:scale(1.45) rotate(14deg);filter:blur(26px)}}@keyframes encounter-shard{0%{opacity:0;transform:translate(0) scale(.45) rotate(var(--shard-rotate, 0deg))}18%{opacity:.9;transform:translate(0) scale(1) rotate(var(--shard-rotate, 0deg))}46%{opacity:.65;transform:translate(var(--shard-tx),var(--shard-ty)) scale(1.15) rotate(calc(var(--shard-rotate, 0deg) * .8))}to{opacity:0;transform:translate(calc(var(--shard-tx) * 1.4),calc(var(--shard-ty) * 1.4)) scale(1.28) rotate(calc(var(--shard-rotate, 0deg) * .85))}}.route-edge-group{pointer-events:none}.route-edge-shadow{stroke:#0f172a59;stroke-width:3px;opacity:.45;filter:blur(.6px)}.route-edge-shadow--visited{stroke:#3b82f659;opacity:.6}.route-edge{stroke:url(#route-edge-gradient);stroke-width:3px;stroke-linecap:round;opacity:.85}.route-edge--visited{stroke:#60a5faa6;opacity:.9}.route-edge-glow{stroke:#5ee7ff;stroke-width:5px;stroke-linecap:round;stroke-dasharray:1 12;stroke-dashoffset:0;animation:route-edge-glow .18s linear infinite;filter:drop-shadow(0 0 6px rgba(94,231,255,.7))}@keyframes route-edge-glow{0%{stroke-dashoffset:0}to{stroke-dashoffset:-13}}.route-node{transition:transform .16s ease}.route-node-shadow{fill:#080f2347;filter:blur(6px);opacity:.85}.route-node-visited{filter:drop-shadow(0 0 6px rgba(94,164,255,.45))}.route-node-top{transition:filter .16s ease}.route-node-visited .route-node-top,.route-node-visited .route-node-side-front,.route-node-visited .route-node-side-back{filter:saturate(.65) brightness(.94)}.route-node-side-front,.route-node-side-back{transition:filter .16s ease}.route-node.interactive:hover .route-node-top,.route-node.interactive:focus-visible .route-node-top,.route-node.interactive:hover .route-node-side-front,.route-node.interactive:focus-visible .route-node-side-front,.route-node.interactive:hover .route-node-side-back,.route-node.interactive:focus-visible .route-node-side-back{filter:brightness(1.12)}.route-node-highlight{stroke:#ffffff59;stroke-width:1.2px;stroke-linecap:round;opacity:0;transition:opacity .16s ease}.route-node-highlight-front{stroke-width:1.4px}.route-node-highlight-back{stroke:#ffffff2e}.route-node.interactive:hover .route-node-highlight,.route-node.interactive:focus-visible .route-node-highlight{opacity:1}.route-label-bubble{fill:#1e293be6;stroke:#94a3b8b3;stroke-width:1.2px}.route-label-text{fill:#f8fafc;font-weight:600;font-size:calc(12px * var(--font-scale))}.route-label{fill:#e5e7eb;font-size:calc(12px * var(--font-scale))}.encount-bubble rect{fill:#1e3a8aeb;stroke:#fcd34d;stroke-width:2px}.encount-bubble text{fill:#f8fafc;font-size:calc(12px * var(--font-scale));font-weight:600;letter-spacing:.6px}.encount-bubble .bubble-tail{fill:#1e3a8aeb;stroke:#fcd34d;stroke-width:2px}@media (max-width: 1280px){.route-canvas{background:#0c12268c}}@media (max-width: 720px){.screen.route{min-height:auto;padding:32px 16px}.route-canvas{width:calc(100% - 24px);height:clamp(480px,92vh,720px)}.route-svg{width:100%;height:100%}}.level-clear .congrats{font-size:calc(40px * var(--font-scale));background:linear-gradient(90deg,#22d3ee,#7c3aed,#f59e0b);-webkit-background-clip:text;background-clip:text;color:transparent;filter:drop-shadow(0 0 12px #22d3ee66)}@media (max-width: 720px){:root{--cell: 26px}.timer .bar{width:160px}}.opening{position:relative;min-height:calc(100vh - 140px);padding:clamp(32px,6vw,80px)}.opening-hero{position:absolute;top:clamp(32px,10vh,140px);left:clamp(16px,4vw,400px);display:flex;flex-direction:column;align-items:flex-start;gap:16px;max-width:clamp(320px,40vw,640px);text-align:left}.opening-image{max-width:540px;width:100%;height:auto;border-radius:14px;border:1px solid #2b2f55;box-shadow:0 12px 40px #0008}.opening-title{font-size:calc(40px * var(--font-scale));margin:0}.opening-title.cute{font-weight:900;letter-spacing:1.2px;text-shadow:0 2px 0 #0008,0 0 14px #7c3aed66;filter:drop-shadow(0 0 12px #22d3ee55)}.opening .sub{margin:0;text-align:left}.opening .actions{position:absolute;bottom:clamp(64px,12vh,160px);right:clamp(16px,4vw,320px);display:flex;flex-direction:column;gap:16px;width:clamp(220px,24vw,320px)}.opening .actions button{width:100%;transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease}.opening .actions button.focused{transform:translateY(-2px) scale(1.02);box-shadow:0 12px 28px #f9731666;border-color:#f97316b3}.opening .note{position:absolute;bottom:clamp(20px,8vh,100px);right:clamp(16px,4vw,320px);text-align:right}@media (max-width: 720px){.opening{min-height:auto;padding:48px 20px 120px}.opening-hero{position:static;max-width:100%}.opening .actions{position:static;width:100%;margin-top:32px;align-items:stretch}.opening .note{position:static;align-self:flex-end;margin-top:12px}}.gameover{text-align:center}.enemy-victory{text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;min-height:calc(100vh - 120px);color:#f8fafc;background:radial-gradient(circle at top,#0f172ae6,#0f172afa)}.enemy-victory .headline{margin-top:0}.enemy-victory .portrait{max-width:min(320px,80vw);margin:0 auto}.enemy-victory .portrait img{width:100%;border-radius:16px;box-shadow:0 18px 40px #0000008c}.enemy-victory .actions{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.enemy-victory .actions .ghost,.enemy-victory .actions .primary{min-width:140px}.note{color:var(--muted)}.ending{position:relative;min-height:calc(100vh - 120px);display:flex;align-items:center;justify-content:center;color:#f8fafc;text-align:center;padding-top:40px;background-position:center;background-size:cover;background-repeat:no-repeat;background-attachment:fixed}.ending:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(180deg,#0f172ac7,#0f172ae0);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:0}.ending-content{position:relative;z-index:1;display:grid;gap:32px;width:min(90%,720px);margin:0 auto}.story-container{overflow:hidden;height:200px;border-radius:16px;background:linear-gradient(180deg,#0f172a88,#0f172a44);border:1px solid #1e293b;padding:24px 20px;opacity:0}.story-container.play{animation:endingStoryFade .6s ease forwards}.story-scroll{display:grid;gap:18px;font-size:calc(20px * var(--font-scale));font-weight:500;line-height:1.5;transform:translateY(60%);opacity:0}.story-container.play .story-scroll{animation:endingStoryScroll 10s ease-in-out forwards}.story-scroll p{margin:0}.ending-fin{display:grid;gap:12px;opacity:0;transform:translateY(20px) scale(.94);transition:opacity .6s ease,transform .6s ease;font-family:kawaii font,"M PLUS Rounded 1c",sans-serif}.ending-fin.show{opacity:1;transform:translateY(0) scale(1)}.ending-fin-title{font-size:calc(clamp(48px,8vw,72px) * var(--font-scale));letter-spacing:8px;text-shadow:0 0 28px #f9fafb88}.ending-fin-sub{font-size:calc(clamp(20px,4vw,26px) * var(--font-scale));letter-spacing:4px;text-transform:uppercase}.ending-credits{display:grid;gap:18px;opacity:0}.ending-credits.show{opacity:1}.ending-credit-line{display:flex;gap:18px;justify-content:center;font-size:calc(18px * var(--font-scale));text-transform:uppercase;letter-spacing:2px;opacity:0;transform:translate(-120%);animation:endingCreditSlide 4.2s ease-in-out forwards}.ending-credit-role{font-weight:600;color:#cbd5f5}.ending-credit-name{font-weight:800;color:#f1f5f9}@keyframes endingStoryFade{to{opacity:1}}@keyframes endingStoryScroll{0%{transform:translateY(60%);opacity:0}20%{opacity:.45}45%{opacity:1}80%{opacity:1}to{transform:translateY(-55%);opacity:0}}@keyframes endingCreditSlide{0%{opacity:0;transform:translate(-120%)}20%{opacity:1;transform:translate(0)}70%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(120%)}}@keyframes fadeInScale{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes glow{0%{text-shadow:none}50%{text-shadow:0 0 12px #22d3ee88,0 0 24px #7c3aed66}to{text-shadow:none}}.picross-clear-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:clamp(24px,6vw,48px);position:relative;isolation:isolate;color:#e0f2fe}.screen.picross-clear-screen{max-width:none;width:auto;padding:0}.picross-clear-screen:before,.picross-clear-screen:after{content:"";position:fixed;top:0;right:0;bottom:0;left:0;z-index:-2}.picross-clear-screen:before{background:url(../assets/img/background/win_bg.png) center / cover no-repeat}.picross-clear-screen:after{background:linear-gradient(180deg,#0f172ac7,#0f172ad1);z-index:-1}.picross-clear-overlay{width:clamp(1080px,85vw,1650px);margin:0 auto;display:flex;flex-direction:column;gap:clamp(24px,3vw,36px);padding:clamp(28px,3.4vw,40px);background:linear-gradient(160deg,#1e40afeb,#0f172ae0);border:2px solid rgba(221,214,254,.35);border-radius:28px;box-shadow:0 20px 44px #0f172a99,inset 0 0 24px #94c5fd47;overflow:visible}.picross-clear-grid{display:grid;grid-template-columns:minmax(280px,.45fr) minmax(520px,.55fr);gap:clamp(24px,4vw,48px);align-items:stretch;height:100%}.picross-clear-left{display:flex;flex-direction:column;gap:clamp(18px,2.8vw,26px);max-height:100%;min-width:0;flex:1 1 auto;overflow:hidden}.picross-clear-hero{display:flex;flex-direction:column;gap:clamp(14px,2.6vw,22px);align-items:flex-start;text-align:left}.picross-clear-portrait{position:relative;width:clamp(220px,24vw,320px);aspect-ratio:380 / 487;border-radius:24px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#1e40af59;box-shadow:inset 0 0 18px #94c5fd59}.picross-clear-portrait img{width:100%;height:100%;object-fit:cover;object-position:center;display:block;position:relative;z-index:2}.picross-clear-glow{position:absolute;top:-18%;right:-18%;bottom:-18%;left:-18%;background:radial-gradient(65% 65% at 50% 45%,rgba(224,242,254,.55) 0%,rgba(56,189,248,.18) 60%,transparent 100%);filter:blur(16px);opacity:.75;z-index:1}.picross-clear-header{display:flex;flex-direction:column;gap:clamp(8px,1.2vw,14px)}.picross-clear-title{font-size:clamp(2.4rem,4.8vw,3.4rem);font-weight:700;letter-spacing:.08em;color:#e0f2fe;text-shadow:0 6px 18px rgba(15,23,42,.65)}.picross-clear-banner{display:flex;align-items:flex-start;gap:clamp(8px,1.2vw,12px);padding:clamp(10px,1.8vw,16px);border-radius:16px;background:linear-gradient(160deg,#3b82f652,#38bdf82e);border:1px solid rgba(191,219,254,.45);color:#f8fafc;box-shadow:inset 0 0 12px #2563eb33}.picross-clear-banner .banner-label{font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:#fde68a}.picross-clear-banner ul{margin:0;padding-left:clamp(12px,2vw,18px);display:flex;flex-direction:column;gap:4px;font-size:clamp(.95rem,1.6vw,1.1rem)}.picross-clear-banner li{list-style:disc}.picross-clear-subtitle{font-size:clamp(1.1rem,2vw,1.35rem);color:#e2e8f0e6;margin:0}.picross-clear-progress{font-size:clamp(.95rem,1.6vw,1.1rem);color:#e2e8f0d9;margin:0}.picross-clear-unlock-list{padding:clamp(16px,1.6vw,20px);border-radius:18px;background:#0f172a8c;border:1px solid rgba(148,197,253,.28);box-shadow:inset 0 0 14px #1e40af2e;flex:1 1 auto;min-height:clamp(140px,22vh,260px);display:flex;flex-direction:column;overflow:hidden}.picross-clear-unlock-title{margin:0 0 clamp(10px,1.2vw,14px);font-size:clamp(1rem,1.8vw,1.2rem);color:#f8fafc;letter-spacing:.08em}.picross-clear-unlock-items{margin:0;padding-left:clamp(16px,1.6vw,20px);display:flex;flex-direction:column;gap:clamp(6px,1vw,10px);font-size:clamp(.92rem,1.6vw,1.1rem);color:#e0f2feeb;max-height:clamp(200px,28vh,320px);overflow-y:auto}.picross-clear-unlock-items li{list-style:disc}.picross-clear-unlock-empty{margin:0;font-size:clamp(.92rem,1.6vw,1.1rem);color:#e0f2fea6;flex:1 1 auto;display:flex;align-items:center}.picross-clear-collection{display:flex;flex-direction:column;gap:clamp(14px,2vw,20px);height:100%;min-width:0;flex:1 1 auto}.picross-clear-collection-title{font-size:clamp(1.1rem,1.9vw,1.4rem);font-weight:600;letter-spacing:.08em;color:#f8fafc;margin:0}.picross-clear-collection-groups{display:flex;flex-direction:column;gap:clamp(16px,2.2vw,24px)}.picross-clear-board-section{display:flex;flex-direction:column;gap:clamp(10px,1.8vw,18px)}.picross-clear-board-header{display:flex;align-items:center;gap:clamp(10px,1.6vw,16px)}.picross-clear-board-title{font-size:clamp(1rem,1.6vw,1.25rem);letter-spacing:.08em;text-transform:uppercase;color:#f8fafc;margin:0}.picross-clear-board-divider{flex:1;height:1px;background:linear-gradient(90deg,#94a3b814,#94a3b873,#94a3b814);border-radius:999px}.picross-clear-board-wrapper{position:relative;width:min(100%,clamp(520px,70vw,1080px));max-width:100%;min-width:min(100%,clamp(520px,70vw,1080px));min-height:clamp(360px,46vw,720px);margin:0 auto;padding:clamp(18px,2.4vw,26px);border-radius:32px;background:linear-gradient(140deg,#5b422c,#3d2b1b 52%,#2a1d13);box-shadow:inset 0 0 40px #130a04a6,0 26px 40px #0f172a73;display:flex;align-items:stretch;justify-content:center;overflow:hidden;overflow-y:auto}.picross-clear-board-wrapper--small{min-height:clamp(340px,40vw,620px)}.picross-clear-board-wrapper--large{min-height:clamp(240px,32vw,460px);padding-top:clamp(14px,1.8vw,20px);padding-bottom:clamp(16px,1.9vw,22px)}.picross-clear-board-wrapper--scroll{padding-right:clamp(22px,2.8vw,30px)}.picross-clear-board{position:relative;z-index:1;display:grid;grid-template-columns:repeat(5,minmax(120px,1fr));grid-auto-rows:1fr;gap:clamp(8px,1vw,14px);width:100%;align-content:start}.picross-clear-board--large{grid-template-columns:repeat(5,minmax(112px,1fr));gap:clamp(6px,.9vw,12px)}.picross-clear-board--scroll{padding-right:clamp(4px,.8vw,10px)}.picross-clear-slot{position:relative;border-radius:16px;padding:clamp(8px,1vw,12px) clamp(8px,1.1vw,12px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(4px,.8vw,8px);text-align:center;background:#0f172a73;border:1.5px solid rgba(148,197,253,.25);box-shadow:inset 0 0 12px #0f172a73;transition:transform .22s ease,border-color .22s ease,box-shadow .22s ease;min-width:144px}.picross-clear-slot.slot-size-10{min-width:124px;padding:clamp(6px,.9vw,10px) clamp(6px,.9vw,10px)}.slot-badge{position:absolute;top:clamp(6px,1vw,10px);right:clamp(6px,1vw,10px);padding:2px 8px;border-radius:999px;background:linear-gradient(120deg,#facc15e6,#f59e0bcc);color:#1f2937;font-size:clamp(.55rem,1.2vw,.7rem);font-weight:700;letter-spacing:.1em;text-transform:uppercase;box-shadow:0 0 8px #facc1573}.picross-clear-slot.is-locked .slot-meaning{color:#94a3b88c}.picross-clear-slot.slot-practice.is-unlocked{background:#a3e63538;border-color:#bef26499}.picross-clear-slot.slot-easy.is-unlocked{background:#60a5fa33;border-color:#93c5fd8c}.picross-clear-slot.slot-middle.is-unlocked{background:#c4b5fd33;border-color:#ddd6fe8c}.picross-clear-slot.slot-hard.is-unlocked{background:#f871713d;border-color:#fca5a58c}.picross-clear-slot.slot-ultra.is-unlocked{background:#1e293b99;border-color:#94a3b88c}.picross-clear-slot.is-new{animation:slotUnlockPop .42s ease;border-color:#facc15d9;box-shadow:inset 0 0 18px #facc154d,0 0 24px #facc1547}.picross-clear-actions{display:flex;justify-content:flex-end}.picross-clear-actions .primary{min-width:clamp(200px,24%,260px);justify-content:center}.slot-shape{--shape-cols: 5;--shape-gap: clamp(1px, .4vw, 2px);display:grid;grid-template-columns:repeat(var(--shape-cols),1fr);gap:var(--shape-gap);width:min(112px,78%);margin:0 auto clamp(6px,1vw,10px)}.slot-shape-10{--shape-cols: 10;--shape-gap: clamp(.4px, .24vw, 1px);width:min(168px,92%)}.slot-cell{width:100%;aspect-ratio:1;border-radius:4px;background:#94a3b826;box-shadow:inset 0 0 4px #0f172a59;transition:transform .18s ease,background .22s ease,box-shadow .22s ease}.slot-cell.is-filled.is-active{background:linear-gradient(160deg,#60a5fad9,#3b82f6bf);box-shadow:inset 0 0 6px #1e2a4966,0 0 8px #3b82f640}.slot-cell.is-filled:not(.is-active){background:linear-gradient(160deg,#4755698c,#33415573)}.slot-cell.is-new{animation:slotCellPop .34s ease forwards}.slot-meaning{font-size:clamp(.66rem,.95vw,.85rem);color:#f8fafce6;line-height:1.3;letter-spacing:.04em;max-width:100%;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2}.slot-meaning-size-10{font-size:clamp(.58rem,.85vw,.74rem)}@keyframes slotUnlockPop{0%{transform:scale(.6);opacity:0}50%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:1}}@keyframes slotCellPop{0%{transform:scale(.4);opacity:0}60%{transform:scale(1.18);opacity:1}to{transform:scale(1);opacity:1}}@media (max-width: 960px){.picross-clear-grid{grid-template-columns:1fr;gap:clamp(20px,6vw,32px)}.picross-clear-board-wrapper,.picross-clear-board-wrapper--small,.picross-clear-board-wrapper--large{margin-inline:auto;width:100%;min-width:100%}.picross-clear-left{flex-direction:column}.picross-clear-overlay{width:min(94vw,1080px)}.picross-clear-actions{justify-content:center}.picross-clear-board--small,.picross-clear-board--large{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (max-width: 600px){.picross-clear-overlay{padding:clamp(18px,6vw,28px)}.picross-clear-board-wrapper,.picross-clear-board-wrapper--small,.picross-clear-board-wrapper--large{width:min(100%,clamp(280px,92vw,400px));min-width:min(100%,clamp(280px,92vw,400px));min-height:clamp(280px,70vw,520px)}.picross-clear-board--small{grid-template-columns:repeat(3,minmax(0,1fr));gap:clamp(6px,2.4vw,10px)}.picross-clear-board--large{grid-template-columns:repeat(2,minmax(0,1fr));gap:clamp(6px,2.4vw,10px)}}
