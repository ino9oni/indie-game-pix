# Issue: マップモードのエンディング分岐不具合を修正する

## 背景
- ルート構成が仕様通り `bad-ending` / `true-ending` に分岐せず、単一のエンディングに収束している。

## 要件
- ルートノードとエッジを更新し、`middle→bad-ending`、`hard→ultra→true-ending` の分岐を実装する。
- 新しい終端ノードに応じてエンディング演出を変え、データ互換性も確保する。

## 完了条件
- マップ上で分岐が視覚化され、各終端ノードのクリアで対応するエンディングへ遷移する。
- 旧 `elf-ending` を保持したセーブデータでも問題なくプレイを継続できる。
