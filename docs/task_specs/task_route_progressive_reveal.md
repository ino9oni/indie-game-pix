# タスク仕様: マップモードの先行ノード表示制御

## 背景
- 現在のマップモードでは、未到達の先行ノードも常に表示されている。
- TASKLIST の高優先度項目で「次の選択肢より後の選択肢はクリアーまで表示しない」ことが求められている。

## 目的
- プレイヤーが現在進行中のノードと、その直近の到達可能ノードのみ視認できるようにし、進行度を分かりやすくする。

## 要件
1. ノードが可視化される条件を以下に変更する。
   - `start` は常に表示。
   - クリア済みノードは表示。
   - 現在のノードは表示。
   - 親ノードがクリア済み、または現在のノードである場合のみ、その子ノードを表示する。
2. エンディング系ノード（`elf-bad-ending`, `elf-true-ending`）は、それぞれの親ノードがクリアされるまで非表示にする。
3. デバッグモード（Debug: On）の場合は全ノードを表示してよい。
4. 非表示ノードに関連するエッジも表示しない。
5. GAMEDESIGN のルート仕様に可視化条件を追記する。

## 非機能要件
- ノード非表示でも内部データ構造（移動制限など）は従来通り機能すること。
- レイアウト計算（viewBox）は可視ノードに基づき、極端な拡大・縮小が発生しないよう既存ロジックを維持する。

## テスト観点
- 新規プレイ時は `start` と `elf-practice` のみが表示される。
- `elf-practice` をクリアすると `elf-easy` が表示され、さらに `elf-middle`/`elf-hard` は `elf-easy` クリアまで表示されない。
- デバッグモード有効時は全ノードが表示される。
