# タスク仕様: ピクロス対戦モードの実装

## 背景
- 現状のピクロスはプレイヤー単独で1問を解くだけだが、TASKLIST では対戦要素とスペル演出を加える指示がある。
- 難易度ごとに敵AIの進捗速度を変え、プレイヤーと競うモードが必要。

## 目的
- 各難易度ノードでプレイヤーと敵が同時にピクロスを解く対戦体験を提供し、スペル発動による駆け引きを盛り込む。

## 要件
1. **レイアウト**
   - 画面左: プレイヤー用ボード (既存UIをベースにする)。
   - 画面右: 敵用ボード (進捗のみ表示、操作不可)。
   - 上部に共通タイマー、各陣営の進捗バー、スペル発動ログを表示。
2. **勝利条件**
   - 先に3問クリアした陣営が勝利。プレイヤーが先に3問クリアすればステージ突破。敵が先に3問完了でゲームオーバー。
3. **敵AI**
   - 難易度ごとに1セルあたりの解答時間・ミス率を設定。（例：practice=1.4s/15%、easy=1.1s/10%、middle=0.9s/8%、hard=0.75s/5%、ultra=0.6s/3%）
   - 一定間隔で正解マスを順次埋めていく。ミス率に応じて間欠的に誤答処理も行う。
4. **スペル**
   - HERO/各難易度ごとに Tasklist 記載内容のスペルを実装。
   - 発動条件を監視し、条件達成時に演出・効果を適用。
   - スペル発動時は対応するキャラのANGRY画像、スペル名、エフェクト（最低限の視覚/音演出）を表示。
5. **UI/演出**
   - 進捗バー: 各陣営の現在の盤面完成比率を可視化。
   - スペルログ: 最新のスペル効果をテキストで表示。
   - 敵ボードは不完全情報表示。Filledセルは色付き、未解答セルは薄表示。ヒントは表示するが操作不可。
6. **ゲーム進行**
   - プレイヤーがSubmitで正解→次のパズルに遷移、敵側も同様に次パズルへ。
   - 3問完了で勝敗判定。勝利時はルートへ戻る、敗北時はゲームオーバー。
   - Quit/ゲームオーバー時は対戦状態をリセット。
7. **GAMEDESIGN更新**
   - 対戦モード概要、AI速度、スペル仕様を追記。
8. **テスト観点**
   - 各難易度で敵が自律的にマスを埋め、勝敗が決まる。
   - スペル条件を満たすと正しく効果が適用される。
   - 3問目をクリアした陣営で勝敗が決まる。
   - Quit/ゲームオーバーで状態が初期化される。
